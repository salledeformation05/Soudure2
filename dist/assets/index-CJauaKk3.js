function Dm(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ld(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $m(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),s}var Id={exports:{}},_i={},Dd={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nn=Symbol.for("react.element"),zm=Symbol.for("react.portal"),Um=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),Bm=Symbol.for("react.provider"),qm=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.memo"),Km=Symbol.for("react.lazy"),Vo=Symbol.iterator;function Gm(t){return t===null||typeof t!="object"?null:(t=Vo&&t[Vo]||t["@@iterator"],typeof t=="function"?t:null)}var $d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zd=Object.assign,Ud={};function rs(t,e,s){this.props=t,this.context=e,this.refs=Ud,this.updater=s||$d}rs.prototype.isReactComponent={};rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fd(){}Fd.prototype=rs.prototype;function Fl(t,e,s){this.props=t,this.context=e,this.refs=Ud,this.updater=s||$d}var Ml=Fl.prototype=new Fd;Ml.constructor=Fl;zd(Ml,rs.prototype);Ml.isPureReactComponent=!0;var Wo=Array.isArray,Md=Object.prototype.hasOwnProperty,Bl={current:null},Bd={key:!0,ref:!0,__self:!0,__source:!0};function qd(t,e,s){var n,i={},a=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)Md.call(e,n)&&!Bd.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:nn,type:t,key:a,ref:l,props:i,_owner:Bl.current}}function Jm(t,e){return{$$typeof:nn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ql(t){return typeof t=="object"&&t!==null&&t.$$typeof===nn}function Qm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var Ho=/\/+/g;function Yi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qm(""+t.key):e.toString(36)}function $n(t,e,s,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case nn:case zm:l=!0}}if(l)return l=t,i=i(l),t=n===""?"."+Yi(l,0):n,Wo(i)?(s="",t!=null&&(s=t.replace(Ho,"$&/")+"/"),$n(i,e,s,"",function(d){return d})):i!=null&&(ql(i)&&(i=Jm(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Ho,"$&/")+"/")+t)),e.push(i)),1;if(l=0,n=n===""?".":n+":",Wo(t))for(var o=0;o<t.length;o++){a=t[o];var c=n+Yi(a,o);l+=$n(a,e,s,c,i)}else if(c=Gm(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=n+Yi(a,o++),l+=$n(a,e,s,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function pn(t,e,s){if(t==null)return t;var n=[],i=0;return $n(t,n,"","",function(a){return e.call(s,a,i++)}),n}function Ym(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var be={current:null},zn={transition:null},Xm={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:zn,ReactCurrentOwner:Bl};function Vd(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:pn,forEach:function(t,e,s){pn(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return pn(t,function(){e++}),e},toArray:function(t){return pn(t,function(e){return e})||[]},only:function(t){if(!ql(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=rs;U.Fragment=Um;U.Profiler=Mm;U.PureComponent=Fl;U.StrictMode=Fm;U.Suspense=Wm;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xm;U.act=Vd;U.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zd({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=Bl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Md.call(e,c)&&!Bd.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:nn,type:t.type,key:i,ref:a,props:n,_owner:l}};U.createContext=function(t){return t={$$typeof:qm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bm,_context:t},t.Consumer=t};U.createElement=qd;U.createFactory=function(t){var e=qd.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Vm,render:t}};U.isValidElement=ql;U.lazy=function(t){return{$$typeof:Km,_payload:{_status:-1,_result:t},_init:Ym}};U.memo=function(t,e){return{$$typeof:Hm,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=zn.transition;zn.transition={};try{t()}finally{zn.transition=e}};U.unstable_act=Vd;U.useCallback=function(t,e){return be.current.useCallback(t,e)};U.useContext=function(t){return be.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return be.current.useDeferredValue(t)};U.useEffect=function(t,e){return be.current.useEffect(t,e)};U.useId=function(){return be.current.useId()};U.useImperativeHandle=function(t,e,s){return be.current.useImperativeHandle(t,e,s)};U.useInsertionEffect=function(t,e){return be.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return be.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return be.current.useMemo(t,e)};U.useReducer=function(t,e,s){return be.current.useReducer(t,e,s)};U.useRef=function(t){return be.current.useRef(t)};U.useState=function(t){return be.current.useState(t)};U.useSyncExternalStore=function(t,e,s){return be.current.useSyncExternalStore(t,e,s)};U.useTransition=function(){return be.current.useTransition()};U.version="18.3.1";Dd.exports=U;var w=Dd.exports;const Vl=Ld(w),Zm=Dm({__proto__:null,default:Vl},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=w,tx=Symbol.for("react.element"),rx=Symbol.for("react.fragment"),sx=Object.prototype.hasOwnProperty,nx=ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ix={key:!0,ref:!0,__self:!0,__source:!0};function Wd(t,e,s){var n,i={},a=null,l=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)sx.call(e,n)&&!ix.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:tx,type:t,key:a,ref:l,props:i,_owner:nx.current}}_i.Fragment=rx;_i.jsx=Wd;_i.jsxs=Wd;Id.exports=_i;var r=Id.exports,Aa={},Hd={exports:{}},De={},Kd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,L){var $=T.length;T.push(L);e:for(;0<$;){var Y=$-1>>>1,oe=T[Y];if(0<i(oe,L))T[Y]=L,T[$]=oe,$=Y;else break e}}function s(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var L=T[0],$=T.pop();if($!==L){T[0]=$;e:for(var Y=0,oe=T.length,xn=oe>>>1;Y<xn;){var Qt=2*(Y+1)-1,Qi=T[Qt],Yt=Qt+1,fn=T[Yt];if(0>i(Qi,$))Yt<oe&&0>i(fn,Qi)?(T[Y]=fn,T[Yt]=$,Y=Yt):(T[Y]=Qi,T[Qt]=$,Y=Qt);else if(Yt<oe&&0>i(fn,$))T[Y]=fn,T[Yt]=$,Y=Yt;else break e}}return L}function i(T,L){var $=T.sortIndex-L.sortIndex;return $!==0?$:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,g=3,y=!1,j=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var L=s(d);L!==null;){if(L.callback===null)n(d);else if(L.startTime<=T)n(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=s(d)}}function b(T){if(x=!1,p(T),!j)if(s(c)!==null)j=!0,we(N);else{var L=s(d);L!==null&&cs(b,L.startTime-T)}}function N(T,L){j=!1,x&&(x=!1,h(E),E=-1),y=!0;var $=g;try{for(p(L),m=s(c);m!==null&&(!(m.expirationTime>L)||T&&!Te());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,g=m.priorityLevel;var oe=Y(m.expirationTime<=L);L=t.unstable_now(),typeof oe=="function"?m.callback=oe:m===s(c)&&n(c),p(L)}else n(c);m=s(c)}if(m!==null)var xn=!0;else{var Qt=s(d);Qt!==null&&cs(b,Qt.startTime-L),xn=!1}return xn}finally{m=null,g=$,y=!1}}var _=!1,k=null,E=-1,I=5,D=-1;function Te(){return!(t.unstable_now()-D<I)}function Gt(){if(k!==null){var T=t.unstable_now();D=T;var L=!0;try{L=k(!0,T)}finally{L?Jt():(_=!1,k=null)}}else _=!1}var Jt;if(typeof f=="function")Jt=function(){f(Gt)};else if(typeof MessageChannel<"u"){var mn=new MessageChannel,Ji=mn.port2;mn.port1.onmessage=Gt,Jt=function(){Ji.postMessage(null)}}else Jt=function(){v(Gt,0)};function we(T){k=T,_||(_=!0,Jt())}function cs(T,L){E=v(function(){T(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){j||y||(j=!0,we(N))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(T){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var $=g;g=L;try{return T()}finally{g=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=g;g=T;try{return L()}finally{g=$}},t.unstable_scheduleCallback=function(T,L,$){var Y=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,T){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,T={id:u++,callback:L,priorityLevel:T,startTime:$,expirationTime:oe,sortIndex:-1},$>Y?(T.sortIndex=$,e(d,T),s(c)===null&&T===s(d)&&(x?(h(E),E=-1):x=!0,cs(b,$-Y))):(T.sortIndex=oe,e(c,T),j||y||(j=!0,we(N))),T},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(T){var L=g;return function(){var $=g;g=L;try{return T.apply(this,arguments)}finally{g=$}}}})(Gd);Kd.exports=Gd;var ax=Kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=w,Ie=ax;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jd=new Set,$s={};function pr(t,e){Kr(t,e),Kr(t+"Capture",e)}function Kr(t,e){for($s[t]=e,t=0;t<e.length;t++)Jd.add(e[t])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=Object.prototype.hasOwnProperty,ox=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ko={},Go={};function cx(t){return La.call(Go,t)?!0:La.call(Ko,t)?!1:ox.test(t)?Go[t]=!0:(Ko[t]=!0,!1)}function dx(t,e,s,n){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ux(t,e,s,n){if(e===null||typeof e>"u"||dx(t,e,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,s,n,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){me[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];me[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){me[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){me[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){me[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){me[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){me[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){me[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){me[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wl=/[\-:]([a-z])/g;function Hl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wl,Hl);me[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wl,Hl);me[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wl,Hl);me[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){me[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});me.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){me[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kl(t,e,s,n){var i=me.hasOwnProperty(e)?me[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ux(e,s,i,n)&&(s=null),n||i===null?cx(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,n=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?t.setAttributeNS(n,e,s):t.setAttribute(e,s))))}var bt=lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gn=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Gl=Symbol.for("react.strict_mode"),Ia=Symbol.for("react.profiler"),Qd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),Da=Symbol.for("react.suspense"),$a=Symbol.for("react.suspense_list"),Ql=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Xd=Symbol.for("react.offscreen"),Jo=Symbol.iterator;function ds(t){return t===null||typeof t!="object"?null:(t=Jo&&t[Jo]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,Xi;function bs(t){if(Xi===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Xi=e&&e[1]||""}return`
`+Xi+t}var Zi=!1;function ea(t,e){if(!t||Zi)return"";Zi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Zi=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?bs(t):""}function hx(t){switch(t.tag){case 5:return bs(t.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return t=ea(t.type,!1),t;case 11:return t=ea(t.type.render,!1),t;case 1:return t=ea(t.type,!0),t;default:return""}}function za(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pr:return"Fragment";case Cr:return"Portal";case Ia:return"Profiler";case Gl:return"StrictMode";case Da:return"Suspense";case $a:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yd:return(t.displayName||"Context")+".Consumer";case Qd:return(t._context.displayName||"Context")+".Provider";case Jl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ql:return e=t.displayName||null,e!==null?e:za(t.type)||"Memo";case _t:e=t._payload,t=t._init;try{return za(t(e))}catch{}}return null}function mx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return za(e);case 8:return e===Gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xx(t){var e=Zd(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vn(t){t._valueTracker||(t._valueTracker=xx(t))}function eu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=Zd(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function Jn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ua(t,e){var s=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Qo(t,e){var s=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;s=Mt(e.value!=null?e.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tu(t,e){e=e.checked,e!=null&&Kl(t,"checked",e,!1)}function Fa(t,e){tu(t,e);var s=Mt(e.value),n=e.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ma(t,e.type,s):e.hasOwnProperty("defaultValue")&&Ma(t,e.type,Mt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yo(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Ma(t,e,s){(e!=="number"||Jn(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var js=Array.isArray;function Fr(t,e,s,n){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Mt(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ba(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xo(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(S(92));if(js(s)){if(1<s.length)throw Error(S(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:Mt(s)}}function ru(t,e){var s=Mt(e.value),n=Mt(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function Zo(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function su(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?su(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yn,nu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yn=yn||document.createElement("div"),yn.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zs(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fx=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(t){fx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ks[e]=ks[t]})});function iu(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||ks.hasOwnProperty(t)&&ks[t]?(""+e).trim():e+"px"}function au(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=iu(s,e[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,i):t[s]=i}}var px=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Va(t,e){if(e){if(px[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function Wa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ha=null;function Yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ka=null,Mr=null,Br=null;function ec(t){if(t=on(t)){if(typeof Ka!="function")throw Error(S(280));var e=t.stateNode;e&&(e=Pi(e),Ka(t.stateNode,t.type,e))}}function lu(t){Mr?Br?Br.push(t):Br=[t]:Mr=t}function ou(){if(Mr){var t=Mr,e=Br;if(Br=Mr=null,ec(t),e)for(t=0;t<e.length;t++)ec(e[t])}}function cu(t,e){return t(e)}function du(){}var ta=!1;function uu(t,e,s){if(ta)return t(e,s);ta=!0;try{return cu(t,e,s)}finally{ta=!1,(Mr!==null||Br!==null)&&(du(),ou())}}function Us(t,e){var s=t.stateNode;if(s===null)return null;var n=Pi(s);if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(S(231,e,typeof s));return s}var Ga=!1;if(pt)try{var us={};Object.defineProperty(us,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Ga=!1}function gx(t,e,s,n,i,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(u){this.onError(u)}}var Ss=!1,Qn=null,Yn=!1,Ja=null,vx={onError:function(t){Ss=!0,Qn=t}};function yx(t,e,s,n,i,a,l,o,c){Ss=!1,Qn=null,gx.apply(vx,arguments)}function bx(t,e,s,n,i,a,l,o,c){if(yx.apply(this,arguments),Ss){if(Ss){var d=Qn;Ss=!1,Qn=null}else throw Error(S(198));Yn||(Yn=!0,Ja=d)}}function gr(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function hu(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tc(t){if(gr(t)!==t)throw Error(S(188))}function jx(t){var e=t.alternate;if(!e){if(e=gr(t),e===null)throw Error(S(188));return e!==t?null:t}for(var s=t,n=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return tc(i),t;if(a===n)return tc(i),e;a=a.sibling}throw Error(S(188))}if(s.return!==n.return)s=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l)throw Error(S(189))}}if(s.alternate!==n)throw Error(S(190))}if(s.tag!==3)throw Error(S(188));return s.stateNode.current===s?t:e}function mu(t){return t=jx(t),t!==null?xu(t):null}function xu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xu(t);if(e!==null)return e;t=t.sibling}return null}var fu=Ie.unstable_scheduleCallback,rc=Ie.unstable_cancelCallback,wx=Ie.unstable_shouldYield,Nx=Ie.unstable_requestPaint,X=Ie.unstable_now,_x=Ie.unstable_getCurrentPriorityLevel,Xl=Ie.unstable_ImmediatePriority,pu=Ie.unstable_UserBlockingPriority,Xn=Ie.unstable_NormalPriority,kx=Ie.unstable_LowPriority,gu=Ie.unstable_IdlePriority,ki=null,at=null;function Sx(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(ki,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Px,Ex=Math.log,Cx=Math.LN2;function Px(t){return t>>>=0,t===0?32:31-(Ex(t)/Cx|0)|0}var bn=64,jn=4194304;function ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zn(t,e){var s=t.pendingLanes;if(s===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,l=s&268435455;if(l!==0){var o=l&~i;o!==0?n=ws(o):(a&=l,a!==0&&(n=ws(a)))}else l=s&~i,l!==0?n=ws(l):a!==0&&(n=ws(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)s=31-Xe(e),i=1<<s,n|=t[s],e&=~i;return n}function Tx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rx(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Xe(a),o=1<<l,c=i[l];c===-1?(!(o&s)||o&n)&&(i[l]=Tx(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}}function Qa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vu(){var t=bn;return bn<<=1,!(bn&4194240)&&(bn=64),t}function ra(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function an(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=s}function Ox(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-Xe(s),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,s&=~a}}function Zl(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-Xe(s),i=1<<n;i&e|t[n]&e&&(t[n]|=e),s&=~i}}var M=0;function yu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bu,eo,ju,wu,Nu,Ya=!1,wn=[],Ot=null,At=null,Lt=null,Fs=new Map,Ms=new Map,St=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(t,e){switch(t){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(e.pointerId)}}function hs(t,e,s,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=on(e),e!==null&&eo(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lx(t,e,s,n,i){switch(e){case"focusin":return Ot=hs(Ot,t,e,s,n,i),!0;case"dragenter":return At=hs(At,t,e,s,n,i),!0;case"mouseover":return Lt=hs(Lt,t,e,s,n,i),!0;case"pointerover":var a=i.pointerId;return Fs.set(a,hs(Fs.get(a)||null,t,e,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ms.set(a,hs(Ms.get(a)||null,t,e,s,n,i)),!0}return!1}function _u(t){var e=ir(t.target);if(e!==null){var s=gr(e);if(s!==null){if(e=s.tag,e===13){if(e=hu(s),e!==null){t.blockedOn=e,Nu(t.priority,function(){ju(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Un(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=Xa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);Ha=n,s.target.dispatchEvent(n),Ha=null}else return e=on(s),e!==null&&eo(e),t.blockedOn=s,!1;e.shift()}return!0}function nc(t,e,s){Un(t)&&s.delete(e)}function Ix(){Ya=!1,Ot!==null&&Un(Ot)&&(Ot=null),At!==null&&Un(At)&&(At=null),Lt!==null&&Un(Lt)&&(Lt=null),Fs.forEach(nc),Ms.forEach(nc)}function ms(t,e){t.blockedOn===e&&(t.blockedOn=null,Ya||(Ya=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,Ix)))}function Bs(t){function e(i){return ms(i,t)}if(0<wn.length){ms(wn[0],t);for(var s=1;s<wn.length;s++){var n=wn[s];n.blockedOn===t&&(n.blockedOn=null)}}for(Ot!==null&&ms(Ot,t),At!==null&&ms(At,t),Lt!==null&&ms(Lt,t),Fs.forEach(e),Ms.forEach(e),s=0;s<St.length;s++)n=St[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<St.length&&(s=St[0],s.blockedOn===null);)_u(s),s.blockedOn===null&&St.shift()}var qr=bt.ReactCurrentBatchConfig,ei=!0;function Dx(t,e,s,n){var i=M,a=qr.transition;qr.transition=null;try{M=1,to(t,e,s,n)}finally{M=i,qr.transition=a}}function $x(t,e,s,n){var i=M,a=qr.transition;qr.transition=null;try{M=4,to(t,e,s,n)}finally{M=i,qr.transition=a}}function to(t,e,s,n){if(ei){var i=Xa(t,e,s,n);if(i===null)ha(t,e,n,ti,s),sc(t,n);else if(Lx(i,t,e,s,n))n.stopPropagation();else if(sc(t,n),e&4&&-1<Ax.indexOf(t)){for(;i!==null;){var a=on(i);if(a!==null&&bu(a),a=Xa(t,e,s,n),a===null&&ha(t,e,n,ti,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else ha(t,e,n,null,s)}}var ti=null;function Xa(t,e,s,n){if(ti=null,t=Yl(n),t=ir(t),t!==null)if(e=gr(t),e===null)t=null;else if(s=e.tag,s===13){if(t=hu(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ti=t,null}function ku(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_x()){case Xl:return 1;case pu:return 4;case Xn:case kx:return 16;case gu:return 536870912;default:return 16}default:return 16}}var Pt=null,ro=null,Fn=null;function Su(){if(Fn)return Fn;var t,e=ro,s=e.length,n,i="value"in Pt?Pt.value:Pt.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var l=s-t;for(n=1;n<=l&&e[s-n]===i[a-n];n++);return Fn=i.slice(t,1<n?1-n:void 0)}function Mn(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nn(){return!0}function ic(){return!1}function $e(t){function e(s,n,i,a,l){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(s=t[o],this[o]=s?s(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nn:ic,this.isPropagationStopped=ic,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),e}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=$e(ss),ln=J({},ss,{view:0,detail:0}),zx=$e(ln),sa,na,xs,Si=J({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:no,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(sa=t.screenX-xs.screenX,na=t.screenY-xs.screenY):na=sa=0,xs=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:na}}),ac=$e(Si),Ux=J({},Si,{dataTransfer:0}),Fx=$e(Ux),Mx=J({},ln,{relatedTarget:0}),ia=$e(Mx),Bx=J({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),qx=$e(Bx),Vx=J({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wx=$e(Vx),Hx=J({},ss,{data:0}),lc=$e(Hx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jx[t])?!!e[t]:!1}function no(){return Qx}var Yx=J({},ln,{key:function(t){if(t.key){var e=Kx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:no,charCode:function(t){return t.type==="keypress"?Mn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xx=$e(Yx),Zx=J({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=$e(Zx),e0=J({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:no}),t0=$e(e0),r0=J({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),s0=$e(r0),n0=J({},Si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=$e(n0),a0=[9,13,27,32],io=pt&&"CompositionEvent"in window,Es=null;pt&&"documentMode"in document&&(Es=document.documentMode);var l0=pt&&"TextEvent"in window&&!Es,Eu=pt&&(!io||Es&&8<Es&&11>=Es),cc=" ",dc=!1;function Cu(t,e){switch(t){case"keyup":return a0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function o0(t,e){switch(t){case"compositionend":return Pu(e);case"keypress":return e.which!==32?null:(dc=!0,cc);case"textInput":return t=e.data,t===cc&&dc?null:t;default:return null}}function c0(t,e){if(Tr)return t==="compositionend"||!io&&Cu(t,e)?(t=Su(),Fn=ro=Pt=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Eu&&e.locale!=="ko"?null:e.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!d0[t.type]:e==="textarea"}function Tu(t,e,s,n){lu(n),e=ri(e,"onChange"),0<e.length&&(s=new so("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var Cs=null,qs=null;function u0(t){Mu(t,0)}function Ei(t){var e=Ar(t);if(eu(e))return t}function h0(t,e){if(t==="change")return e}var Ru=!1;if(pt){var aa;if(pt){var la="oninput"in document;if(!la){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),la=typeof hc.oninput=="function"}aa=la}else aa=!1;Ru=aa&&(!document.documentMode||9<document.documentMode)}function mc(){Cs&&(Cs.detachEvent("onpropertychange",Ou),qs=Cs=null)}function Ou(t){if(t.propertyName==="value"&&Ei(qs)){var e=[];Tu(e,qs,t,Yl(t)),uu(u0,e)}}function m0(t,e,s){t==="focusin"?(mc(),Cs=e,qs=s,Cs.attachEvent("onpropertychange",Ou)):t==="focusout"&&mc()}function x0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ei(qs)}function f0(t,e){if(t==="click")return Ei(e)}function p0(t,e){if(t==="input"||t==="change")return Ei(e)}function g0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:g0;function Vs(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!La.call(e,i)||!et(t[i],e[i]))return!1}return!0}function xc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fc(t,e){var s=xc(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xc(s)}}function Au(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Au(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lu(){for(var t=window,e=Jn();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Jn(t.document)}return e}function ao(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v0(t){var e=Lu(),s=t.focusedElem,n=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&Au(s.ownerDocument.documentElement,s)){if(n!==null&&ao(s)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=fc(s,a);var l=fc(s,n);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y0=pt&&"documentMode"in document&&11>=document.documentMode,Rr=null,Za=null,Ps=null,el=!1;function pc(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;el||Rr==null||Rr!==Jn(n)||(n=Rr,"selectionStart"in n&&ao(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ps&&Vs(Ps,n)||(Ps=n,n=ri(Za,"onSelect"),0<n.length&&(e=new so("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=Rr)))}function _n(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Or={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionend:_n("Transition","TransitionEnd")},oa={},Iu={};pt&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Ci(t){if(oa[t])return oa[t];if(!Or[t])return t;var e=Or[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Iu)return oa[t]=e[s];return t}var Du=Ci("animationend"),$u=Ci("animationiteration"),zu=Ci("animationstart"),Uu=Ci("transitionend"),Fu=new Map,gc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qt(t,e){Fu.set(t,e),pr(e,[t])}for(var ca=0;ca<gc.length;ca++){var da=gc[ca],b0=da.toLowerCase(),j0=da[0].toUpperCase()+da.slice(1);qt(b0,"on"+j0)}qt(Du,"onAnimationEnd");qt($u,"onAnimationIteration");qt(zu,"onAnimationStart");qt("dblclick","onDoubleClick");qt("focusin","onFocus");qt("focusout","onBlur");qt(Uu,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function vc(t,e,s){var n=t.type||"unknown-event";t.currentTarget=s,bx(n,e,void 0,t),t.currentTarget=null}function Mu(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;vc(i,o,d),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;vc(i,o,d),a=c}}}if(Yn)throw t=Ja,Yn=!1,Ja=null,t}function V(t,e){var s=e[il];s===void 0&&(s=e[il]=new Set);var n=t+"__bubble";s.has(n)||(Bu(e,t,2,!1),s.add(n))}function ua(t,e,s){var n=0;e&&(n|=4),Bu(s,t,n,e)}var kn="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[kn]){t[kn]=!0,Jd.forEach(function(s){s!=="selectionchange"&&(w0.has(s)||ua(s,!1,t),ua(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kn]||(e[kn]=!0,ua("selectionchange",!1,e))}}function Bu(t,e,s,n){switch(ku(e)){case 1:var i=Dx;break;case 4:i=$x;break;default:i=to}s=i.bind(null,e,s,t),i=void 0,!Ga||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function ha(t,e,s,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=ir(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}uu(function(){var d=a,u=Yl(s),m=[];e:{var g=Fu.get(t);if(g!==void 0){var y=so,j=t;switch(t){case"keypress":if(Mn(s)===0)break e;case"keydown":case"keyup":y=Xx;break;case"focusin":j="focus",y=ia;break;case"focusout":j="blur",y=ia;break;case"beforeblur":case"afterblur":y=ia;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=t0;break;case Du:case $u:case zu:y=qx;break;case Uu:y=s0;break;case"scroll":y=zx;break;case"wheel":y=i0;break;case"copy":case"cut":case"paste":y=Wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=oc}var x=(e&4)!==0,v=!x&&t==="scroll",h=x?g!==null?g+"Capture":null:g;x=[];for(var f=d,p;f!==null;){p=f;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,h!==null&&(b=Us(f,h),b!=null&&x.push(Hs(f,b,p)))),v)break;f=f.return}0<x.length&&(g=new y(g,j,null,s,u),m.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&s!==Ha&&(j=s.relatedTarget||s.fromElement)&&(ir(j)||j[gt]))break e;if((y||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,y?(j=s.relatedTarget||s.toElement,y=d,j=j?ir(j):null,j!==null&&(v=gr(j),j!==v||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=d),y!==j)){if(x=ac,b="onMouseLeave",h="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(x=oc,b="onPointerLeave",h="onPointerEnter",f="pointer"),v=y==null?g:Ar(y),p=j==null?g:Ar(j),g=new x(b,f+"leave",y,s,u),g.target=v,g.relatedTarget=p,b=null,ir(u)===d&&(x=new x(h,f+"enter",j,s,u),x.target=p,x.relatedTarget=v,b=x),v=b,y&&j)t:{for(x=y,h=j,f=0,p=x;p;p=yr(p))f++;for(p=0,b=h;b;b=yr(b))p++;for(;0<f-p;)x=yr(x),f--;for(;0<p-f;)h=yr(h),p--;for(;f--;){if(x===h||h!==null&&x===h.alternate)break t;x=yr(x),h=yr(h)}x=null}else x=null;y!==null&&yc(m,g,y,x,!1),j!==null&&v!==null&&yc(m,v,j,x,!0)}}e:{if(g=d?Ar(d):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var N=h0;else if(uc(g))if(Ru)N=p0;else{N=x0;var _=m0}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=f0);if(N&&(N=N(t,d))){Tu(m,N,s,u);break e}_&&_(t,g,d),t==="focusout"&&(_=g._wrapperState)&&_.controlled&&g.type==="number"&&Ma(g,"number",g.value)}switch(_=d?Ar(d):window,t){case"focusin":(uc(_)||_.contentEditable==="true")&&(Rr=_,Za=d,Ps=null);break;case"focusout":Ps=Za=Rr=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,pc(m,s,u);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":pc(m,s,u)}var k;if(io)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Tr?Cu(t,s)&&(E="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(E="onCompositionStart");E&&(Eu&&s.locale!=="ko"&&(Tr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Tr&&(k=Su()):(Pt=u,ro="value"in Pt?Pt.value:Pt.textContent,Tr=!0)),_=ri(d,E),0<_.length&&(E=new lc(E,t,null,s,u),m.push({event:E,listeners:_}),k?E.data=k:(k=Pu(s),k!==null&&(E.data=k)))),(k=l0?o0(t,s):c0(t,s))&&(d=ri(d,"onBeforeInput"),0<d.length&&(u=new lc("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=k))}Mu(m,e)})}function Hs(t,e,s){return{instance:t,listener:e,currentTarget:s}}function ri(t,e){for(var s=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Us(t,s),a!=null&&n.unshift(Hs(t,a,i)),a=Us(t,e),a!=null&&n.push(Hs(t,a,i))),t=t.return}return n}function yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yc(t,e,s,n,i){for(var a=e._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,i?(c=Us(s,a),c!=null&&l.unshift(Hs(s,c,o))):i||(c=Us(s,a),c!=null&&l.push(Hs(s,c,o)))),s=s.return}l.length!==0&&t.push({event:e,listeners:l})}var N0=/\r\n?/g,_0=/\u0000|\uFFFD/g;function bc(t){return(typeof t=="string"?t:""+t).replace(N0,`
`).replace(_0,"")}function Sn(t,e,s){if(e=bc(e),bc(t)!==e&&s)throw Error(S(425))}function si(){}var tl=null,rl=null;function sl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nl=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,jc=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof jc<"u"?function(t){return jc.resolve(null).then(t).catch(E0)}:nl;function E0(t){setTimeout(function(){throw t})}function ma(t,e){var s=e,n=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){t.removeChild(i),Bs(e);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);Bs(e)}function It(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),it="__reactFiber$"+ns,Ks="__reactProps$"+ns,gt="__reactContainer$"+ns,il="__reactEvents$"+ns,C0="__reactListeners$"+ns,P0="__reactHandles$"+ns;function ir(t){var e=t[it];if(e)return e;for(var s=t.parentNode;s;){if(e=s[gt]||s[it]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=wc(t);t!==null;){if(s=t[it])return s;t=wc(t)}return e}t=s,s=t.parentNode}return null}function on(t){return t=t[it]||t[gt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function Pi(t){return t[Ks]||null}var al=[],Lr=-1;function Vt(t){return{current:t}}function W(t){0>Lr||(t.current=al[Lr],al[Lr]=null,Lr--)}function q(t,e){Lr++,al[Lr]=t.current,t.current=e}var Bt={},ge=Vt(Bt),Ee=Vt(!1),ur=Bt;function Gr(t,e){var s=t.type.contextTypes;if(!s)return Bt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ce(t){return t=t.childContextTypes,t!=null}function ni(){W(Ee),W(ge)}function Nc(t,e,s){if(ge.current!==Bt)throw Error(S(168));q(ge,e),q(Ee,s)}function qu(t,e,s){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(S(108,mx(t)||"Unknown",i));return J({},s,n)}function ii(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,ur=ge.current,q(ge,t),q(Ee,Ee.current),!0}function _c(t,e,s){var n=t.stateNode;if(!n)throw Error(S(169));s?(t=qu(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,W(Ee),W(ge),q(ge,t)):W(Ee),q(Ee,s)}var ht=null,Ti=!1,xa=!1;function Vu(t){ht===null?ht=[t]:ht.push(t)}function T0(t){Ti=!0,Vu(t)}function Wt(){if(!xa&&ht!==null){xa=!0;var t=0,e=M;try{var s=ht;for(M=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}ht=null,Ti=!1}catch(i){throw ht!==null&&(ht=ht.slice(t+1)),fu(Xl,Wt),i}finally{M=e,xa=!1}}return null}var Ir=[],Dr=0,ai=null,li=0,Ue=[],Fe=0,hr=null,mt=1,xt="";function er(t,e){Ir[Dr++]=li,Ir[Dr++]=ai,ai=t,li=e}function Wu(t,e,s){Ue[Fe++]=mt,Ue[Fe++]=xt,Ue[Fe++]=hr,hr=t;var n=mt;t=xt;var i=32-Xe(n)-1;n&=~(1<<i),s+=1;var a=32-Xe(e)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,mt=1<<32-Xe(e)+i|s<<i|n,xt=a+t}else mt=1<<a|s<<i|n,xt=t}function lo(t){t.return!==null&&(er(t,1),Wu(t,1,0))}function oo(t){for(;t===ai;)ai=Ir[--Dr],Ir[Dr]=null,li=Ir[--Dr],Ir[Dr]=null;for(;t===hr;)hr=Ue[--Fe],Ue[Fe]=null,xt=Ue[--Fe],Ue[Fe]=null,mt=Ue[--Fe],Ue[Fe]=null}var Le=null,Ae=null,H=!1,Ye=null;function Hu(t,e){var s=Me(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function kc(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,Ae=It(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,Ae=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=hr!==null?{id:mt,overflow:xt}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Me(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Le=t,Ae=null,!0):!1;default:return!1}}function ll(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ol(t){if(H){var e=Ae;if(e){var s=e;if(!kc(t,e)){if(ll(t))throw Error(S(418));e=It(s.nextSibling);var n=Le;e&&kc(t,e)?Hu(n,s):(t.flags=t.flags&-4097|2,H=!1,Le=t)}}else{if(ll(t))throw Error(S(418));t.flags=t.flags&-4097|2,H=!1,Le=t}}}function Sc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function En(t){if(t!==Le)return!1;if(!H)return Sc(t),H=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sl(t.type,t.memoizedProps)),e&&(e=Ae)){if(ll(t))throw Ku(),Error(S(418));for(;e;)Hu(t,e),e=It(e.nextSibling)}if(Sc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){Ae=It(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}Ae=null}}else Ae=Le?It(t.stateNode.nextSibling):null;return!0}function Ku(){for(var t=Ae;t;)t=It(t.nextSibling)}function Jr(){Ae=Le=null,H=!1}function co(t){Ye===null?Ye=[t]:Ye.push(t)}var R0=bt.ReactCurrentBatchConfig;function fs(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(S(309));var n=s.stateNode}if(!n)throw Error(S(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(S(284));if(!s._owner)throw Error(S(290,t))}return t}function Cn(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ec(t){var e=t._init;return e(t._payload)}function Gu(t){function e(h,f){if(t){var p=h.deletions;p===null?(h.deletions=[f],h.flags|=16):p.push(f)}}function s(h,f){if(!t)return null;for(;f!==null;)e(h,f),f=f.sibling;return null}function n(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function i(h,f){return h=Ut(h,f),h.index=0,h.sibling=null,h}function a(h,f,p){return h.index=p,t?(p=h.alternate,p!==null?(p=p.index,p<f?(h.flags|=2,f):p):(h.flags|=2,f)):(h.flags|=1048576,f)}function l(h){return t&&h.alternate===null&&(h.flags|=2),h}function o(h,f,p,b){return f===null||f.tag!==6?(f=ja(p,h.mode,b),f.return=h,f):(f=i(f,p),f.return=h,f)}function c(h,f,p,b){var N=p.type;return N===Pr?u(h,f,p.props.children,b,p.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_t&&Ec(N)===f.type)?(b=i(f,p.props),b.ref=fs(h,f,p),b.return=h,b):(b=Gn(p.type,p.key,p.props,null,h.mode,b),b.ref=fs(h,f,p),b.return=h,b)}function d(h,f,p,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=wa(p,h.mode,b),f.return=h,f):(f=i(f,p.children||[]),f.return=h,f)}function u(h,f,p,b,N){return f===null||f.tag!==7?(f=dr(p,h.mode,b,N),f.return=h,f):(f=i(f,p),f.return=h,f)}function m(h,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ja(""+f,h.mode,p),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case gn:return p=Gn(f.type,f.key,f.props,null,h.mode,p),p.ref=fs(h,null,f),p.return=h,p;case Cr:return f=wa(f,h.mode,p),f.return=h,f;case _t:var b=f._init;return m(h,b(f._payload),p)}if(js(f)||ds(f))return f=dr(f,h.mode,p,null),f.return=h,f;Cn(h,f)}return null}function g(h,f,p,b){var N=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:o(h,f,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gn:return p.key===N?c(h,f,p,b):null;case Cr:return p.key===N?d(h,f,p,b):null;case _t:return N=p._init,g(h,f,N(p._payload),b)}if(js(p)||ds(p))return N!==null?null:u(h,f,p,b,null);Cn(h,p)}return null}function y(h,f,p,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return h=h.get(p)||null,o(f,h,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gn:return h=h.get(b.key===null?p:b.key)||null,c(f,h,b,N);case Cr:return h=h.get(b.key===null?p:b.key)||null,d(f,h,b,N);case _t:var _=b._init;return y(h,f,p,_(b._payload),N)}if(js(b)||ds(b))return h=h.get(p)||null,u(f,h,b,N,null);Cn(f,b)}return null}function j(h,f,p,b){for(var N=null,_=null,k=f,E=f=0,I=null;k!==null&&E<p.length;E++){k.index>E?(I=k,k=null):I=k.sibling;var D=g(h,k,p[E],b);if(D===null){k===null&&(k=I);break}t&&k&&D.alternate===null&&e(h,k),f=a(D,f,E),_===null?N=D:_.sibling=D,_=D,k=I}if(E===p.length)return s(h,k),H&&er(h,E),N;if(k===null){for(;E<p.length;E++)k=m(h,p[E],b),k!==null&&(f=a(k,f,E),_===null?N=k:_.sibling=k,_=k);return H&&er(h,E),N}for(k=n(h,k);E<p.length;E++)I=y(k,h,E,p[E],b),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?E:I.key),f=a(I,f,E),_===null?N=I:_.sibling=I,_=I);return t&&k.forEach(function(Te){return e(h,Te)}),H&&er(h,E),N}function x(h,f,p,b){var N=ds(p);if(typeof N!="function")throw Error(S(150));if(p=N.call(p),p==null)throw Error(S(151));for(var _=N=null,k=f,E=f=0,I=null,D=p.next();k!==null&&!D.done;E++,D=p.next()){k.index>E?(I=k,k=null):I=k.sibling;var Te=g(h,k,D.value,b);if(Te===null){k===null&&(k=I);break}t&&k&&Te.alternate===null&&e(h,k),f=a(Te,f,E),_===null?N=Te:_.sibling=Te,_=Te,k=I}if(D.done)return s(h,k),H&&er(h,E),N;if(k===null){for(;!D.done;E++,D=p.next())D=m(h,D.value,b),D!==null&&(f=a(D,f,E),_===null?N=D:_.sibling=D,_=D);return H&&er(h,E),N}for(k=n(h,k);!D.done;E++,D=p.next())D=y(k,h,E,D.value,b),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?E:D.key),f=a(D,f,E),_===null?N=D:_.sibling=D,_=D);return t&&k.forEach(function(Gt){return e(h,Gt)}),H&&er(h,E),N}function v(h,f,p,b){if(typeof p=="object"&&p!==null&&p.type===Pr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case gn:e:{for(var N=p.key,_=f;_!==null;){if(_.key===N){if(N=p.type,N===Pr){if(_.tag===7){s(h,_.sibling),f=i(_,p.props.children),f.return=h,h=f;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_t&&Ec(N)===_.type){s(h,_.sibling),f=i(_,p.props),f.ref=fs(h,_,p),f.return=h,h=f;break e}s(h,_);break}else e(h,_);_=_.sibling}p.type===Pr?(f=dr(p.props.children,h.mode,b,p.key),f.return=h,h=f):(b=Gn(p.type,p.key,p.props,null,h.mode,b),b.ref=fs(h,f,p),b.return=h,h=b)}return l(h);case Cr:e:{for(_=p.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){s(h,f.sibling),f=i(f,p.children||[]),f.return=h,h=f;break e}else{s(h,f);break}else e(h,f);f=f.sibling}f=wa(p,h.mode,b),f.return=h,h=f}return l(h);case _t:return _=p._init,v(h,f,_(p._payload),b)}if(js(p))return j(h,f,p,b);if(ds(p))return x(h,f,p,b);Cn(h,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(s(h,f.sibling),f=i(f,p),f.return=h,h=f):(s(h,f),f=ja(p,h.mode,b),f.return=h,h=f),l(h)):s(h,f)}return v}var Qr=Gu(!0),Ju=Gu(!1),oi=Vt(null),ci=null,$r=null,uo=null;function ho(){uo=$r=ci=null}function mo(t){var e=oi.current;W(oi),t._currentValue=e}function cl(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function Vr(t,e){ci=t,uo=$r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function Ve(t){var e=t._currentValue;if(uo!==t)if(t={context:t,memoizedValue:e,next:null},$r===null){if(ci===null)throw Error(S(308));$r=t,ci.dependencies={lanes:0,firstContext:t}}else $r=$r.next=t;return e}var ar=null;function xo(t){ar===null?ar=[t]:ar.push(t)}function Qu(t,e,s,n){var i=e.interleaved;return i===null?(s.next=s,xo(e)):(s.next=i.next,i.next=s),e.interleaved=s,vt(t,n)}function vt(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var kt=!1;function fo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ft(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dt(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,vt(t,s)}return i=n.interleaved,i===null?(e.next=e,xo(n)):(e.next=i.next,i.next=e),n.interleaved=e,vt(t,s)}function Bn(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,Zl(t,s)}}function Cc(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=l:a=a.next=l,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function di(t,e,s,n){var i=t.updateQueue;kt=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;l=0,u=d=c=null,o=a;do{var g=o.lane,y=o.eventTime;if((n&g)===g){u!==null&&(u=u.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=t,x=o;switch(g=e,y=s,x.tag){case 1:if(j=x.payload,typeof j=="function"){m=j.call(y,m,g);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=x.payload,g=typeof j=="function"?j.call(y,m,g):j,g==null)break e;m=J({},m,g);break e;case 2:kt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else y={eventTime:y,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=y,c=m):u=u.next=y,l|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(u===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);xr|=l,t.lanes=l,t.memoizedState=m}}function Pc(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(S(191,i));i.call(n)}}}var cn={},lt=Vt(cn),Gs=Vt(cn),Js=Vt(cn);function lr(t){if(t===cn)throw Error(S(174));return t}function po(t,e){switch(q(Js,e),q(Gs,t),q(lt,cn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qa(e,t)}W(lt),q(lt,e)}function Yr(){W(lt),W(Gs),W(Js)}function Xu(t){lr(Js.current);var e=lr(lt.current),s=qa(e,t.type);e!==s&&(q(Gs,t),q(lt,s))}function go(t){Gs.current===t&&(W(lt),W(Gs))}var K=Vt(0);function ui(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fa=[];function vo(){for(var t=0;t<fa.length;t++)fa[t]._workInProgressVersionPrimary=null;fa.length=0}var qn=bt.ReactCurrentDispatcher,pa=bt.ReactCurrentBatchConfig,mr=0,G=null,ae=null,ce=null,hi=!1,Ts=!1,Qs=0,O0=0;function xe(){throw Error(S(321))}function yo(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!et(t[s],e[s]))return!1;return!0}function bo(t,e,s,n,i,a){if(mr=a,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qn.current=t===null||t.memoizedState===null?D0:$0,t=s(n,i),Ts){a=0;do{if(Ts=!1,Qs=0,25<=a)throw Error(S(301));a+=1,ce=ae=null,e.updateQueue=null,qn.current=z0,t=s(n,i)}while(Ts)}if(qn.current=mi,e=ae!==null&&ae.next!==null,mr=0,ce=ae=G=null,hi=!1,e)throw Error(S(300));return t}function jo(){var t=Qs!==0;return Qs=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?G.memoizedState=ce=t:ce=ce.next=t,ce}function We(){if(ae===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=ce===null?G.memoizedState:ce.next;if(e!==null)ce=e,ae=t;else{if(t===null)throw Error(S(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ce===null?G.memoizedState=ce=t:ce=ce.next=t}return ce}function Ys(t,e){return typeof e=="function"?e(t):e}function ga(t){var e=We(),s=e.queue;if(s===null)throw Error(S(311));s.lastRenderedReducer=t;var n=ae,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((mr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,G.lanes|=u,xr|=u}d=d.next}while(d!==null&&d!==a);c===null?l=n:c.next=o,et(n,e.memoizedState)||(Se=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,s.lastRenderedState=n}if(t=s.interleaved,t!==null){i=t;do a=i.lane,G.lanes|=a,xr|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function va(t){var e=We(),s=e.queue;if(s===null)throw Error(S(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);et(a,e.memoizedState)||(Se=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,n]}function Zu(){}function eh(t,e){var s=G,n=We(),i=e(),a=!et(n.memoizedState,i);if(a&&(n.memoizedState=i,Se=!0),n=n.queue,wo(sh.bind(null,s,n,t),[t]),n.getSnapshot!==e||a||ce!==null&&ce.memoizedState.tag&1){if(s.flags|=2048,Xs(9,rh.bind(null,s,n,i,e),void 0,null),de===null)throw Error(S(349));mr&30||th(s,e,i)}return i}function th(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function rh(t,e,s,n){e.value=s,e.getSnapshot=n,nh(e)&&ih(t)}function sh(t,e,s){return s(function(){nh(e)&&ih(t)})}function nh(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!et(t,s)}catch{return!0}}function ih(t){var e=vt(t,1);e!==null&&Ze(e,t,1,-1)}function Tc(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=I0.bind(null,G,t),[e.memoizedState,t]}function Xs(t,e,s,n){return t={tag:t,create:e,destroy:s,deps:n,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t)),t}function ah(){return We().memoizedState}function Vn(t,e,s,n){var i=st();G.flags|=t,i.memoizedState=Xs(1|e,s,void 0,n===void 0?null:n)}function Ri(t,e,s,n){var i=We();n=n===void 0?null:n;var a=void 0;if(ae!==null){var l=ae.memoizedState;if(a=l.destroy,n!==null&&yo(n,l.deps)){i.memoizedState=Xs(e,s,a,n);return}}G.flags|=t,i.memoizedState=Xs(1|e,s,a,n)}function Rc(t,e){return Vn(8390656,8,t,e)}function wo(t,e){return Ri(2048,8,t,e)}function lh(t,e){return Ri(4,2,t,e)}function oh(t,e){return Ri(4,4,t,e)}function ch(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dh(t,e,s){return s=s!=null?s.concat([t]):null,Ri(4,4,ch.bind(null,e,t),s)}function No(){}function uh(t,e){var s=We();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&yo(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function hh(t,e){var s=We();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&yo(e,n[1])?n[0]:(t=t(),s.memoizedState=[t,e],t)}function mh(t,e,s){return mr&21?(et(s,e)||(s=vu(),G.lanes|=s,xr|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=s)}function A0(t,e){var s=M;M=s!==0&&4>s?s:4,t(!0);var n=pa.transition;pa.transition={};try{t(!1),e()}finally{M=s,pa.transition=n}}function xh(){return We().memoizedState}function L0(t,e,s){var n=zt(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},fh(t))ph(e,s);else if(s=Qu(t,e,s,n),s!==null){var i=ye();Ze(s,t,n,i),gh(s,e,n)}}function I0(t,e,s){var n=zt(t),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(fh(t))ph(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,o=a(l,s);if(i.hasEagerState=!0,i.eagerState=o,et(o,l)){var c=e.interleaved;c===null?(i.next=i,xo(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}s=Qu(t,e,i,n),s!==null&&(i=ye(),Ze(s,t,n,i),gh(s,e,n))}}function fh(t){var e=t.alternate;return t===G||e!==null&&e===G}function ph(t,e){Ts=hi=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function gh(t,e,s){if(s&4194240){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,Zl(t,s)}}var mi={readContext:Ve,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},D0={readContext:Ve,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:Rc,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,Vn(4194308,4,ch.bind(null,e,t),s)},useLayoutEffect:function(t,e){return Vn(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vn(4,2,t,e)},useMemo:function(t,e){var s=st();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var n=st();return e=s!==void 0?s(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=L0.bind(null,G,t),[n.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:Tc,useDebugValue:No,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=Tc(!1),e=t[0];return t=A0.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var n=G,i=st();if(H){if(s===void 0)throw Error(S(407));s=s()}else{if(s=e(),de===null)throw Error(S(349));mr&30||th(n,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,Rc(sh.bind(null,n,a,t),[t]),n.flags|=2048,Xs(9,rh.bind(null,n,a,s,e),void 0,null),s},useId:function(){var t=st(),e=de.identifierPrefix;if(H){var s=xt,n=mt;s=(n&~(1<<32-Xe(n)-1)).toString(32)+s,e=":"+e+"R"+s,s=Qs++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=O0++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$0={readContext:Ve,useCallback:uh,useContext:Ve,useEffect:wo,useImperativeHandle:dh,useInsertionEffect:lh,useLayoutEffect:oh,useMemo:hh,useReducer:ga,useRef:ah,useState:function(){return ga(Ys)},useDebugValue:No,useDeferredValue:function(t){var e=We();return mh(e,ae.memoizedState,t)},useTransition:function(){var t=ga(Ys)[0],e=We().memoizedState;return[t,e]},useMutableSource:Zu,useSyncExternalStore:eh,useId:xh,unstable_isNewReconciler:!1},z0={readContext:Ve,useCallback:uh,useContext:Ve,useEffect:wo,useImperativeHandle:dh,useInsertionEffect:lh,useLayoutEffect:oh,useMemo:hh,useReducer:va,useRef:ah,useState:function(){return va(Ys)},useDebugValue:No,useDeferredValue:function(t){var e=We();return ae===null?e.memoizedState=t:mh(e,ae.memoizedState,t)},useTransition:function(){var t=va(Ys)[0],e=We().memoizedState;return[t,e]},useMutableSource:Zu,useSyncExternalStore:eh,useId:xh,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function dl(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:J({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Oi={isMounted:function(t){return(t=t._reactInternals)?gr(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var n=ye(),i=zt(t),a=ft(n,i);a.payload=e,s!=null&&(a.callback=s),e=Dt(t,a,i),e!==null&&(Ze(e,t,i,n),Bn(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=ye(),i=zt(t),a=ft(n,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=Dt(t,a,i),e!==null&&(Ze(e,t,i,n),Bn(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=ye(),n=zt(t),i=ft(s,n);i.tag=2,e!=null&&(i.callback=e),e=Dt(t,i,n),e!==null&&(Ze(e,t,n,s),Bn(e,t,n))}};function Oc(t,e,s,n,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,l):e.prototype&&e.prototype.isPureReactComponent?!Vs(s,n)||!Vs(i,a):!0}function vh(t,e,s){var n=!1,i=Bt,a=e.contextType;return typeof a=="object"&&a!==null?a=Ve(a):(i=Ce(e)?ur:ge.current,n=e.contextTypes,a=(n=n!=null)?Gr(t,i):Bt),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ac(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&Oi.enqueueReplaceState(e,e.state,null)}function ul(t,e,s,n){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},fo(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ve(a):(a=Ce(e)?ur:ge.current,i.context=Gr(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(dl(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Oi.enqueueReplaceState(i,i.state,null),di(t,s,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xr(t,e){try{var s="",n=e;do s+=hx(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ya(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function hl(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function yh(t,e,s){s=ft(-1,s),s.tag=3,s.payload={element:null};var n=e.value;return s.callback=function(){fi||(fi=!0,wl=n),hl(t,e)},s}function bh(t,e,s){s=ft(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;s.payload=function(){return n(i)},s.callback=function(){hl(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){hl(t,e),typeof n!="function"&&($t===null?$t=new Set([this]):$t.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),s}function Lc(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new U0;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(s)||(i.add(s),t=Z0.bind(null,t,e,s),e.then(t,t))}function Ic(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dc(t,e,s,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=ft(-1,1),e.tag=2,Dt(s,e,1))),s.lanes|=1),t)}var F0=bt.ReactCurrentOwner,Se=!1;function ve(t,e,s,n){e.child=t===null?Ju(e,null,s,n):Qr(e,t.child,s,n)}function $c(t,e,s,n,i){s=s.render;var a=e.ref;return Vr(e,i),n=bo(t,e,s,n,a,i),s=jo(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yt(t,e,i)):(H&&s&&lo(e),e.flags|=1,ve(t,e,n,i),e.child)}function zc(t,e,s,n,i){if(t===null){var a=s.type;return typeof a=="function"&&!Ro(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,jh(t,e,a,n,i)):(t=Gn(s.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var l=a.memoizedProps;if(s=s.compare,s=s!==null?s:Vs,s(l,n)&&t.ref===e.ref)return yt(t,e,i)}return e.flags|=1,t=Ut(a,n),t.ref=e.ref,t.return=e,e.child=t}function jh(t,e,s,n,i){if(t!==null){var a=t.memoizedProps;if(Vs(a,n)&&t.ref===e.ref)if(Se=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,yt(t,e,i)}return ml(t,e,s,n,i)}function wh(t,e,s){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Ur,Oe),Oe|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(Ur,Oe),Oe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,q(Ur,Oe),Oe|=n}else a!==null?(n=a.baseLanes|s,e.memoizedState=null):n=s,q(Ur,Oe),Oe|=n;return ve(t,e,i,s),e.child}function Nh(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function ml(t,e,s,n,i){var a=Ce(s)?ur:ge.current;return a=Gr(e,a),Vr(e,i),s=bo(t,e,s,n,a,i),n=jo(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yt(t,e,i)):(H&&n&&lo(e),e.flags|=1,ve(t,e,s,i),e.child)}function Uc(t,e,s,n,i){if(Ce(s)){var a=!0;ii(e)}else a=!1;if(Vr(e,i),e.stateNode===null)Wn(t,e),vh(e,s,n),ul(e,s,n,i),n=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Ve(d):(d=Ce(s)?ur:ge.current,d=Gr(e,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Ac(e,l,n,d),kt=!1;var g=e.memoizedState;l.state=g,di(e,n,l,i),c=e.memoizedState,o!==n||g!==c||Ee.current||kt?(typeof u=="function"&&(dl(e,s,u,n),c=e.memoizedState),(o=kt||Oc(e,s,o,n,g,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,Yu(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:Ge(e.type,o),l.props=d,m=e.pendingProps,g=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ve(c):(c=Ce(s)?ur:ge.current,c=Gr(e,c));var y=s.getDerivedStateFromProps;(u=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||g!==c)&&Ac(e,l,n,c),kt=!1,g=e.memoizedState,l.state=g,di(e,n,l,i);var j=e.memoizedState;o!==m||g!==j||Ee.current||kt?(typeof y=="function"&&(dl(e,s,y,n),j=e.memoizedState),(d=kt||Oc(e,s,d,n,g,j,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,j,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,j,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=j),l.props=n,l.state=j,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return xl(t,e,s,n,a,i)}function xl(t,e,s,n,i,a){Nh(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return i&&_c(e,s,!1),yt(t,e,a);n=e.stateNode,F0.current=e;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=Qr(e,t.child,null,a),e.child=Qr(e,null,o,a)):ve(t,e,o,a),e.memoizedState=n.state,i&&_c(e,s,!0),e.child}function _h(t){var e=t.stateNode;e.pendingContext?Nc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nc(t,e.context,!1),po(t,e.containerInfo)}function Fc(t,e,s,n,i){return Jr(),co(i),e.flags|=256,ve(t,e,s,n),e.child}var fl={dehydrated:null,treeContext:null,retryLane:0};function pl(t){return{baseLanes:t,cachePool:null,transitions:null}}function kh(t,e,s){var n=e.pendingProps,i=K.current,a=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),q(K,i&1),t===null)return ol(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,a?(n=e.mode,a=e.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Ii(l,n,0,null),t=dr(t,n,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=pl(s),e.memoizedState=fl,t):_o(e,l));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return M0(t,e,l,n,o,i,s);if(a){a=n.fallback,l=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ut(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ut(o,a):(a=dr(a,l,s,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,l=t.child.memoizedState,l=l===null?pl(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~s,e.memoizedState=fl,n}return a=t.child,t=a.sibling,n=Ut(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=s),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n}function _o(t,e){return e=Ii({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pn(t,e,s,n){return n!==null&&co(n),Qr(e,t.child,null,s),t=_o(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M0(t,e,s,n,i,a,l){if(s)return e.flags&256?(e.flags&=-257,n=ya(Error(S(422))),Pn(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Ii({mode:"visible",children:n.children},i,0,null),a=dr(a,i,l,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Qr(e,t.child,null,l),e.child.memoizedState=pl(l),e.memoizedState=fl,a);if(!(e.mode&1))return Pn(t,e,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(S(419)),n=ya(a,n,void 0),Pn(t,e,l,n)}if(o=(l&t.childLanes)!==0,Se||o){if(n=de,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,vt(t,i),Ze(n,t,i,-1))}return To(),n=ya(Error(S(421))),Pn(t,e,l,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ef.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ae=It(i.nextSibling),Le=e,H=!0,Ye=null,t!==null&&(Ue[Fe++]=mt,Ue[Fe++]=xt,Ue[Fe++]=hr,mt=t.id,xt=t.overflow,hr=e),e=_o(e,n.children),e.flags|=4096,e)}function Mc(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),cl(t.return,e,s)}function ba(t,e,s,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function Sh(t,e,s){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ve(t,e,n.children,s),n=K.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mc(t,s,e);else if(t.tag===19)Mc(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(q(K,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&ui(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),ba(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ui(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}ba(e,!0,s,null,a);break;case"together":ba(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wn(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yt(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,s=Ut(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Ut(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function B0(t,e,s){switch(e.tag){case 3:_h(e),Jr();break;case 5:Xu(e);break;case 1:Ce(e.type)&&ii(e);break;case 4:po(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;q(oi,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(q(K,K.current&1),e.flags|=128,null):s&e.child.childLanes?kh(t,e,s):(q(K,K.current&1),t=yt(t,e,s),t!==null?t.sibling:null);q(K,K.current&1);break;case 19:if(n=(s&e.childLanes)!==0,t.flags&128){if(n)return Sh(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(K,K.current),n)break;return null;case 22:case 23:return e.lanes=0,wh(t,e,s)}return yt(t,e,s)}var Eh,gl,Ch,Ph;Eh=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};gl=function(){};Ch=function(t,e,s,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,lr(lt.current);var a=null;switch(s){case"input":i=Ua(t,i),n=Ua(t,n),a=[];break;case"select":i=J({},i,{value:void 0}),n=J({},n,{value:void 0}),a=[];break;case"textarea":i=Ba(t,i),n=Ba(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=si)}Va(s,n);var l;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($s.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($s.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&V("scroll",t),a||o===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};Ph=function(t,e,s,n){s!==n&&(e.flags|=4)};function ps(t,e){if(!H)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function q0(t,e,s){var n=e.pendingProps;switch(oo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return Ce(e.type)&&ni(),fe(e),null;case 3:return n=e.stateNode,Yr(),W(Ee),W(ge),vo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(En(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(kl(Ye),Ye=null))),gl(t,e),fe(e),null;case 5:go(e);var i=lr(Js.current);if(s=e.type,t!==null&&e.stateNode!=null)Ch(t,e,s,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(S(166));return fe(e),null}if(t=lr(lt.current),En(e)){n=e.stateNode,s=e.type;var a=e.memoizedProps;switch(n[it]=e,n[Ks]=a,t=(e.mode&1)!==0,s){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(i=0;i<Ns.length;i++)V(Ns[i],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":Qo(n,a),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},V("invalid",n);break;case"textarea":Xo(n,a),V("invalid",n)}Va(s,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Sn(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Sn(n.textContent,o,t),i=["children",""+o]):$s.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&V("scroll",n)}switch(s){case"input":vn(n),Yo(n,a,!0);break;case"textarea":vn(n),Zo(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=si)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=su(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(s,{is:n.is}):(t=l.createElement(s),s==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,s),t[it]=e,t[Ks]=n,Eh(t,e,!1,!1),e.stateNode=t;e:{switch(l=Wa(s,n),s){case"dialog":V("cancel",t),V("close",t),i=n;break;case"iframe":case"object":case"embed":V("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ns.length;i++)V(Ns[i],t);i=n;break;case"source":V("error",t),i=n;break;case"img":case"image":case"link":V("error",t),V("load",t),i=n;break;case"details":V("toggle",t),i=n;break;case"input":Qo(t,n),i=Ua(t,n),V("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=J({},n,{value:void 0}),V("invalid",t);break;case"textarea":Xo(t,n),i=Ba(t,n),V("invalid",t);break;default:i=n}Va(s,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?au(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nu(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&zs(t,c):typeof c=="number"&&zs(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($s.hasOwnProperty(a)?c!=null&&a==="onScroll"&&V("scroll",t):c!=null&&Kl(t,a,c,l))}switch(s){case"input":vn(t),Yo(t,n,!1);break;case"textarea":vn(t),Zo(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mt(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Fr(t,!!n.multiple,a,!1):n.defaultValue!=null&&Fr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=si)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(t&&e.stateNode!=null)Ph(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(S(166));if(s=lr(Js.current),lr(lt.current),En(e)){if(n=e.stateNode,s=e.memoizedProps,n[it]=e,(a=n.nodeValue!==s)&&(t=Le,t!==null))switch(t.tag){case 3:Sn(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sn(n.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[it]=e,e.stateNode=n}return fe(e),null;case 13:if(W(K),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(H&&Ae!==null&&e.mode&1&&!(e.flags&128))Ku(),Jr(),e.flags|=98560,a=!1;else if(a=En(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(S(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(S(317));a[it]=e}else Jr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),a=!1}else Ye!==null&&(kl(Ye),Ye=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?le===0&&(le=3):To())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return Yr(),gl(t,e),t===null&&Ws(e.stateNode.containerInfo),fe(e),null;case 10:return mo(e.type._context),fe(e),null;case 17:return Ce(e.type)&&ni(),fe(e),null;case 19:if(W(K),a=e.memoizedState,a===null)return fe(e),null;if(n=(e.flags&128)!==0,l=a.rendering,l===null)if(n)ps(a,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ui(t),l!==null){for(e.flags|=128,ps(a,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=s,s=e.child;s!==null;)a=s,t=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return q(K,K.current&1|2),e.child}t=t.sibling}a.tail!==null&&X()>Zr&&(e.flags|=128,n=!0,ps(a,!1),e.lanes=4194304)}else{if(!n)if(t=ui(l),t!==null){if(e.flags|=128,n=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),ps(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!H)return fe(e),null}else 2*X()-a.renderingStartTime>Zr&&s!==1073741824&&(e.flags|=128,n=!0,ps(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(s=a.last,s!==null?s.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=X(),e.sibling=null,s=K.current,q(K,n?s&1|2:s&1),e):(fe(e),null);case 22:case 23:return Po(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Oe&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function V0(t,e){switch(oo(e),e.tag){case 1:return Ce(e.type)&&ni(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yr(),W(Ee),W(ge),vo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return go(e),null;case 13:if(W(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Jr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(K),null;case 4:return Yr(),null;case 10:return mo(e.type._context),null;case 22:case 23:return Po(),null;case 24:return null;default:return null}}var Tn=!1,pe=!1,W0=typeof WeakSet=="function"?WeakSet:Set,P=null;function zr(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Q(t,e,n)}else s.current=null}function vl(t,e,s){try{s()}catch(n){Q(t,e,n)}}var Bc=!1;function H0(t,e){if(tl=ei,t=Lu(),ao(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=t,g=null;t:for(;;){for(var y;m!==s||i!==0&&m.nodeType!==3||(o=l+i),m!==a||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===s&&++d===i&&(o=l),g===a&&++u===n&&(c=l),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(rl={focusedElem:t,selectionRange:s},ei=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var x=j.memoizedProps,v=j.memoizedState,h=e.stateNode,f=h.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ge(e.type,x),v);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(b){Q(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return j=Bc,Bc=!1,j}function Rs(t,e,s){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&vl(e,s,a)}i=i.next}while(i!==n)}}function Ai(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==e)}}function yl(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function Th(t){var e=t.alternate;e!==null&&(t.alternate=null,Th(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[it],delete e[Ks],delete e[il],delete e[C0],delete e[P0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rh(t){return t.tag===5||t.tag===3||t.tag===4}function qc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bl(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=si));else if(n!==4&&(t=t.child,t!==null))for(bl(t,e,s),t=t.sibling;t!==null;)bl(t,e,s),t=t.sibling}function jl(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(jl(t,e,s),t=t.sibling;t!==null;)jl(t,e,s),t=t.sibling}var ue=null,Je=!1;function jt(t,e,s){for(s=s.child;s!==null;)Oh(t,e,s),s=s.sibling}function Oh(t,e,s){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(ki,s)}catch{}switch(s.tag){case 5:pe||zr(s,e);case 6:var n=ue,i=Je;ue=null,jt(t,e,s),ue=n,Je=i,ue!==null&&(Je?(t=ue,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):ue.removeChild(s.stateNode));break;case 18:ue!==null&&(Je?(t=ue,s=s.stateNode,t.nodeType===8?ma(t.parentNode,s):t.nodeType===1&&ma(t,s),Bs(t)):ma(ue,s.stateNode));break;case 4:n=ue,i=Je,ue=s.stateNode.containerInfo,Je=!0,jt(t,e,s),ue=n,Je=i;break;case 0:case 11:case 14:case 15:if(!pe&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&vl(s,e,l),i=i.next}while(i!==n)}jt(t,e,s);break;case 1:if(!pe&&(zr(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){Q(s,e,o)}jt(t,e,s);break;case 21:jt(t,e,s);break;case 22:s.mode&1?(pe=(n=pe)||s.memoizedState!==null,jt(t,e,s),pe=n):jt(t,e,s);break;default:jt(t,e,s)}}function Vc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new W0),e.forEach(function(n){var i=tf.bind(null,t,n);s.has(n)||(s.add(n),n.then(i,i))})}}function He(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:ue=o.stateNode,Je=!1;break e;case 3:ue=o.stateNode.containerInfo,Je=!0;break e;case 4:ue=o.stateNode.containerInfo,Je=!0;break e}o=o.return}if(ue===null)throw Error(S(160));Oh(a,l,i),ue=null,Je=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Q(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ah(e,t),e=e.sibling}function Ah(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),rt(t),n&4){try{Rs(3,t,t.return),Ai(3,t)}catch(x){Q(t,t.return,x)}try{Rs(5,t,t.return)}catch(x){Q(t,t.return,x)}}break;case 1:He(e,t),rt(t),n&512&&s!==null&&zr(s,s.return);break;case 5:if(He(e,t),rt(t),n&512&&s!==null&&zr(s,s.return),t.flags&32){var i=t.stateNode;try{zs(i,"")}catch(x){Q(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=s!==null?s.memoizedProps:a,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&tu(i,a),Wa(o,l);var d=Wa(o,a);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?au(i,m):u==="dangerouslySetInnerHTML"?nu(i,m):u==="children"?zs(i,m):Kl(i,u,m,d)}switch(o){case"input":Fa(i,a);break;case"textarea":ru(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Fr(i,!!a.multiple,y,!1):g!==!!a.multiple&&(a.defaultValue!=null?Fr(i,!!a.multiple,a.defaultValue,!0):Fr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ks]=a}catch(x){Q(t,t.return,x)}}break;case 6:if(He(e,t),rt(t),n&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){Q(t,t.return,x)}}break;case 3:if(He(e,t),rt(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Bs(e.containerInfo)}catch(x){Q(t,t.return,x)}break;case 4:He(e,t),rt(t);break;case 13:He(e,t),rt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Eo=X())),n&4&&Vc(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(pe=(d=pe)||u,He(e,t),pe=d):He(e,t),rt(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(P=t,u=t.child;u!==null;){for(m=P=u;P!==null;){switch(g=P,y=g.child,g.tag){case 0:case 11:case 14:case 15:Rs(4,g,g.return);break;case 1:zr(g,g.return);var j=g.stateNode;if(typeof j.componentWillUnmount=="function"){n=g,s=g.return;try{e=n,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(x){Q(n,s,x)}}break;case 5:zr(g,g.return);break;case 22:if(g.memoizedState!==null){Hc(m);continue}}y!==null?(y.return=g,P=y):Hc(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{i=m.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=iu("display",l))}catch(x){Q(t,t.return,x)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){Q(t,t.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:He(e,t),rt(t),n&4&&Vc(t);break;case 21:break;default:He(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(Rh(s)){var n=s;break e}s=s.return}throw Error(S(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zs(i,""),n.flags&=-33);var a=qc(t);jl(t,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=qc(t);bl(t,o,l);break;default:throw Error(S(161))}}catch(c){Q(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K0(t,e,s){P=t,Lh(t)}function Lh(t,e,s){for(var n=(t.mode&1)!==0;P!==null;){var i=P,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Tn;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||pe;o=Tn;var d=pe;if(Tn=l,(pe=c)&&!d)for(P=i;P!==null;)l=P,c=l.child,l.tag===22&&l.memoizedState!==null?Kc(i):c!==null?(c.return=l,P=c):Kc(i);for(;a!==null;)P=a,Lh(a),a=a.sibling;P=i,Tn=o,pe=d}Wc(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,P=a):Wc(t)}}function Wc(t){for(;P!==null;){var e=P;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pe||Ai(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pe)if(s===null)n.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:Ge(e.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Pc(e,a,n);break;case 3:var l=e.updateQueue;if(l!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Pc(e,l,s)}break;case 5:var o=e.stateNode;if(s===null&&e.flags&4){s=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Bs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}pe||e.flags&512&&yl(e)}catch(g){Q(e,e.return,g)}}if(e===t){P=null;break}if(s=e.sibling,s!==null){s.return=e.return,P=s;break}P=e.return}}function Hc(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var s=e.sibling;if(s!==null){s.return=e.return,P=s;break}P=e.return}}function Kc(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Ai(4,e)}catch(c){Q(e,s,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Q(e,i,c)}}var a=e.return;try{yl(e)}catch(c){Q(e,a,c)}break;case 5:var l=e.return;try{yl(e)}catch(c){Q(e,l,c)}}}catch(c){Q(e,e.return,c)}if(e===t){P=null;break}var o=e.sibling;if(o!==null){o.return=e.return,P=o;break}P=e.return}}var G0=Math.ceil,xi=bt.ReactCurrentDispatcher,ko=bt.ReactCurrentOwner,Be=bt.ReactCurrentBatchConfig,F=0,de=null,se=null,he=0,Oe=0,Ur=Vt(0),le=0,Zs=null,xr=0,Li=0,So=0,Os=null,_e=null,Eo=0,Zr=1/0,dt=null,fi=!1,wl=null,$t=null,Rn=!1,Tt=null,pi=0,As=0,Nl=null,Hn=-1,Kn=0;function ye(){return F&6?X():Hn!==-1?Hn:Hn=X()}function zt(t){return t.mode&1?F&2&&he!==0?he&-he:R0.transition!==null?(Kn===0&&(Kn=vu()),Kn):(t=M,t!==0||(t=window.event,t=t===void 0?16:ku(t.type)),t):1}function Ze(t,e,s,n){if(50<As)throw As=0,Nl=null,Error(S(185));an(t,s,n),(!(F&2)||t!==de)&&(t===de&&(!(F&2)&&(Li|=s),le===4&&Et(t,he)),Pe(t,n),s===1&&F===0&&!(e.mode&1)&&(Zr=X()+500,Ti&&Wt()))}function Pe(t,e){var s=t.callbackNode;Rx(t,e);var n=Zn(t,t===de?he:0);if(n===0)s!==null&&rc(s),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(s!=null&&rc(s),e===1)t.tag===0?T0(Gc.bind(null,t)):Vu(Gc.bind(null,t)),S0(function(){!(F&6)&&Wt()}),s=null;else{switch(yu(n)){case 1:s=Xl;break;case 4:s=pu;break;case 16:s=Xn;break;case 536870912:s=gu;break;default:s=Xn}s=Bh(s,Ih.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function Ih(t,e){if(Hn=-1,Kn=0,F&6)throw Error(S(327));var s=t.callbackNode;if(Wr()&&t.callbackNode!==s)return null;var n=Zn(t,t===de?he:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=gi(t,n);else{e=n;var i=F;F|=2;var a=$h();(de!==t||he!==e)&&(dt=null,Zr=X()+500,cr(t,e));do try{Y0();break}catch(o){Dh(t,o)}while(!0);ho(),xi.current=a,F=i,se!==null?e=0:(de=null,he=0,e=le)}if(e!==0){if(e===2&&(i=Qa(t),i!==0&&(n=i,e=_l(t,i))),e===1)throw s=Zs,cr(t,0),Et(t,n),Pe(t,X()),s;if(e===6)Et(t,n);else{if(i=t.current.alternate,!(n&30)&&!J0(i)&&(e=gi(t,n),e===2&&(a=Qa(t),a!==0&&(n=a,e=_l(t,a))),e===1))throw s=Zs,cr(t,0),Et(t,n),Pe(t,X()),s;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(S(345));case 2:tr(t,_e,dt);break;case 3:if(Et(t,n),(n&130023424)===n&&(e=Eo+500-X(),10<e)){if(Zn(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nl(tr.bind(null,t,_e,dt),e);break}tr(t,_e,dt);break;case 4:if(Et(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var l=31-Xe(n);a=1<<l,l=e[l],l>i&&(i=l),n&=~a}if(n=i,n=X()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*G0(n/1960))-n,10<n){t.timeoutHandle=nl(tr.bind(null,t,_e,dt),n);break}tr(t,_e,dt);break;case 5:tr(t,_e,dt);break;default:throw Error(S(329))}}}return Pe(t,X()),t.callbackNode===s?Ih.bind(null,t):null}function _l(t,e){var s=Os;return t.current.memoizedState.isDehydrated&&(cr(t,e).flags|=256),t=gi(t,e),t!==2&&(e=_e,_e=s,e!==null&&kl(e)),t}function kl(t){_e===null?_e=t:_e.push.apply(_e,t)}function J0(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!et(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Et(t,e){for(e&=~So,e&=~Li,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Xe(e),n=1<<s;t[s]=-1,e&=~n}}function Gc(t){if(F&6)throw Error(S(327));Wr();var e=Zn(t,0);if(!(e&1))return Pe(t,X()),null;var s=gi(t,e);if(t.tag!==0&&s===2){var n=Qa(t);n!==0&&(e=n,s=_l(t,n))}if(s===1)throw s=Zs,cr(t,0),Et(t,e),Pe(t,X()),s;if(s===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tr(t,_e,dt),Pe(t,X()),null}function Co(t,e){var s=F;F|=1;try{return t(e)}finally{F=s,F===0&&(Zr=X()+500,Ti&&Wt())}}function fr(t){Tt!==null&&Tt.tag===0&&!(F&6)&&Wr();var e=F;F|=1;var s=Be.transition,n=M;try{if(Be.transition=null,M=1,t)return t()}finally{M=n,Be.transition=s,F=e,!(F&6)&&Wt()}}function Po(){Oe=Ur.current,W(Ur)}function cr(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,k0(s)),se!==null)for(s=se.return;s!==null;){var n=s;switch(oo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ni();break;case 3:Yr(),W(Ee),W(ge),vo();break;case 5:go(n);break;case 4:Yr();break;case 13:W(K);break;case 19:W(K);break;case 10:mo(n.type._context);break;case 22:case 23:Po()}s=s.return}if(de=t,se=t=Ut(t.current,null),he=Oe=e,le=0,Zs=null,So=Li=xr=0,_e=Os=null,ar!==null){for(e=0;e<ar.length;e++)if(s=ar[e],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}s.pending=n}ar=null}return t}function Dh(t,e){do{var s=se;try{if(ho(),qn.current=mi,hi){for(var n=G.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hi=!1}if(mr=0,ce=ae=G=null,Ts=!1,Qs=0,ko.current=null,s===null||s.return===null){le=1,Zs=e,se=null;break}e:{var a=t,l=s.return,o=s,c=e;if(e=he,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=Ic(l);if(y!==null){y.flags&=-257,Dc(y,l,o,a,e),y.mode&1&&Lc(a,d,e),e=y,c=d;var j=e.updateQueue;if(j===null){var x=new Set;x.add(c),e.updateQueue=x}else j.add(c);break e}else{if(!(e&1)){Lc(a,d,e),To();break e}c=Error(S(426))}}else if(H&&o.mode&1){var v=Ic(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Dc(v,l,o,a,e),co(Xr(c,o));break e}}a=c=Xr(c,o),le!==4&&(le=2),Os===null?Os=[a]:Os.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var h=yh(a,c,e);Cc(a,h);break e;case 1:o=c;var f=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($t===null||!$t.has(p)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=bh(a,o,e);Cc(a,b);break e}}a=a.return}while(a!==null)}Uh(s)}catch(N){e=N,se===s&&s!==null&&(se=s=s.return);continue}break}while(!0)}function $h(){var t=xi.current;return xi.current=mi,t===null?mi:t}function To(){(le===0||le===3||le===2)&&(le=4),de===null||!(xr&268435455)&&!(Li&268435455)||Et(de,he)}function gi(t,e){var s=F;F|=2;var n=$h();(de!==t||he!==e)&&(dt=null,cr(t,e));do try{Q0();break}catch(i){Dh(t,i)}while(!0);if(ho(),F=s,xi.current=n,se!==null)throw Error(S(261));return de=null,he=0,le}function Q0(){for(;se!==null;)zh(se)}function Y0(){for(;se!==null&&!wx();)zh(se)}function zh(t){var e=Mh(t.alternate,t,Oe);t.memoizedProps=t.pendingProps,e===null?Uh(t):se=e,ko.current=null}function Uh(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=V0(s,e),s!==null){s.flags&=32767,se=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,se=null;return}}else if(s=q0(s,e,Oe),s!==null){se=s;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);le===0&&(le=5)}function tr(t,e,s){var n=M,i=Be.transition;try{Be.transition=null,M=1,X0(t,e,s,n)}finally{Be.transition=i,M=n}return null}function X0(t,e,s,n){do Wr();while(Tt!==null);if(F&6)throw Error(S(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(Ox(t,a),t===de&&(se=de=null,he=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Rn||(Rn=!0,Bh(Xn,function(){return Wr(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Be.transition,Be.transition=null;var l=M;M=1;var o=F;F|=4,ko.current=null,H0(t,s),Ah(s,t),v0(rl),ei=!!tl,rl=tl=null,t.current=s,K0(s),Nx(),F=o,M=l,Be.transition=a}else t.current=s;if(Rn&&(Rn=!1,Tt=t,pi=i),a=t.pendingLanes,a===0&&($t=null),Sx(s.stateNode),Pe(t,X()),e!==null)for(n=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(fi)throw fi=!1,t=wl,wl=null,t;return pi&1&&t.tag!==0&&Wr(),a=t.pendingLanes,a&1?t===Nl?As++:(As=0,Nl=t):As=0,Wt(),null}function Wr(){if(Tt!==null){var t=yu(pi),e=Be.transition,s=M;try{if(Be.transition=null,M=16>t?16:t,Tt===null)var n=!1;else{if(t=Tt,Tt=null,pi=0,F&6)throw Error(S(331));var i=F;for(F|=4,P=t.current;P!==null;){var a=P,l=a.child;if(P.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(P=d;P!==null;){var u=P;switch(u.tag){case 0:case 11:case 15:Rs(8,u,a)}var m=u.child;if(m!==null)m.return=u,P=m;else for(;P!==null;){u=P;var g=u.sibling,y=u.return;if(Th(u),u===d){P=null;break}if(g!==null){g.return=y,P=g;break}P=y}}}var j=a.alternate;if(j!==null){var x=j.child;if(x!==null){j.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}P=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,P=l;else e:for(;P!==null;){if(a=P,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rs(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,P=h;break e}P=a.return}}var f=t.current;for(P=f;P!==null;){l=P;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,P=p;else e:for(l=f;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ai(9,o)}}catch(N){Q(o,o.return,N)}if(o===l){P=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,P=b;break e}P=o.return}}if(F=i,Wt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(ki,t)}catch{}n=!0}return n}finally{M=s,Be.transition=e}}return!1}function Jc(t,e,s){e=Xr(s,e),e=yh(t,e,1),t=Dt(t,e,1),e=ye(),t!==null&&(an(t,1,e),Pe(t,e))}function Q(t,e,s){if(t.tag===3)Jc(t,t,s);else for(;e!==null;){if(e.tag===3){Jc(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($t===null||!$t.has(n))){t=Xr(s,t),t=bh(e,t,1),e=Dt(e,t,1),t=ye(),e!==null&&(an(e,1,t),Pe(e,t));break}}e=e.return}}function Z0(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&s,de===t&&(he&s)===s&&(le===4||le===3&&(he&130023424)===he&&500>X()-Eo?cr(t,0):So|=s),Pe(t,e)}function Fh(t,e){e===0&&(t.mode&1?(e=jn,jn<<=1,!(jn&130023424)&&(jn=4194304)):e=1);var s=ye();t=vt(t,e),t!==null&&(an(t,e,s),Pe(t,s))}function ef(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Fh(t,s)}function tf(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(e),Fh(t,s)}var Mh;Mh=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)Se=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return Se=!1,B0(t,e,s);Se=!!(t.flags&131072)}else Se=!1,H&&e.flags&1048576&&Wu(e,li,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wn(t,e),t=e.pendingProps;var i=Gr(e,ge.current);Vr(e,s),i=bo(null,e,n,t,i,s);var a=jo();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ce(n)?(a=!0,ii(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fo(e),i.updater=Oi,e.stateNode=i,i._reactInternals=e,ul(e,n,t,s),e=xl(null,e,n,!0,a,s)):(e.tag=0,H&&a&&lo(e),ve(null,e,i,s),e=e.child),e;case 16:n=e.elementType;e:{switch(Wn(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=sf(n),t=Ge(n,t),i){case 0:e=ml(null,e,n,t,s);break e;case 1:e=Uc(null,e,n,t,s);break e;case 11:e=$c(null,e,n,t,s);break e;case 14:e=zc(null,e,n,Ge(n.type,t),s);break e}throw Error(S(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ge(n,i),ml(t,e,n,i,s);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ge(n,i),Uc(t,e,n,i,s);case 3:e:{if(_h(e),t===null)throw Error(S(387));n=e.pendingProps,a=e.memoizedState,i=a.element,Yu(t,e),di(e,n,null,s);var l=e.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Xr(Error(S(423)),e),e=Fc(t,e,n,s,i);break e}else if(n!==i){i=Xr(Error(S(424)),e),e=Fc(t,e,n,s,i);break e}else for(Ae=It(e.stateNode.containerInfo.firstChild),Le=e,H=!0,Ye=null,s=Ju(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Jr(),n===i){e=yt(t,e,s);break e}ve(t,e,n,s)}e=e.child}return e;case 5:return Xu(e),t===null&&ol(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,sl(n,i)?l=null:a!==null&&sl(n,a)&&(e.flags|=32),Nh(t,e),ve(t,e,l,s),e.child;case 6:return t===null&&ol(e),null;case 13:return kh(t,e,s);case 4:return po(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Qr(e,null,n,s):ve(t,e,n,s),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ge(n,i),$c(t,e,n,i,s);case 7:return ve(t,e,e.pendingProps,s),e.child;case 8:return ve(t,e,e.pendingProps.children,s),e.child;case 12:return ve(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,q(oi,n._currentValue),n._currentValue=l,a!==null)if(et(a.value,l)){if(a.children===i.children&&!Ee.current){e=yt(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ft(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),cl(a.return,s,e),o.lanes|=s;break}c=c.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(S(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),cl(l,s,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}ve(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Vr(e,s),i=Ve(i),n=n(i),e.flags|=1,ve(t,e,n,s),e.child;case 14:return n=e.type,i=Ge(n,e.pendingProps),i=Ge(n.type,i),zc(t,e,n,i,s);case 15:return jh(t,e,e.type,e.pendingProps,s);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ge(n,i),Wn(t,e),e.tag=1,Ce(n)?(t=!0,ii(e)):t=!1,Vr(e,s),vh(e,n,i),ul(e,n,i,s),xl(null,e,n,!0,t,s);case 19:return Sh(t,e,s);case 22:return wh(t,e,s)}throw Error(S(156,e.tag))};function Bh(t,e){return fu(t,e)}function rf(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,s,n){return new rf(t,e,s,n)}function Ro(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sf(t){if(typeof t=="function")return Ro(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jl)return 11;if(t===Ql)return 14}return 2}function Ut(t,e){var s=t.alternate;return s===null?(s=Me(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Gn(t,e,s,n,i,a){var l=2;if(n=t,typeof t=="function")Ro(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Pr:return dr(s.children,i,a,e);case Gl:l=8,i|=8;break;case Ia:return t=Me(12,s,e,i|2),t.elementType=Ia,t.lanes=a,t;case Da:return t=Me(13,s,e,i),t.elementType=Da,t.lanes=a,t;case $a:return t=Me(19,s,e,i),t.elementType=$a,t.lanes=a,t;case Xd:return Ii(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qd:l=10;break e;case Yd:l=9;break e;case Jl:l=11;break e;case Ql:l=14;break e;case _t:l=16,n=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Me(l,s,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function dr(t,e,s,n){return t=Me(7,t,n,e),t.lanes=s,t}function Ii(t,e,s,n){return t=Me(22,t,n,e),t.elementType=Xd,t.lanes=s,t.stateNode={isHidden:!1},t}function ja(t,e,s){return t=Me(6,t,null,e),t.lanes=s,t}function wa(t,e,s){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nf(t,e,s,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Oo(t,e,s,n,i,a,l,o,c){return t=new nf(t,e,s,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Me(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},fo(a),t}function af(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}function qh(t){if(!t)return Bt;t=t._reactInternals;e:{if(gr(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ce(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var s=t.type;if(Ce(s))return qu(t,s,e)}return e}function Vh(t,e,s,n,i,a,l,o,c){return t=Oo(s,n,!0,t,i,a,l,o,c),t.context=qh(null),s=t.current,n=ye(),i=zt(s),a=ft(n,i),a.callback=e??null,Dt(s,a,i),t.current.lanes=i,an(t,i,n),Pe(t,n),t}function Di(t,e,s,n){var i=e.current,a=ye(),l=zt(i);return s=qh(s),e.context===null?e.context=s:e.pendingContext=s,e=ft(a,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Dt(i,e,l),t!==null&&(Ze(t,i,l,a),Bn(t,i,l)),l}function vi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Ao(t,e){Qc(t,e),(t=t.alternate)&&Qc(t,e)}function lf(){return null}var Wh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lo(t){this._internalRoot=t}$i.prototype.render=Lo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));Di(t,e,null,null)};$i.prototype.unmount=Lo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Di(null,t,null,null)}),e[gt]=null}};function $i(t){this._internalRoot=t}$i.prototype.unstable_scheduleHydration=function(t){if(t){var e=wu();t={blockedOn:null,target:t,priority:e};for(var s=0;s<St.length&&e!==0&&e<St[s].priority;s++);St.splice(s,0,t),s===0&&_u(t)}};function Io(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function of(t,e,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=vi(l);a.call(d)}}var l=Vh(e,n,t,0,null,!1,!1,"",Yc);return t._reactRootContainer=l,t[gt]=l.current,Ws(t.nodeType===8?t.parentNode:t),fr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=vi(c);o.call(d)}}var c=Oo(t,0,!1,null,null,!1,!1,"",Yc);return t._reactRootContainer=c,t[gt]=c.current,Ws(t.nodeType===8?t.parentNode:t),fr(function(){Di(e,c,s,n)}),c}function Ui(t,e,s,n,i){var a=s._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=vi(l);o.call(c)}}Di(e,l,t,i)}else l=of(s,e,t,i,n);return vi(l)}bu=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=ws(e.pendingLanes);s!==0&&(Zl(e,s|1),Pe(e,X()),!(F&6)&&(Zr=X()+500,Wt()))}break;case 13:fr(function(){var n=vt(t,1);if(n!==null){var i=ye();Ze(n,t,1,i)}}),Ao(t,1)}};eo=function(t){if(t.tag===13){var e=vt(t,134217728);if(e!==null){var s=ye();Ze(e,t,134217728,s)}Ao(t,134217728)}};ju=function(t){if(t.tag===13){var e=zt(t),s=vt(t,e);if(s!==null){var n=ye();Ze(s,t,e,n)}Ao(t,e)}};wu=function(){return M};Nu=function(t,e){var s=M;try{return M=t,e()}finally{M=s}};Ka=function(t,e,s){switch(e){case"input":if(Fa(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var i=Pi(n);if(!i)throw Error(S(90));eu(n),Fa(n,i)}}}break;case"textarea":ru(t,s);break;case"select":e=s.value,e!=null&&Fr(t,!!s.multiple,e,!1)}};cu=Co;du=fr;var cf={usingClientEntryPoint:!1,Events:[on,Ar,Pi,lu,ou,Co]},gs={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},df={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mu(t),t===null?null:t.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||lf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var On=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!On.isDisabled&&On.supportsFiber)try{ki=On.inject(df),at=On}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cf;De.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Io(e))throw Error(S(200));return af(t,e,null,s)};De.createRoot=function(t,e){if(!Io(t))throw Error(S(299));var s=!1,n="",i=Wh;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Oo(t,1,!1,null,null,s,!1,n,i),t[gt]=e.current,Ws(t.nodeType===8?t.parentNode:t),new Lo(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=mu(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return fr(t)};De.hydrate=function(t,e,s){if(!zi(e))throw Error(S(200));return Ui(null,t,e,!0,s)};De.hydrateRoot=function(t,e,s){if(!Io(t))throw Error(S(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",l=Wh;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),e=Vh(e,null,t,1,s??null,i,!1,a,l),t[gt]=e.current,Ws(t),n)for(t=0;t<n.length;t++)s=n[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new $i(e)};De.render=function(t,e,s){if(!zi(e))throw Error(S(200));return Ui(null,t,e,!1,s)};De.unmountComponentAtNode=function(t){if(!zi(t))throw Error(S(40));return t._reactRootContainer?(fr(function(){Ui(null,null,t,!1,function(){t._reactRootContainer=null,t[gt]=null})}),!0):!1};De.unstable_batchedUpdates=Co;De.unstable_renderSubtreeIntoContainer=function(t,e,s,n){if(!zi(s))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Ui(t,e,s,!1,n)};De.version="18.3.1-next-f1338f8080-20240426";function Hh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hh)}catch(t){console.error(t)}}Hh(),Hd.exports=De;var uf=Hd.exports,Xc=uf;Aa.createRoot=Xc.createRoot,Aa.hydrateRoot=Xc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function en(){return en=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},en.apply(this,arguments)}var Rt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rt||(Rt={}));const Zc="popstate";function hf(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:l,hash:o}=n.location;return Sl("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:yi(i)}return xf(e,s,null,t)}function Z(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mf(){return Math.random().toString(36).substr(2,8)}function ed(t,e){return{usr:t.state,key:t.key,idx:e}}function Sl(t,e,s,n){return s===void 0&&(s=null),en({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?is(e):e,{state:s,key:e&&e.key||n||mf()})}function yi(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function is(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function xf(t,e,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,o=Rt.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(en({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function m(){o=Rt.Pop;let v=u(),h=v==null?null:v-d;d=v,c&&c({action:o,location:x.location,delta:h})}function g(v,h){o=Rt.Push;let f=Sl(x.location,v,h);d=u()+1;let p=ed(f,d),b=x.createHref(f);try{l.pushState(p,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(b)}a&&c&&c({action:o,location:x.location,delta:1})}function y(v,h){o=Rt.Replace;let f=Sl(x.location,v,h);d=u();let p=ed(f,d),b=x.createHref(f);l.replaceState(p,"",b),a&&c&&c({action:o,location:x.location,delta:0})}function j(v){let h=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof v=="string"?v:yi(v);return f=f.replace(/ $/,"%20"),Z(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let x={get action(){return o},get location(){return t(i,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Zc,m),c=v,()=>{i.removeEventListener(Zc,m),c=null}},createHref(v){return e(i,v)},createURL:j,encodeLocation(v){let h=j(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:y,go(v){return l.go(v)}};return x}var td;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(td||(td={}));function ff(t,e,s){return s===void 0&&(s="/"),pf(t,e,s)}function pf(t,e,s,n){let i=typeof e=="string"?is(e):e,a=Do(i.pathname||"/",s);if(a==null)return null;let l=Gh(t);gf(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Pf(a);o=Sf(l[c],d)}return o}function Gh(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Z(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ft([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(Z(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Gh(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:_f(d,a.index),routesMeta:u})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let c of Jh(a.path))i(a,l,c)}),e}function Jh(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=Jh(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function gf(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:kf(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const vf=/^:[\w-]+$/,yf=3,bf=2,jf=1,wf=10,Nf=-2,rd=t=>t==="*";function _f(t,e){let s=t.split("/"),n=s.length;return s.some(rd)&&(n+=Nf),e&&(n+=bf),s.filter(i=>!rd(i)).reduce((i,a)=>i+(vf.test(a)?yf:a===""?jf:wf),n)}function kf(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Sf(t,e,s){let{routesMeta:n}=t,i={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",m=Ef({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),g=c.route;if(!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Ft([a,m.pathname]),pathnameBase:Af(Ft([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Ft([a,m.pathnameBase]))}return l}function Ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=Cf(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:g,isOptional:y}=u;if(g==="*"){let x=o[m]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const j=o[m];return y&&!j?d[g]=void 0:d[g]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:t}}function Cf(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Kh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Pf(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Do(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function Tf(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:i=""}=typeof t=="string"?is(t):t;return{pathname:s?s.startsWith("/")?s:Rf(s,e):e,search:Lf(n),hash:If(i)}}function Rf(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Na(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Of(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function $o(t,e){let s=Of(t);return e?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function zo(t,e,s,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=is(t):(i=en({},t),Z(!i.pathname||!i.pathname.includes("?"),Na("?","pathname","search",i)),Z(!i.pathname||!i.pathname.includes("#"),Na("#","pathname","hash",i)),Z(!i.search||!i.search.includes("#"),Na("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=s;else{let m=e.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}o=m>=0?e[m]:"/"}let c=Tf(i,o),d=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ft=t=>t.join("/").replace(/\/\/+/g,"/"),Af=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Lf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,If=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Df(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qh=["post","put","patch","delete"];new Set(Qh);const $f=["get",...Qh];new Set($f);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tn(){return tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},tn.apply(this,arguments)}const Uo=w.createContext(null),zf=w.createContext(null),Ht=w.createContext(null),Fi=w.createContext(null),ot=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Yh=w.createContext(null);function Uf(t,e){let{relative:s}=e===void 0?{}:e;as()||Z(!1);let{basename:n,navigator:i}=w.useContext(Ht),{hash:a,pathname:l,search:o}=em(t,{relative:s}),c=l;return n!=="/"&&(c=l==="/"?n:Ft([n,l])),i.createHref({pathname:c,search:o,hash:a})}function as(){return w.useContext(Fi)!=null}function ze(){return as()||Z(!1),w.useContext(Fi).location}function Xh(t){w.useContext(Ht).static||w.useLayoutEffect(t)}function tt(){let{isDataRoute:t}=w.useContext(ot);return t?ep():Ff()}function Ff(){as()||Z(!1);let t=w.useContext(Uo),{basename:e,future:s,navigator:n}=w.useContext(Ht),{matches:i}=w.useContext(ot),{pathname:a}=ze(),l=JSON.stringify($o(i,s.v7_relativeSplatPath)),o=w.useRef(!1);return Xh(()=>{o.current=!0}),w.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=zo(d,JSON.parse(l),a,u.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ft([e,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[e,n,l,a,t])}const Mf=w.createContext(null);function Bf(t){let e=w.useContext(ot).outlet;return e&&w.createElement(Mf.Provider,{value:t},e)}function Zh(){let{matches:t}=w.useContext(ot),e=t[t.length-1];return e?e.params:{}}function em(t,e){let{relative:s}=e===void 0?{}:e,{future:n}=w.useContext(Ht),{matches:i}=w.useContext(ot),{pathname:a}=ze(),l=JSON.stringify($o(i,n.v7_relativeSplatPath));return w.useMemo(()=>zo(t,JSON.parse(l),a,s==="path"),[t,l,a,s])}function qf(t,e){return Vf(t,e)}function Vf(t,e,s,n){as()||Z(!1);let{navigator:i}=w.useContext(Ht),{matches:a}=w.useContext(ot),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=ze(),u;if(e){var m;let v=typeof e=="string"?is(e):e;c==="/"||(m=v.pathname)!=null&&m.startsWith(c)||Z(!1),u=v}else u=d;let g=u.pathname||"/",y=g;if(c!=="/"){let v=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let j=ff(t,{pathname:y}),x=Jf(j&&j.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ft([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ft([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,s,n);return e&&x?w.createElement(Fi.Provider,{value:{location:tn({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Rt.Pop}},x):x}function Wf(){let t=Zf(),e=Df(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),s?w.createElement("pre",{style:i},s):null,null)}const Hf=w.createElement(Wf,null);class Kf extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?w.createElement(ot.Provider,{value:this.props.routeContext},w.createElement(Yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gf(t){let{routeContext:e,match:s,children:n}=t,i=w.useContext(Uo);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),w.createElement(ot.Provider,{value:e},n)}function Jf(t,e,s,n){var i;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var a;if(!s)return null;if(s.errors)t=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let l=t,o=(i=s)==null?void 0:i.errors;if(o!=null){let u=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||Z(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:g,errors:y}=s,j=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||j){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,m,g)=>{let y,j=!1,x=null,v=null;s&&(y=o&&m.route.id?o[m.route.id]:void 0,x=m.route.errorElement||Hf,c&&(d<0&&g===0?(tp("route-fallback"),j=!0,v=null):d===g&&(j=!0,v=m.route.hydrateFallbackElement||null)));let h=e.concat(l.slice(0,g+1)),f=()=>{let p;return y?p=x:j?p=v:m.route.Component?p=w.createElement(m.route.Component,null):m.route.element?p=m.route.element:p=u,w.createElement(Gf,{match:m,routeContext:{outlet:u,matches:h,isDataRoute:s!=null},children:p})};return s&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?w.createElement(Kf,{location:s.location,revalidation:s.revalidation,component:x,error:y,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var tm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tm||{}),rm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rm||{});function Qf(t){let e=w.useContext(Uo);return e||Z(!1),e}function Yf(t){let e=w.useContext(zf);return e||Z(!1),e}function Xf(t){let e=w.useContext(ot);return e||Z(!1),e}function sm(t){let e=Xf(),s=e.matches[e.matches.length-1];return s.route.id||Z(!1),s.route.id}function Zf(){var t;let e=w.useContext(Yh),s=Yf(),n=sm();return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function ep(){let{router:t}=Qf(tm.UseNavigateStable),e=sm(rm.UseNavigateStable),s=w.useRef(!1);return Xh(()=>{s.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tn({fromRouteId:e},a)))},[t,e])}const sd={};function tp(t,e,s){sd[t]||(sd[t]=!0)}function rp(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function nd(t){let{to:e,replace:s,state:n,relative:i}=t;as()||Z(!1);let{future:a,static:l}=w.useContext(Ht),{matches:o}=w.useContext(ot),{pathname:c}=ze(),d=tt(),u=zo(e,$o(o,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(u);return w.useEffect(()=>d(JSON.parse(m),{replace:s,state:n,relative:i}),[d,m,i,s,n]),null}function sp(t){return Bf(t.context)}function z(t){Z(!1)}function np(t){let{basename:e="/",children:s=null,location:n,navigationType:i=Rt.Pop,navigator:a,static:l=!1,future:o}=t;as()&&Z(!1);let c=e.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:l,future:tn({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=is(n));let{pathname:u="/",search:m="",hash:g="",state:y=null,key:j="default"}=n,x=w.useMemo(()=>{let v=Do(u,c);return v==null?null:{location:{pathname:v,search:m,hash:g,state:y,key:j},navigationType:i}},[c,u,m,g,y,j,i]);return x==null?null:w.createElement(Ht.Provider,{value:d},w.createElement(Fi.Provider,{children:s,value:x}))}function Mi(t){let{children:e,location:s}=t;return qf(El(e),s)}new Promise(()=>{});function El(t,e){e===void 0&&(e=[]);let s=[];return w.Children.forEach(t,(n,i)=>{if(!w.isValidElement(n))return;let a=[...e,i];if(n.type===w.Fragment){s.push.apply(s,El(n.props.children,a));return}n.type!==z&&Z(!1),!n.props.index||!n.props.children||Z(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=El(n.props.children,a)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Cl.apply(this,arguments)}function ip(t,e){if(t==null)return{};var s={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}function ap(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lp(t,e){return t.button===0&&(!e||e==="_self")&&!ap(t)}const op=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cp="6";try{window.__reactRouterVersion=cp}catch{}const dp="startTransition",id=Zm[dp];function up(t){let{basename:e,children:s,future:n,window:i}=t,a=w.useRef();a.current==null&&(a.current=hf({window:i,v5Compat:!0}));let l=a.current,[o,c]=w.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},u=w.useCallback(m=>{d&&id?id(()=>c(m)):c(m)},[c,d]);return w.useLayoutEffect(()=>l.listen(u),[l,u]),w.useEffect(()=>rp(n),[n]),w.createElement(np,{basename:e,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const hp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C=w.forwardRef(function(e,s){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=e,g=ip(e,op),{basename:y}=w.useContext(Ht),j,x=!1;if(typeof d=="string"&&mp.test(d)&&(j=d,hp))try{let p=new URL(window.location.href),b=d.startsWith("//")?new URL(p.protocol+d):new URL(d),N=Do(b.pathname,y);b.origin===p.origin&&N!=null?d=N+b.search+b.hash:x=!0}catch{}let v=Uf(d,{relative:i}),h=xp(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:i,viewTransition:m});function f(p){n&&n(p),p.defaultPrevented||h(p)}return w.createElement("a",Cl({},g,{href:j||v,onClick:x||a?n:f,ref:s,target:c}))});var ad;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ad||(ad={}));var ld;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ld||(ld={}));function xp(t,e){let{target:s,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:o}=e===void 0?{}:e,c=tt(),d=ze(),u=em(t,{relative:l});return w.useCallback(m=>{if(lp(m,s)){m.preventDefault();let g=n!==void 0?n:yi(d)===yi(u);c(t,{replace:g,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,u,n,i,s,t,a,l,o])}const fp={},od=t=>{let e;const s=new Set,n=(u,m)=>{const g=typeof u=="function"?u(e):u;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),s.forEach(j=>j(e,y))}},i=()=>e,c={setState:n,getState:i,getInitialState:()=>d,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(fp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},d=e=t(n,i,c);return c},pp=t=>t?od(t):od;var nm={exports:{}},im={},am={exports:{}},lm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=w;function gp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vp=typeof Object.is=="function"?Object.is:gp,yp=es.useState,bp=es.useEffect,jp=es.useLayoutEffect,wp=es.useDebugValue;function Np(t,e){var s=e(),n=yp({inst:{value:s,getSnapshot:e}}),i=n[0].inst,a=n[1];return jp(function(){i.value=s,i.getSnapshot=e,_a(i)&&a({inst:i})},[t,s,e]),bp(function(){return _a(i)&&a({inst:i}),t(function(){_a(i)&&a({inst:i})})},[t]),wp(s),s}function _a(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!vp(t,s)}catch{return!0}}function _p(t,e){return e()}var kp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_p:Np;lm.useSyncExternalStore=es.useSyncExternalStore!==void 0?es.useSyncExternalStore:kp;am.exports=lm;var Sp=am.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bi=w,Ep=Sp;function Cp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pp=typeof Object.is=="function"?Object.is:Cp,Tp=Ep.useSyncExternalStore,Rp=Bi.useRef,Op=Bi.useEffect,Ap=Bi.useMemo,Lp=Bi.useDebugValue;im.useSyncExternalStoreWithSelector=function(t,e,s,n,i){var a=Rp(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=Ap(function(){function c(y){if(!d){if(d=!0,u=y,y=n(y),i!==void 0&&l.hasValue){var j=l.value;if(i(j,y))return m=j}return m=y}if(j=m,Pp(u,y))return j;var x=n(y);return i!==void 0&&i(j,x)?(u=y,j):(u=y,m=x)}var d=!1,u,m,g=s===void 0?null:s;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,s,n,i]);var o=Tp(t,a[0],a[1]);return Op(function(){l.hasValue=!0,l.value=o},[o]),Lp(o),o};nm.exports=im;var Ip=nm.exports;const Dp=Ld(Ip),om={},{useDebugValue:$p}=Vl,{useSyncExternalStoreWithSelector:zp}=Dp;let cd=!1;const Up=t=>t;function Fp(t,e=Up,s){(om?"production":void 0)!=="production"&&s&&!cd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cd=!0);const n=zp(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,s);return $p(n),n}const dd=t=>{(om?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?pp(t):t,s=(n,i)=>Fp(e,n,i);return Object.assign(s,e),s},Mp=t=>t?dd(t):dd,Bp="modulepreload",qp=function(t){return"/"+t},ud={},dn=function(e,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=qp(c),c in ud)return;ud[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Bp,d||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((g,y)=>{m.addEventListener("load",g),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Vp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>dn(async()=>{const{default:n}=await Promise.resolve().then(()=>ls);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Fo extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class hd extends Fo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class md extends Fo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xd extends Fo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pl||(Pl={}));var Wp=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class Hp{constructor(e,{headers:s={},customFetch:n,region:i=Pl.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=Vp(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Wp(this,arguments,void 0,function*(s,n={}){var i;try{const{headers:a,method:l,body:o,signal:c}=n;let d={},{region:u}=n;u||(u=this.region);const m=new URL(`${this.url}/${s}`);u&&u!=="any"&&(d["x-region"]=u,m.searchParams.set("forceFunctionRegion",u));let g;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=o):typeof o=="string"?(d["Content-Type"]="text/plain",g=o):typeof FormData<"u"&&o instanceof FormData?g=o:(d["Content-Type"]="application/json",g=JSON.stringify(o)));const y=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:g,signal:c}).catch(h=>{throw h.name==="AbortError"?h:new hd(h)}),j=y.headers.get("x-relay-error");if(j&&j==="true")throw new md(y);if(!y.ok)throw new xd(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield y.json():x==="application/octet-stream"?v=yield y.blob():x==="text/event-stream"?v=y:x==="multipart/form-data"?v=yield y.formData():v=yield y.text(),{data:v,error:null,response:y}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new hd(a)}:{data:null,error:a,response:a instanceof xd||a instanceof md?a.context:void 0}}})}}var ke={},Mo={},qi={},un={},Vi={},Wi={},Kp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ts=Kp();const Gp=ts.fetch,cm=ts.fetch.bind(ts),dm=ts.Headers,Jp=ts.Request,Qp=ts.Response,ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:dm,Request:Jp,Response:Qp,default:cm,fetch:Gp},Symbol.toStringTag,{value:"Module"})),Yp=$m(ls);var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});let Xp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Hi.default=Xp;var um=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});const Zp=um(Yp),eg=um(Hi);let tg=class{constructor(e){var s,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,o,c,d;let u=null,m=null,g=null,y=a.status,j=a.statusText;if(a.ok){if(this.method!=="HEAD"){const f=await a.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?m=f:m=JSON.parse(f))}const v=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),h=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&h&&h.length>1&&(g=parseInt(h[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(u={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,y=406,j="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(m=[],u=null,y=200,j="OK")}catch{a.status===404&&v===""?(y=204,j="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,y=200,j="OK"),u&&this.shouldThrowOnError)throw new eg.default(u)}return{error:u,data:m,count:g,status:y,statusText:j}});return this.shouldThrowOnError||(i=i.catch(a=>{var l,o,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}};Wi.default=tg;var rg=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});const sg=rg(Wi);let ng=class extends sg.default{select(e){let s=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(l,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var o;const c=[e?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Vi.default=ng;var ig=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(un,"__esModule",{value:!0});const ag=ig(Vi);let lg=class extends ag.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${l}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};un.default=lg;var og=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});const vs=og(un);let cg=class{constructor(e,{headers:s={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(s),this.schema=n,this.fetch=i}select(e,s){const{head:n=!1,count:i}=s??{},a=n?"HEAD":"GET";let l=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",o),i&&this.headers.append("Prefer",`count=${i}`),new vs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:n=!0}={}){var i;const a="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new vs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new vs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:s}={}){var n;const i="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new vs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var s;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new vs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};qi.default=cg;var hm=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mo,"__esModule",{value:!0});const dg=hm(qi),ug=hm(un);let hg=class mm{constructor(e,{headers:s={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(s),this.schemaName=n,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new dg.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new mm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:i=!1,count:a}={}){var l;let o;const c=new URL(`${this.url}/rpc/${e}`);let d;n||i?(o=n?"HEAD":"GET",Object.entries(s).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(o="POST",d=s);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new ug.default({method:o,url:c,headers:u,schema:this.schemaName,body:d,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};Mo.default=hg;var os=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const xm=os(Mo);ke.PostgrestClient=xm.default;const fm=os(qi);ke.PostgrestQueryBuilder=fm.default;const pm=os(un);ke.PostgrestFilterBuilder=pm.default;const gm=os(Vi);ke.PostgrestTransformBuilder=gm.default;const vm=os(Wi);ke.PostgrestBuilder=vm.default;const ym=os(Hi);ke.PostgrestError=ym.default;var mg=ke.default={PostgrestClient:xm.default,PostgrestQueryBuilder:fm.default,PostgrestFilterBuilder:pm.default,PostgrestTransformBuilder:gm.default,PostgrestBuilder:vm.default,PostgrestError:ym.default};const{PostgrestClient:xg,PostgrestQueryBuilder:hb,PostgrestFilterBuilder:mb,PostgrestTransformBuilder:xb,PostgrestBuilder:fb,PostgrestError:pb}=mg;class fg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pg="2.75.0",gg=`realtime-js/${pg}`,vg="1.0.0",Tl=1e4,yg=1e3,bg=100;var Ls;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ls||(Ls={}));var ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ie||(ie={}));var Qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qe||(Qe={}));var Rl;(function(t){t.websocket="websocket"})(Rl||(Rl={}));var sr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sr||(sr={}));class jg{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const i=s.getUint8(1),a=s.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(e.slice(l,l+i));l=l+i;const c=n.decode(e.slice(l,l+a));l=l+a;const d=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class bm{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const fd=(t,e,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=wg(l,t,e,i),a),{}):{}},wg=(t,e,s,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,l=s[t];return a&&!n.includes(a)?jm(a,l):Ol(l)},jm=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Sg(e,s)}switch(t){case B.bool:return Ng(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return _g(e);case B.json:case B.jsonb:return kg(e);case B.timestamp:return Eg(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return Ol(e);default:return Ol(e)}},Ol=t=>t,Ng=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_g=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},kg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Sg=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let a;const l=t.slice(1,s);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(o=>jm(e,o))}return t},Eg=t=>typeof t=="string"?t.replace(" ","T"):t,wm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ka{constructor(e,s,n={},i=Tl){this.channel=e,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pd||(pd={}));class Is{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Is.syncState(this.state,i,a,l),this.pendingDiffs.forEach(c=>{this.state=Is.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Is.syncDiff(this.state,i,a,l),o())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,i){const a=this.cloneDeep(e),l=this.transformState(s),o={},c={};return this.map(a,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const m=a[d];if(m){const g=u.map(v=>v.presence_ref),y=m.map(v=>v.presence_ref),j=u.filter(v=>y.indexOf(v.presence_ref)<0),x=m.filter(v=>g.indexOf(v.presence_ref)<0);j.length>0&&(o[d]=j),x.length>0&&(c[d]=x)}else o[d]=u}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(e,s,n,i){const{joins:a,leaves:l}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var d;const u=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(c),u.length>0){const m=e[o].map(y=>y.presence_ref),g=u.filter(y=>m.indexOf(y.presence_ref)<0);e[o].unshift(...g)}n(o,u,c)}),this.map(l,(o,c)=>{let d=e[o];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),e[o]=d,i(o,d,c),d.length===0&&delete e[o]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const i=e[n];return"metas"in i?s[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[n]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gd||(gd={}));var Ds;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ds||(Ds={}));var ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));class Bo{constructor(e,s={config:{}},n){var i,a;if(this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ka(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new bm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new Is(this),this.broadcastEndpointURL=wm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(ut.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(ut.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:y})=>{var j;if(this.socket.setAuth(),y===void 0){e==null||e(ut.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,v=(j=x==null?void 0:x.length)!==null&&j!==void 0?j:0,h=[];for(let f=0;f<v;f++){const p=x[f],{filter:{event:b,schema:N,table:_,filter:k}}=p,E=y&&y[f];if(E&&E.event===b&&E.schema===N&&E.table===_&&E.filter===k)h.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=ie.errored,e==null||e(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e(ut.SUBSCRIBED);return}}).receive("error",y=>{this.state=ie.errored,e==null||e(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===ie.joined&&e===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async send(e,s={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,o,c;const d=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ka(this,Qe.leave,{},e),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),l}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ka(this,e,s,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var i,a;const l=e.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Qe;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let g=this._onMessage(l,s,n);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var j,x,v;return((j=y.filter)===null||j===void 0?void 0:j.event)==="*"||((v=(x=y.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===l}).map(y=>y.callback(g,n)):(a=this.bindings[l])===null||a===void 0||a.filter(y=>{var j,x,v,h,f,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const b=y.id,N=(j=y.filter)===null||j===void 0?void 0:j.event;return b&&((x=s.ids)===null||x===void 0?void 0:x.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=s.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const b=(f=(h=y==null?void 0:y.filter)===null||h===void 0?void 0:h.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((p=s==null?void 0:s.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof g=="object"&&"ids"in g){const j=g.data,{schema:x,table:v,commit_timestamp:h,type:f,errors:p}=j;g=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:h,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(j))}y.callback(g,n)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const i=e.toLocaleLowerCase(),a={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Bo.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qe.close,{},e)}_onError(e){this._on(Qe.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=fd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=fd(e.columns,e.old_record)),s}}const Sa=()=>{},An={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cg=[1e3,2e3,5e3,1e4],Pg=1e4,Tg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rg{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tl,this.transport=null,this.heartbeatIntervalMs=An.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sa,this.ref=0,this.reconnectTimer=null,this.logger=Sa,this.conn=null,this.sendBuffer=[],this.serializer=new jg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>dn(async()=>{const{default:o}=await Promise.resolve().then(()=>ls);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Rl.websocket}`,this.httpEndpoint=wm(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vg}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return sr.Connecting;case Ls.open:return sr.Open;case Ls.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Bo(`realtime:${e}`,s,this);return this.channels.push(a),a}}push(e){const{topic:s,event:n,payload:i,ref:a}=e,l=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${s} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(yg,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},An.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:l}=s,o=l?`(${l})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,a,l)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qe.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${n}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([Tg],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:gg};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Qe.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},An.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,i,a,l,o,c,d,u;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Tl,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:An.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Sa,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:m=>Cg[m-1]||Pg,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(m,g)=>g(JSON.stringify(m)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class qo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Og extends qo{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Al extends qo{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Ag=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const Nm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>dn(async()=>{const{default:n}=await Promise.resolve().then(()=>ls);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Lg=()=>Ag(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dn(()=>Promise.resolve().then(()=>ls),void 0)).Response:Response}),Ll=t=>{if(Array.isArray(t))return t.map(s=>Ll(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Ll(n)}),e},Ig=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vr=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const Ea=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dg=(t,e,s)=>vr(void 0,void 0,void 0,function*(){const n=yield Lg();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{const a=t.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new Og(Ea(i),a,l))}).catch(i=>{e(new Al(Ea(i),i))}):e(new Al(Ea(t),t))}),$g=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(Ig(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),s))};function hn(t,e,s,n,i,a){return vr(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(s,$g(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Dg(c,o,n))})})}function bi(t,e,s,n){return vr(this,void 0,void 0,function*(){return hn(t,"GET",e,s,n)})}function nt(t,e,s,n,i){return vr(this,void 0,void 0,function*(){return hn(t,"POST",e,n,i,s)})}function Il(t,e,s,n,i){return vr(this,void 0,void 0,function*(){return hn(t,"PUT",e,n,i,s)})}function zg(t,e,s,n){return vr(this,void 0,void 0,function*(){return hn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function _m(t,e,s,n,i){return vr(this,void 0,void 0,function*(){return hn(t,"DELETE",e,n,i,s)})}var Ug=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class Fg{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return Ug(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}}var Mg=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class Bg{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new Fg(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return Mg(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}}var Ne=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const qg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vg{constructor(e,s={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=n,this.fetch=Nm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,n,i){return Ne(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},vd),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),m=yield(e=="PUT"?Il:nt)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(re(a))return{data:null,error:a};throw a}})}upload(e,s,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,i){return Ne(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:vd.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield Il(this.fetch,o.toString(),c,{headers:u});return{data:{path:a,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(re(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield nt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+a.url),o=l.searchParams.get("token");if(!o)throw new qo("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}update(e,s,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}copy(e,s,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,n){return Ne(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield nt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,n){return Ne(this,void 0,void 0,function*(){try{const i=yield nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}download(e,s){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),l=a?`?${a}`:"",o=this._getFinalPath(e),c=()=>bi(this.fetch,`${this.url}/${i}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new Bg(c,this.shouldThrowOnError)}info(e){return Ne(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield bi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Ll(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}exists(e){return Ne(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield zg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n)&&n instanceof Al){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const o=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield _m(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}list(e,s,n){return Ne(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},qg),s),{prefix:e||""});return{data:yield nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}listV2(e,s){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Wg="2.75.0",Hg={"X-Client-Info":`storage-js/${Wg}`};var br=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class Kg{constructor(e,s={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hg),s),this.fetch=Nm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return br(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}createBucket(e){return br(this,arguments,void 0,function*(s,n={public:!1}){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}updateBucket(e,s){return br(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}emptyBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}deleteBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield _m(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}}class Gg extends Kg{constructor(e,s={},n,i){super(e,s,n,i)}from(e){return new Vg(this.url,this.headers,e,this.fetch)}}const Jg="2.75.0";let _s="";typeof Deno<"u"?_s="deno":typeof document<"u"?_s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_s="react-native":_s="node";const Qg={"X-Client-Info":`supabase-js-${_s}/${Jg}`},Yg={headers:Qg},Xg={schema:"public"},Zg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ev={};var tv=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const rv=t=>{let e;return t?e=t:typeof fetch>"u"?e=cm:e=fetch,(...s)=>e(...s)},sv=()=>typeof Headers>"u"?dm:Headers,nv=(t,e,s)=>{const n=rv(s),i=sv();return(a,l)=>tv(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},l),{headers:d}))})};var iv=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};function av(t){return t.endsWith("/")?t:t+"/"}function lv(t,e){var s,n;const{db:i,auth:a,realtime:l,global:o}=t,{db:c,auth:d,realtime:u,global:m}=e,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(s=m==null?void 0:m.headers)!==null&&s!==void 0?s:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>iv(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function ov(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(av(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const km="2.75.0",Sr=30*1e3,Dl=3,Ca=Dl*Sr,cv="http://localhost:9999",dv="supabase.auth.token",uv={"X-Client-Info":`gotrue-js/${km}`},$l="X-Supabase-Api-Version",Sm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mv=10*60*1e3;class rn extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xv extends rn{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function fv(t){return O(t)&&t.name==="AuthApiError"}class nr extends rn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Kt extends rn{constructor(e,s,n,i){super(e,n,i),this.name=s,this.status=n}}class Nt extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pv(t){return O(t)&&t.name==="AuthSessionMissingError"}class jr extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ln extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class In extends Kt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gv(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class yd extends Kt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zl extends Kt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Pa(t){return O(t)&&t.name==="AuthRetryableFetchError"}class bd extends Kt{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Ul extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jd=` 	
\r=`.split(""),vv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jd.length;e+=1)t[jd[e].charCodeAt(0)]=-2;for(let e=0;e<ji.length;e+=1)t[ji[e].charCodeAt(0)]=e;return t})();function wd(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(ji[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(ji[n]),e.queuedBits-=6}}function Em(t,e,s){const n=vv[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Nd(t){const e=[],s=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{jv(l,n,s)};for(let l=0;l<t.length;l+=1)Em(t.charCodeAt(l),i,a);return e.join("")}function yv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bv(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}yv(n,e)}}function jv(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Hr(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Em(t.charCodeAt(i),s,n);return new Uint8Array(e)}function wv(t){const e=[];return bv(t,s=>e.push(s)),new Uint8Array(e)}function or(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>wd(i,s,n)),wd(null,s,n),e.join("")}function Nv(t){return Math.round(Date.now()/1e3)+t}function _v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Re=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},Cm=()=>{if(!Re())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function kv(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return s.searchParams.forEach((n,i)=>{e[i]=n}),e}const Pm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>dn(async()=>{const{default:n}=await Promise.resolve().then(()=>ls);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Sv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Er=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Zt=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},wt=async(t,e)=>{await t.removeItem(e)};class Ki{constructor(){this.promise=new Ki.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ki.promiseConstructor=Promise;function Ta(t){const e=t.split(".");if(e.length!==3)throw new Ul("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!hv.test(e[n]))throw new Ul("JWT not in base64url format");return{header:JSON.parse(Nd(e[0])),payload:JSON.parse(Nd(e[1])),signature:Hr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ev(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Cv(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){n(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function Pv(t){return("0"+t.toString(16)).substr(-2)}function Tv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Pv).join("")}async function Rv(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Ov(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Rv(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wr(t,e,s=!1){const n=Tv();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await Er(t,`${e}-code-verifier`,i);const a=await Ov(n);return[a,n===a?"plain":"s256"]}const Av=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lv(t){const e=t.headers.get($l);if(!e||!e.match(Av))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Iv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Dv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $v=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(t){if(!$v.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ra(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _d(t){return JSON.parse(JSON.stringify(t))}var zv=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const rr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uv=[502,503,504];async function kd(t){var e;if(!Sv(t))throw new zl(rr(t),0);if(Uv.includes(t.status))throw new zl(rr(t),t.status);let s;try{s=await t.json()}catch(a){throw new nr(rr(a),a)}let n;const i=Lv(t);if(i&&i.getTime()>=Sm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new bd(rr(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Nt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new bd(rr(s),t.status,s.weak_password.reasons);throw new xv(rr(s),t.status||500,n)}const Fv=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function A(t,e,s,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[$l]||(a[$l]=Sm["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Mv(t,e,s+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Mv(t,e,s,n,i,a){const l=Fv(e,n,i,a);let o;try{o=await t(s,Object.assign({},l))}catch(c){throw console.error(c),new zl(rr(c),0)}if(o.ok||await kd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await kd(c)}}function Ke(t){var e;let s=null;Vv(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Nv(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Sd(t){const e=Ke(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ct(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Bv(t){return{data:t,error:null}}function qv(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a}=t,l=zv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function Ed(t){return t}function Vv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Oa=["global","local","others"];var Wv=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};class Hv{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=Pm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Oa[0]){if(Oa.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oa.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ct})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=Wv(e,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:qv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(O(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ct})}catch(s){if(O(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,i,a,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Ed});if(u.error)throw u.error;const m=await u.json(),g=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(j=>{const x=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(j.split(";")[1].split("=")[1]);d[`${v}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(O(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Nr(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ct})}catch(s){if(O(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Nr(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ct})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){Nr(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ct})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Nr(e.userId);try{const{data:s,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(O(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Nr(e.userId),Nr(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(O(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,n,i,a,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Ed});if(u.error)throw u.error;const m=await u.json(),g=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(j=>{const x=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(j.split(";")[1].split("=")[1]);d[`${v}Page`]=x}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(O(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(O(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(O(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(O(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(O(s))return{data:null,error:s};throw s}}}function Cd(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const _r={debug:!!(globalThis&&Cm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Kv extends Tm{}async function Gv(t,e,s){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),_r.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _r.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Kv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_r.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Jv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rm(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Qv(t){return parseInt(t,16)}function Yv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Xv(t){var e;const{chainId:s,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:o,requestId:c,resources:d,scheme:u,uri:m,version:g}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=Rm(t.address),j=u?`${u}://${n}`:n,x=t.statement?`${t.statement}
`:"",v=`${j} wants you to sign in with your Ethereum account:
${y}

${x}`;let h=`URI: ${m}
Version: ${g}
Chain ID: ${s}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(h+=`
Expiration Time: ${i.toISOString()}`),o&&(h+=`
Not Before: ${o.toISOString()}`),c&&(h+=`
Request ID: ${c}`),d){let f=`
Resources:`;for(const p of d){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);f+=`
- ${p}`}h+=f}return`${v}
${h}`}class te extends Error{constructor({message:e,code:s,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=s}}class wi extends te{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function Zv({error:t,options:e}){var s,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(Am(l)){if(a.rp.id!==l)return new te({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ey({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Am(n)){if(s.rpId!==n)return new te({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Om=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};class ty{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ry=new ty;function sy(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:n}=t,i=Om(t,["challenge","user","excludeCredentials"]),a=Hr(e).buffer,l=Object.assign(Object.assign({},s),{id:Hr(s.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:l});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Hr(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function ny(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,n=Om(t,["challenge","allowCredentials"]),i=Hr(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(s&&s.length>0){a.allowCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const o=s[l];a.allowCredentials[l]=Object.assign(Object.assign({},o),{id:Hr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function iy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:or(new Uint8Array(t.response.attestationObject)),clientDataJSON:or(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ay(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:or(new Uint8Array(i.authenticatorData)),clientDataJSON:or(new Uint8Array(i.clientDataJSON)),signature:or(new Uint8Array(i.signature)),userHandle:i.userHandle?or(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Am(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Pd(){var t,e;return!!(Re()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ly(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wi("Browser returned unexpected credential type",e)}:{data:null,error:new wi("Empty credential response",e)}}catch(e){return{data:null,error:Zv({error:e,options:t})}}}async function oy(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wi("Browser returned unexpected credential type",e)}:{data:null,error:new wi("Empty credential response",e)}}catch(e){return{data:null,error:ey({error:e,options:t})}}}const cy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},dy={userVerification:"preferred",hints:["security-key"]};function Ni(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),s=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))n[a]=l;else if(s(l))n[a]=l;else if(e(l)){const o=n[a];e(o)?n[a]=Ni(o,l):n[a]=Ni(l)}else n[a]=l}return n}function uy(t,e){return Ni(cy,t,e||{})}function hy(t,e){return Ni(dy,t,e||{})}class my{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:n,signal:i},a){try{const{data:l,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!l)return{data:null,error:o};const c=i??ry.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=uy(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:m}=await ly({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=hy(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:m}=await oy(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(l){return O(l)?{data:null,error:l}:{data:null,error:new nr("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!s)return{data:null,error:new rn("rpId is required for WebAuthn authentication")};try{if(!Pd())return{data:null,error:new nr("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:n},signal:i},{request:a});if(!l)return{data:null,error:o};const{webauthn:c}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:c.type,rpId:s,rpOrigins:n,credential_response:c.credential_response}})}catch(l){return O(l)?{data:null,error:l}:{data:null,error:new nr("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!s)return{data:null,error:new rn("rpId is required for WebAuthn registration")};try{if(!Pd())return{data:null,error:new nr("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:s,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(l){return O(l)?{data:null,error:l}:{data:null,error:new nr("Unexpected error in register",l)}}}}Jv();const xy={url:cv,storageKey:dv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Td(t,e,s){return await s()}const kr={};class sn{get jwks(){var e,s;return(s=(e=kr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=kr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:e})}constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sn.nextInstanceID,sn.nextInstanceID+=1,this.instanceID>0&&Re()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},xy),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Hv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Pm(i.fetch),this.lock=i.lock||Td,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Re()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Gv:this.lock=Td,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new my(this)},this.persistSession?(i.storage?this.storage=i.storage:Cm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cd(this.memoryStorage)),Re()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${km}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=kv(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Re()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),gv(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return O(s)?{error:s}:{error:new nr("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,i;try{const a=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ke}),{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(O(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var s,n,i;try{let a;if("email"in e){const{email:u,password:m,options:g}=e;let y=null,j=null;this.flowType==="pkce"&&([y,j]=await wr(this.storage,this.storageKey)),a=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:u,password:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:j},xform:Ke})}else if("phone"in e){const{phone:u,password:m,options:g}=e;a=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Ke})}else throw new Ln("You must provide either an email or phone number and a password");const{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(O(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let s;if("email"in e){const{email:a,password:l,options:o}=e;s=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sd})}else if("phone"in e){const{phone:a,password:l,options:o}=e;s=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sd})}else throw new Ln("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new jr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,i,a,l,o,c,d,u,m,g;let y,j;if("message"in e)y=e.message,j=e.signature;else{const{chain:x,wallet:v,statement:h,options:f}=e;let p;if(Re())if(typeof v=="object")p=v;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")p=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=v}const b=new URL((s=f==null?void 0:f.url)!==null&&s!==void 0?s:window.location.href),N=await p.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Rm(N[0]);let k=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const I=await p.request({method:"eth_chainId"});k=Qv(I)}const E={domain:b.host,address:_,statement:h,uri:b.href,version:"1",chainId:k,nonce:(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=f==null?void 0:f.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=f==null?void 0:f.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.resources};y=Xv(E),j=await p.request({method:"personal_sign",params:[Yv(y),_]})}try{const{data:x,error:v}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:j},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ke});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new jr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(O(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var s,n,i,a,l,o,c,d,u,m,g,y;let j,x;if("message"in e)j=e.message,x=e.signature;else{const{chain:v,wallet:h,statement:f,options:p}=e;let b;if(Re())if(typeof h=="object")b=h;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof h!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=h}const N=new URL((s=p==null?void 0:p.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),f?{statement:f}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)j=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((d=p==null?void 0:p.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((m=(u=p==null?void 0:p.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(j),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:v,error:h}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:or(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ke});if(h)throw h;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new jr}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:h})}catch(v){if(O(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const s=await Zt(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:a,error:l}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ke});if(await wt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new jr}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(O(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:s,provider:n,token:i,access_token:a,nonce:l}=e,o=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ke}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new jr}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,i,a,l;try{if("email"in e){const{email:o,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await wr(this.storage,this.storageKey));const{error:m}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:o,options:c}=e,{data:d,error:u}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ln("You must provide either an email or phone number.")}catch(o){if(O(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var s,n;try{let i,a;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ke});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,n,i;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await wr(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Bv})}catch(a){if(O(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Nt;const{error:i}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(O(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:l}=await A(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:l,error:o}=await A(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Ln("You must provide either an email or phone number and a type")}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ca:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Zt(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Ra()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ct}):await this._useSession(async s=>{var n,i,a;const{data:l,error:o}=s;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ct})})}catch(s){if(O(s))return pv(s)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Nt;const l=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await wr(this.storage,this.storageKey));const{data:d,error:u}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Ct});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const s=Date.now()/1e3;let n=s,i=!0,a=null;const{payload:l}=Ta(e.access_token);if(l.exp&&(n=l.exp,i=n<=s),i){const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(O(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:l,error:o}=s;if(o)throw o;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Re())throw new In("No browser detected.");if(e.error||e.error_description||e.error_code)throw new In(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new yd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new In("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yd("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=e;if(!a||!o||!l||!d)throw new In("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(o);let g=u+m;c&&(g=parseInt(c));const y=g-u;y*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const j=g-m;u-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,g,u):u-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,g,u);const{data:x,error:v}=await this._getUser(a);if(v)throw v;const h={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:l,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:h,redirectType:e.type},error:null}}catch(n){if(O(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{error:a};const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,e);if(o&&!(fv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=_v(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,i;try{const{data:{session:a},error:l}=s;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await wr(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(O(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(O(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:n,error:i}=await this._useSession(async a=>{var l,o,c,d,u;const{data:m,error:g}=a;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Re()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(O(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var n;try{const{error:i,data:{session:a}}=s;if(i)throw i;const{options:l,provider:o,token:c,access_token:d,nonce:u}=e,m=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ke}),{data:g,error:y}=m;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new jr}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:y})}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,i;const{data:a,error:l}=s;if(l)throw l;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(O(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Cv(async i=>(i>0&&await Ev(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ke})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Pa(a)&&Date.now()+l-n<Sr})}catch(n){if(this._debug(s,"error",n),O(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Re()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Zt(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Er(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Ra()}else if(i&&!i.user&&!i.user){const l=await Zt(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await wt(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,i)):i.user=Ra()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ca;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ca}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Pa(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(i.access_token);!o&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ki;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Nt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),O(a)){const l={data:null,error:a};return Pa(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,s)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Er(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=_d(i);await Er(this.storage,this.storageKey,a)}else{const i=_d(s);await Er(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Re()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sr}ms, refresh threshold is ${Dl} ticks`),i<=Dl&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Tm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Re()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await wr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?{data:null,error:a}:await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(O(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,i;const{data:a,error:l}=s;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await A(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(O(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?iy(e.webauthn.credential_response):ay(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:c}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(s){if(O(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{data:null,error:a};const l=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:o}=l;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:sy(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:ny(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(O(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ta(i.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+mv>i)return n;const{data:a,error:l}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:y,error:j}=await this.getSession();if(j||!y.session)return{data:null,error:j};n=y.session.access_token}const{header:i,payload:a,signature:l,raw:{header:o,payload:c}}=Ta(n);s!=null&&s.allowExpired||Iv(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:i,signature:l},error:null}}const u=Dv(i.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,l,wv(`${o}.${c}`)))throw new Ul("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}}sn.nextInstanceID=0;const fy=sn;class py extends fy{constructor(e){super(e)}}var gy=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?a(u.value):i(u.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class vy{constructor(e,s,n){var i,a,l;this.supabaseUrl=e,this.supabaseKey=s;const o=ov(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:Xg,realtime:ev,auth:Object.assign(Object.assign({},Zg),{storageKey:c}),global:Yg},u=lv(n??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=nv(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new xg(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Gg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Hp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return gy(this,void 0,void 0,function*(){var e,s;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:l,flowType:o,lock:c,debug:d},u,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new py({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),u),storageKey:l,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:c,debug:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yy=(t,e,s)=>new vy(t,e,s);function by(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}by()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jy="https://brubrxutnwydohguylae.supabase.co",wy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJydWJyeHV0bnd5ZG9oZ3V5bGFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MzI4MTMsImV4cCI6MjA3NjIwODgxM30.P5llDpwhk6XlGUNiII0KZgUvPKBiftRbu16LQKuPOlY",R=yy(jy,wy,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});async function Ny(t,e,s){try{const{data:n,error:i}=await R.auth.signUp({email:t,password:e,options:{data:{full_name:s}}});if(i)throw i;if(!n.user)throw new Error("No user returned");const{error:a}=await R.from("profiles").insert({id:n.user.id,email:n.user.email,full_name:s||null,role:"client",language:"fr"});if(a)throw a;return{user:await Gi(n.user.id),error:null}}catch(n){return{user:null,error:n}}}async function _y(t,e){try{const{data:s,error:n}=await R.auth.signInWithPassword({email:t,password:e});if(n)throw n;if(!s.user)throw new Error("No user returned");return{user:await Gi(s.user.id),error:null}}catch(s){return{user:null,error:s}}}async function Lm(){try{const{error:t}=await R.auth.signOut();if(t)throw t;return{error:null}}catch(t){return{error:t}}}async function ky(){const{data:{user:t}}=await R.auth.getUser();return t?await Gi(t.id):null}async function Gi(t){const{data:e,error:s}=await R.from("profiles").select("*").eq("id",t).single();return s||!e?null:{id:e.id,email:e.email,role:e.role,full_name:e.full_name||void 0,phone:e.phone||void 0,language:e.language,location:e.location||void 0,created_at:e.created_at,updated_at:e.updated_at}}function Sy(t){return R.auth.onAuthStateChange((e,s)=>{(async()=>{if(s!=null&&s.user){const n=await Gi(s.user.id);t(n)}else t(null)})()})}const ee=Mp(t=>({user:null,loading:!0,initialized:!1,setUser:e=>t({user:e}),initialize:async()=>{try{const e=await ky();t({user:e,loading:!1,initialized:!0}),Sy(s=>{t({user:s})})}catch(e){console.error("Failed to initialize auth:",e),t({loading:!1,initialized:!0})}},signIn:async(e,s)=>{t({loading:!0});const{user:n,error:i}=await _y(e,s);return t({user:n,loading:!1}),{error:i}},signUp:async(e,s,n)=>{t({loading:!0});const{user:i,error:a}=await Ny(e,s,n);return t({user:i,loading:!1}),{error:a}},signOut:async()=>{t({loading:!0}),await Lm(),t({user:null,loading:!1})}}));function Ey(){var o;const{user:t,signOut:e}=ee(),s=tt(),n=ze(),i=async()=>{await e(),s("/login")},a=c=>c==="/"?n.pathname==="/":n.pathname.startsWith(c),l=()=>{if(!t)return"/profile";switch(t.role){case"creator":return"/creator";case"provider":return"/provider";case"admin":return"/admin";default:return"/profile"}};return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-20",children:[r.jsxs(C,{to:"/",className:"flex items-center space-x-3 group",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform duration-300",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"AC"})}),r.jsx("span",{className:"text-2xl font-black text-gray-900 group-hover:text-primary-600 transition-colors",children:"AlphaCadeau"})]}),r.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[r.jsx(C,{to:"/designs",className:`px-4 py-2 rounded-lg transition-all font-medium ${a("/designs")?"bg-primary-600 text-white shadow-md":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"}`,children:"Catalogue"}),r.jsx(C,{to:"/supports",className:`px-4 py-2 rounded-lg transition-all font-medium ${a("/supports")?"bg-primary-600 text-white shadow-md":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"}`,children:"Produits"}),t&&t.role!=="client"&&r.jsx(C,{to:l(),className:`px-4 py-2 rounded-lg transition-all font-semibold ${a(l())?"bg-primary-600 text-white shadow-lg":"bg-primary-50 text-primary-700 hover:bg-primary-100"}`,children:"Dashboard"}),r.jsx(C,{to:"/about",className:`px-4 py-2 rounded-lg transition-all font-medium ${a("/about")?"bg-primary-600 text-white shadow-md":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"}`,children:" propos"}),r.jsx(C,{to:"/contact",className:`px-4 py-2 rounded-lg transition-all font-medium ${a("/contact")?"bg-primary-600 text-white shadow-md":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"}`,children:"Contact"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:t?r.jsxs(r.Fragment,{children:[r.jsx(C,{to:"/favorites",className:`p-2 rounded-lg transition-all ${a("/favorites")?"text-white bg-primary-600 shadow-md":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"}`,title:"Favoris",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),r.jsx(C,{to:"/cart",className:`p-2 rounded-lg transition-all relative ${a("/cart")?"text-white bg-primary-600 shadow-md":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"}`,title:"Panier",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),r.jsx(C,{to:"/orders",className:`px-4 py-2 rounded-lg transition-all font-medium ${a("/orders")?"bg-primary-600 text-white shadow-md":"text-gray-700 hover:text-primary-600 hover:bg-primary-50"}`,children:"Commandes"}),r.jsx("div",{className:"w-px h-6 bg-gray-300"}),r.jsx(C,{to:"/profile",className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all ${a("/profile")?"bg-primary-600 shadow-md":"hover:bg-gray-50"}`,children:r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a("/profile")?"bg-white":"bg-gradient-to-br from-primary-400 to-primary-600"}`,children:r.jsx("span",{className:`text-sm font-semibold ${a("/profile")?"text-primary-600":"text-white"}`,children:(o=t.email)==null?void 0:o.charAt(0).toUpperCase()})})}),r.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all font-medium text-sm",children:"Dconnexion"})]}):r.jsxs(r.Fragment,{children:[r.jsx(C,{to:"/login",className:"px-4 py-2 text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Connexion"}),r.jsx(C,{to:"/register",className:"px-6 py-2.5 bg-primary-600 text-white hover:bg-primary-700 rounded-lg font-semibold transition-all hover:shadow-lg hover:scale-105",children:"S'inscrire"})]})})]})})}),r.jsx("main",{className:"flex-1 bg-gray-50",children:r.jsx(sp,{})}),r.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"AlphaCadeau"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Plateforme de designs personnaliss sur mesure avec production locale."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Liens rapides"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(C,{to:"/designs",className:"text-sm text-gray-600 hover:text-primary-600",children:"Catalogue"})}),r.jsx("li",{children:r.jsx(C,{to:"/supports",className:"text-sm text-gray-600 hover:text-primary-600",children:"Produits"})}),r.jsx("li",{children:r.jsx(C,{to:"/about",className:"text-sm text-gray-600 hover:text-primary-600",children:" propos"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Compte"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(C,{to:"/register",className:"text-sm text-gray-600 hover:text-primary-600",children:"Crer un compte"})}),r.jsx("li",{children:r.jsx(C,{to:"/login",className:"text-sm text-gray-600 hover:text-primary-600",children:"Se connecter"})}),r.jsx("li",{children:r.jsx(C,{to:"/orders",className:"text-sm text-gray-600 hover:text-primary-600",children:"Mes commandes"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Support"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(C,{to:"/contact",className:"text-sm text-gray-600 hover:text-primary-600",children:"Contact"})}),r.jsx("li",{children:r.jsx(C,{to:"/terms",className:"text-sm text-gray-600 hover:text-primary-600",children:"CGU"})}),r.jsx("li",{children:r.jsx(C,{to:"/privacy",className:"text-sm text-gray-600 hover:text-primary-600",children:"Confidentialit"})})]})]})]}),r.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center text-sm text-gray-600",children:r.jsx("p",{children:" 2024 AlphaCadeau. Tous droits rservs."})})]})})]})}function ct({children:t,allowedRoles:e}){const{user:s,loading:n,initialized:i}=ee(),a=ze();return!i||n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s?e&&!e.includes(s.role)?r.jsx(nd,{to:"/unauthorized",replace:!0}):r.jsx(r.Fragment,{children:t}):r.jsx(nd,{to:"/login",state:{from:a},replace:!0})}function ne({size:t="md"}){const e={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:`animate-spin rounded-full border-b-2 border-primary-600 ${e[t]}`})})}function Cy(){const{user:t}=ee(),[e,s]=w.useState([]),[n,i]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:l,error:o}=await R.from("designs").select("*").eq("status","approved").eq("available",!0).order("views",{ascending:!1}).limit(8);if(o)throw o;s(l||[])}catch(l){console.error("Error fetching featured designs:",l)}finally{i(!1)}};return r.jsxs("div",{className:"bg-white",children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10",children:r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:40px_40px]"})}),r.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32 lg:py-40",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 mb-8",children:[r.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),r.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Plateforme n1 au Bnin"})]}),r.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black text-white mb-8 leading-tight",children:[r.jsx("span",{className:"bg-gradient-to-r from-white to-primary-100 bg-clip-text text-transparent",children:"Crez."}),r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-primary-200 to-white bg-clip-text text-transparent",children:"Personnalisez."}),r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-white to-primary-100 bg-clip-text text-transparent",children:"Inspirez."})]}),r.jsxs("p",{className:"text-xl md:text-2xl text-primary-100 mb-10 max-w-4xl mx-auto leading-relaxed font-light",children:["La plateforme qui rvolutionne la cration de produits personnaliss en connectant",r.jsx("span",{className:"text-white font-medium",children:" artistes talentueux"}),",",r.jsx("span",{className:"text-white font-medium",children:" clients exigeants"})," et",r.jsx("span",{className:"text-white font-medium",children:" producteurs locaux"}),"."]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 justify-center items-center",children:[r.jsxs(C,{to:"/designs",className:"group relative bg-white text-primary-600 hover:bg-gray-50 text-lg font-semibold px-10 py-4 rounded-2xl transition-all duration-300 hover:scale-105 hover:shadow-2xl shadow-lg",children:[r.jsx("span",{className:"relative z-10",children:"Explorer la Galerie"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white to-gray-100 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),!t&&r.jsx(C,{to:"/register",className:"group relative bg-transparent border-2 border-white/80 text-white hover:bg-white/10 text-lg font-semibold px-10 py-4 rounded-2xl backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:border-white",children:r.jsx("span",{className:"relative z-10",children:"Commencer Gratuitement"})})]}),r.jsxs("div",{className:"mt-16 flex flex-col sm:flex-row items-center justify-center gap-8 text-white/70",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(l=>r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-400 to-primary-600 rounded-full border-2 border-white"},l))}),r.jsx("span",{className:"text-sm",children:"+10k crateurs"})]}),r.jsx("div",{className:"hidden sm:block w-px h-6 bg-white/30"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex text-yellow-400",children:"".repeat(5)}),r.jsx("span",{className:"text-sm",children:"4.9/5 (2k+ avis)"})]})]})]})}),r.jsx("div",{className:"absolute top-1/4 left-10 w-4 h-4 bg-white/30 rounded-full animate-float"}),r.jsx("div",{className:"absolute top-1/3 right-20 w-6 h-6 bg-primary-400/40 rounded-full animate-float",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute bottom-1/4 left-20 w-3 h-3 bg-white/20 rounded-full animate-float",style:{animationDelay:"2s"}})]}),r.jsxs("div",{className:"py-24 bg-gradient-to-b from-gray-50 to-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-30",children:r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(156,146,172,0.15)_1px,transparent_0)] bg-[size:30px_30px]"})}),r.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsx("span",{className:"inline-block px-4 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold mb-4",children:"Processus Simplifi"}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Comment a ",r.jsx("span",{className:"text-primary-600",children:"fonctionne"})]}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Une exprience fluide en trois tapes simples pour transformer vos ides en produits exceptionnels"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 relative",children:[r.jsx("div",{className:"hidden lg:block absolute top-20 left-1/4 right-1/4 h-0.5 bg-gradient-to-r from-transparent via-primary-200 to-transparent"}),[{step:"01",icon:"",title:"Choisissez un Design",description:"Parcourez notre galerie exclusive de designs crs par des artistes talentueux ou soumettez votre cration personnelle.",color:"from-blue-500 to-cyan-500"},{step:"02",icon:"",title:"Personnalisez",description:"Slectionnez le support, les couleurs, la taille et ajoutez vos textes. Visualisez en temps rel votre cration.",color:"from-purple-500 to-pink-500"},{step:"03",icon:"",title:"Recevez chez vous",description:"Un producteur local fabrique votre commande avec soin et vous la livre rapidement dans un emballage premium.",color:"from-green-500 to-emerald-500"}].map((l,o)=>r.jsxs("div",{className:"group relative text-center",children:[r.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 w-12 h-12 bg-white border-2 border-primary-100 rounded-full flex items-center justify-center z-10",children:r.jsx("span",{className:"text-primary-700 font-bold text-lg",children:l.step})}),r.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl shadow-gray-200/50 border border-gray-100 group-hover:shadow-2xl group-hover:scale-105 transition-all duration-500 h-full",children:[r.jsx("div",{className:`w-20 h-20 bg-gradient-to-r ${l.color} rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300`,children:r.jsx("span",{className:"text-3xl",children:l.icon})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:l.title}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:l.description})]})]},o))]})]})]}),r.jsx("div",{className:"py-24 bg-gradient-to-b from-white to-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("span",{className:"inline-block px-4 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold mb-4",children:"Catalogue"}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Designs ",r.jsx("span",{className:"text-primary-600",children:"Populaires"})]}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Dcouvrez notre slection de designs les plus apprcis par notre communaut"})]}),n?r.jsx("div",{className:"py-16 text-center",children:r.jsx(ne,{size:"lg"})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map(l=>r.jsxs(C,{to:`/designs/${l.id}`,className:"group bg-white rounded-3xl shadow-lg hover:shadow-2xl border border-gray-100 overflow-hidden transition-all duration-500 transform hover:scale-105 hover:-translate-y-2",children:[r.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[r.jsx("img",{src:l.thumbnail_url||l.image_url,alt:l.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300"}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-white/90 backdrop-blur-sm text-gray-900",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Disponible"]})}),r.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsx("button",{onClick:o=>{o.preventDefault()},className:"p-2 bg-white/90 backdrop-blur-sm rounded-xl shadow-lg hover:bg-white transition-colors duration-200",children:r.jsx("span",{className:"w-5 h-5",children:""})})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-1 group-hover:text-primary-600 transition-colors duration-200 text-lg",children:l.title}),l.description&&r.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2 text-sm leading-relaxed",children:l.description}),l.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:l.tags.slice(0,2).map((o,c)=>r.jsxs("span",{className:"text-xs bg-gradient-to-r from-primary-50 to-primary-100 text-primary-700 px-2 py-1 rounded-lg font-medium",children:["#",o]},c))}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-4 h-4",children:""}),l.views]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-4 h-4",children:""}),l.favorites]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-lg bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:[l.price.toFixed(2)," "]}),r.jsx("div",{className:"text-xs text-gray-500",children:" partir de"})]})]})]})]},l.id))}),r.jsx("div",{className:"mt-12 text-center",children:r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:["Voir tous les designs",r.jsx("span",{className:"ml-2",children:""})]})})]})]})}),r.jsx("div",{className:"py-24 bg-white relative overflow-hidden",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"inline-block px-4 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold mb-4",children:"Pour les Crateurs"}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-8",children:["Transformez votre ",r.jsx("span",{className:"text-primary-600",children:"Passion"})," en Russite"]}),r.jsx("p",{className:"text-xl text-gray-600 mb-10 leading-relaxed",children:"Rejoignez une communaut d'artistes qui vivent de leur crativit grce  notre plateforme innovante."}),r.jsx("div",{className:"space-y-6",children:["Montisez vos crations avec des royalties attractives","Touchez une audience internationale sans effort","Librez-vous de la logistique et de la production","Bnficiez de statistiques dtailles et d'analyses avances","Protgez vos droits d'auteur automatiquement"].map((l,o)=>r.jsxs("div",{className:"flex items-start group",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary-50 rounded-xl flex items-center justify-center mr-4 group-hover:bg-primary-100 transition-colors duration-300",children:r.jsx("span",{className:"text-primary-600 text-lg",children:""})}),r.jsx("span",{className:"text-gray-700 text-lg pt-2 group-hover:text-gray-900 transition-colors duration-300",children:l})]},o))}),r.jsxs(C,{to:"/become-creator",className:"group inline-flex items-center mt-10 bg-primary-600 text-white text-lg font-semibold px-8 py-4 rounded-2xl hover:bg-primary-700 transition-all duration-300 hover:shadow-xl hover:scale-105",children:["Devenir Crateur",r.jsx("span",{className:"ml-3 group-hover:translate-x-1 transition-transform duration-300",children:""})]})]}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"relative bg-gradient-to-br from-primary-500 to-primary-700 rounded-3xl p-8 shadow-2xl",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-semibold",children:"Thomas, Designer"}),r.jsx("div",{className:"text-primary-200 text-sm",children:"+15k de revenus"})]})]}),r.jsx("div",{className:"text-white/90 leading-relaxed",children:`"Cette plateforme a transform ma carrire. Je me concentre sur la cration tandis qu'ils grent tout le reste. Une vritable rvolution !"`})]}),r.jsxs("div",{className:"absolute -top-4 -right-4 bg-white rounded-2xl p-4 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary-600",children:"+89%"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Revenus crateurs"})]})]})})]})})}),r.jsxs("div",{className:"relative bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 py-24 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"30px 30px"}})}),r.jsxs("div",{className:"relative max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[r.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-white mb-8",children:["Prt  ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-200 to-white",children:"Inspirer"})," ?"]}),r.jsx("p",{className:"text-xl md:text-2xl text-primary-100 mb-12 leading-relaxed max-w-3xl mx-auto",children:"Rejoignez la rvolution crative avec des milliers d'artistes, entrepreneurs et passionns qui transforment leurs ides en ralit."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[r.jsx(C,{to:t?"/designs":"/register",className:"group relative bg-white text-primary-600 hover:bg-gray-50 text-lg font-bold px-12 py-5 rounded-2xl transition-all duration-300 hover:scale-105 hover:shadow-2xl shadow-lg",children:r.jsx("span",{className:"relative z-10",children:t?"Explorer la Galerie":"Commencer Maintenant"})}),r.jsx(C,{to:"/demo",className:"group relative bg-transparent border-2 border-white/80 text-white hover:bg-white/10 text-lg font-semibold px-12 py-5 rounded-2xl backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:border-white",children:r.jsx("span",{className:"relative z-10",children:"Voir la Dmo"})})]}),r.jsxs("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 text-white/70",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"10K+"}),r.jsx("div",{className:"text-sm",children:"Crateurs Actifs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"50K+"}),r.jsx("div",{className:"text-sm",children:"Produits Livrs"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"4.9/5"}),r.jsx("div",{className:"text-sm",children:"Satisfaction"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:"24h"}),r.jsx("div",{className:"text-sm",children:"Livraison Express"})]})]})]})]})]})}function Py(){var v,h;const[t,e]=w.useState(""),[s,n]=w.useState(""),[i,a]=w.useState(""),[l,o]=w.useState(!1),[c,d]=w.useState(!1),{signIn:u}=ee(),m=tt(),y=((h=(v=ze().state)==null?void 0:v.from)==null?void 0:h.pathname)||"/",j=async f=>{f.preventDefault(),a(""),o(!0);const{error:p}=await u(t,s);p?(a(p.message),o(!1)):m(y,{replace:!0})},x=(f,p)=>{e(f),n(p)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 flex items-center justify-center py-8 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-400/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary-300/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[r.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 transform hover:scale-105 transition-all duration-500",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-primary-600 to-primary-700 rounded-2xl shadow-lg mb-6",children:r.jsx("span",{className:"text-3xl text-white font-bold",children:""})}),r.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-3",children:"Bon retour !"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Connectez-vous  votre compte AlphaCadeau"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200 hover:border-blue-300 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 text-lg",children:""})}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold text-blue-900",children:"Comptes de test"}),r.jsx("div",{className:"text-sm text-blue-600",children:"Cliquez pour rvler"})]})]}),r.jsx("div",{className:`transform transition-transform duration-300 ${c?"rotate-180":""}`,children:r.jsx("span",{className:"text-blue-600 text-2xl",children:""})})]}),c&&r.jsx("div",{className:"mt-4 space-y-3 animate-fadeIn",children:[{role:" Admin",email:"admin@alphacadeau.fr",password:"Admin123!",color:"from-purple-500 to-purple-600"},{role:" Crateur",email:"creator@alphacadeau.fr",password:"Creator123!",color:"from-green-500 to-green-600"},{role:" Prestataire",email:"provider@alphacadeau.fr",password:"Provider123!",color:"from-orange-500 to-orange-600"},{role:" Client",email:"client@alphacadeau.fr",password:"Client123!",color:"from-blue-500 to-blue-600"}].map((f,p)=>r.jsxs("button",{onClick:()=>x(f.email,f.password),className:`w-full p-4 bg-gradient-to-r ${f.color} text-white rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 text-left`,children:[r.jsx("div",{className:"font-semibold mb-1",children:f.role}),r.jsx("div",{className:"text-sm opacity-90",children:f.email}),r.jsx("div",{className:"text-xs opacity-75 mt-1",children:"Cliquez pour remplir"})]},p))})]}),r.jsxs("form",{className:"space-y-6",onSubmit:j,children:[i&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-2xl animate-shake",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-red-600 text-lg",children:""})}),r.jsx("p",{className:"text-red-800 font-medium",children:i})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[r.jsx("span",{className:"w-5 h-5 mr-2",children:""}),"Adresse email"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:f=>e(f.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"votre@email.com"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[r.jsx("span",{className:"w-5 h-5 mr-2",children:""}),"Mot de passe"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:f=>n(f.target.value),className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Votre mot de passe"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})}),r.jsx(C,{to:"/forgot-password",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-primary-600 hover:text-primary-700 text-sm font-medium transition-colors",children:"Oubli ?"})]})]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"checkbox",className:"sr-only"}),r.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-lg flex items-center justify-center transition-all duration-200 peer-checked:bg-primary-600",children:r.jsx("span",{className:"text-white text-sm opacity-0 peer-checked:opacity-100 transition-opacity",children:""})})]}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Se souvenir de moi"})]})}),r.jsx("button",{type:"submit",disabled:l,className:"w-full py-4 px-6 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-300 group",children:l?r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Connexion en cours..."})]}):r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),r.jsx("span",{children:"Se connecter"})]})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Nouveau sur AlphaCadeau ?"})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs(C,{to:"/register",className:"inline-flex items-center px-6 py-3 bg-white text-gray-900 font-semibold rounded-2xl border border-gray-200 hover:border-primary-300 hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Crer un nouveau compte"]})})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-white/80 text-sm flex items-center justify-center space-x-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Vos donnes sont scurises et chiffres"})]})})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out;
        }
      `})]})}function Ty(){const[t,e]=w.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"client"}),[s,n]=w.useState(""),[i,a]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState(0),{signUp:u}=ee(),m=tt(),g=h=>{let f=0;return h.length>=6&&(f+=25),h.match(/[a-z]/)&&h.match(/[A-Z]/)&&(f+=25),h.match(/\d/)&&(f+=25),h.match(/[^a-zA-Z\d]/)&&(f+=25),f},y=h=>{e({...t,password:h}),d(g(h))},j=h=>h<50?"from-red-500 to-red-600":h<75?"from-orange-500 to-orange-600":"from-green-500 to-green-600",x=h=>h<25?"Trs faible":h<50?"Faible":h<75?"Moyen":"Fort",v=async h=>{if(h.preventDefault(),n(""),t.password!==t.confirmPassword){n("Les mots de passe ne correspondent pas");return}if(t.password.length<6){n("Le mot de passe doit contenir au moins 6 caractres");return}a(!0);const{error:f}=await u(t.email,t.password,t.fullName);f?(n(f.message),a(!1)):m("/")};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 flex items-center justify-center py-8 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[r.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 transform hover:scale-105 transition-all duration-500",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl shadow-lg mb-6",children:r.jsx("span",{className:"text-3xl text-white",children:""})}),r.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-3",children:"Commencez l'aventure"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Rejoignez AlphaCadeau et crez votre compte"})]}),r.jsxs("form",{className:"space-y-6",onSubmit:v,children:[s&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-2xl animate-shake",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-red-600 text-lg",children:""})}),r.jsx("p",{className:"text-red-800 font-medium",children:s})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[r.jsx("span",{className:"w-5 h-5 mr-2",children:""}),"Nom complet"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",required:!0,value:t.fullName,onChange:h=>e({...t,fullName:h.target.value}),className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Jean Dupont"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[r.jsx("span",{className:"w-5 h-5 mr-2",children:""}),"Adresse email"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",autoComplete:"email",required:!0,value:t.email,onChange:h=>e({...t,email:h.target.value}),className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"jean.dupont@example.com"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[r.jsx("span",{className:"w-5 h-5 mr-2",children:""}),"Je souhaite..."]}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"client",label:"Acheter",icon:""},{value:"creator",label:"Crer",icon:""}].map(h=>r.jsxs("button",{type:"button",onClick:()=>e({...t,role:h.value}),className:`p-4 border-2 rounded-2xl transition-all duration-300 transform hover:scale-105 ${t.role===h.value?"border-purple-600 bg-gradient-to-r from-purple-50 to-purple-100 text-purple-700 shadow-lg":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[r.jsx("div",{className:"text-2xl mb-2",children:h.icon}),r.jsx("div",{className:"font-semibold",children:h.label})]},h.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[r.jsx("span",{className:"w-5 h-5 mr-2",children:""}),"Mot de passe"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:l?"text":"password",autoComplete:"new-password",required:!0,value:t.password,onChange:h=>y(h.target.value),className:"w-full pl-12 pr-12 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:""}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})}),r.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:l?"":""})]}),t.password&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{children:"Force du mot de passe"}),r.jsx("span",{className:`font-semibold ${c<50?"text-red-600":c<75?"text-orange-600":"text-green-600"}`,children:x(c)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${j(c)} transition-all duration-500`,style:{width:`${c}%`}})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[r.jsx("span",{className:"w-5 h-5 mr-2",children:""}),"Confirmer le mot de passe"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:l?"text":"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:h=>e({...t,confirmPassword:h.target.value}),className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:""}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]}),t.confirmPassword&&t.password!==t.confirmPassword&&r.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center gap-2",children:[r.jsx("span",{children:""}),"Les mots de passe ne correspondent pas"]})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"mt-1 h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded transition-colors"}),r.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-relaxed",children:["J'accepte les"," ",r.jsx(C,{to:"/terms",className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:"conditions gnrales"})," ","et la"," ",r.jsx(C,{to:"/privacy",className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:"politique de confidentialit"})]})]}),r.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 px-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-300 group",children:i?r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Cration du compte..."})]}):r.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[r.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),r.jsx("span",{children:"Crer mon compte"})]})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Dj membre ?"})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs(C,{to:"/login",className:"inline-flex items-center px-6 py-3 bg-white text-gray-900 font-semibold rounded-2xl border border-gray-200 hover:border-purple-300 hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Se connecter"]})})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-white/80 text-sm flex items-center justify-center space-x-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Vos donnes sont scurises et chiffres de bout en bout"})]})})]}),r.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out;
        }
      `})]})}function Ry(){const[t,e]=w.useState([]),[s,n]=w.useState(!0),[i,a]=w.useState(""),[l,o]=w.useState("all"),[c,d]=w.useState("recent"),[u,m]=w.useState([]);w.useEffect(()=>{g(),y()},[l,c]);const g=async()=>{n(!0);try{let x=R.from("designs").select("*").eq("status","approved").eq("available",!0);switch(l!=="all"&&(x=x.eq("category_id",l)),c){case"recent":x=x.order("created_at",{ascending:!1});break;case"popular":x=x.order("views",{ascending:!1});break;case"price":x=x.order("price",{ascending:!0});break}const{data:v,error:h}=await x.limit(50);if(h)throw h;e(v||[])}catch(x){console.error("Error fetching designs:",x)}finally{n(!1)}},y=async()=>{try{const{data:x,error:v}=await R.from("categories").select("id, name");if(v)throw v;const h=(x==null?void 0:x.map(f=>({...f,count:Math.floor(Math.random()*50)+10})))||[];m([{id:"all",name:"Tous les designs",count:t.length},...h])}catch(x){console.error("Error fetching categories:",x)}},j=t.filter(x=>{var v;return x.title.toLowerCase().includes(i.toLowerCase())||((v=x.description)==null?void 0:v.toLowerCase().includes(i.toLowerCase()))||x.tags.some(h=>h.toLowerCase().includes(i.toLowerCase()))});return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-primary-500 to-primary-600 rounded-3xl shadow-xl mb-6",children:r.jsx("span",{className:"text-3xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4",children:"Galerie de Designs"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Dcouvrez une collection exclusive de designs cratifs, imagins par des artistes talentueux du monde entier"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8 mb-12",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-end",children:[r.jsxs("div",{className:"lg:col-span-6",children:[r.jsxs("label",{htmlFor:"search",className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Rechercher un design"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",id:"search",placeholder:"Rechercher par titre, description, tags...",value:i,onChange:x=>a(x.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]})]}),r.jsxs("div",{className:"lg:col-span-4",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Catgories"]}),r.jsx("select",{value:l,onChange:x=>o(x.target.value),className:"w-full px-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 appearance-none",children:u.map(x=>r.jsxs("option",{value:x.id,children:[x.name," (",x.count,")"]},x.id))})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Trier par"]}),r.jsxs("select",{value:c,onChange:x=>d(x.target.value),className:"w-full px-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 appearance-none",children:[r.jsx("option",{value:"recent",children:"Plus rcents"}),r.jsx("option",{value:"popular",children:"Plus populaires"}),r.jsx("option",{value:"price",children:"Prix croissant"})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Recherche rapide"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["Abstract","Minimaliste","Vintage","Moderne","Nature","Geometric"].map(x=>r.jsxs("button",{onClick:()=>a(x),className:"px-4 py-2 bg-white border border-gray-200 rounded-xl hover:bg-primary-50 hover:border-primary-300 hover:text-primary-700 transition-all duration-200 text-sm font-medium text-gray-700",children:["#",x]},x))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsxs("div",{className:"text-2xl font-bold",children:[t.length,"+"]}),r.jsx("div",{className:"text-blue-100 text-sm",children:"Designs disponibles"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsxs("div",{className:"text-2xl font-bold",children:[u.length,"+"]}),r.jsx("div",{className:"text-green-100 text-sm",children:"Catgories"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold",children:"24h"}),r.jsx("div",{className:"text-purple-100 text-sm",children:"Livraison express"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold",children:"100%"}),r.jsx("div",{className:"text-orange-100 text-sm",children:"Qualit garantie"})]})]}),s&&r.jsx("div",{className:"py-16 text-center",children:r.jsxs("div",{className:"inline-flex flex-col items-center",children:[r.jsx(ne,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Chargement des designs..."})]})}),!s&&j.length>0&&r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:j.map(x=>r.jsxs(C,{to:`/designs/${x.id}`,className:"group bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg hover:shadow-2xl border border-white/60 overflow-hidden transition-all duration-500 transform hover:scale-105 hover:-translate-y-2",children:[r.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[r.jsx("img",{src:x.thumbnail_url||x.image_url,alt:x.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300"}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-white/90 backdrop-blur-sm text-gray-900 border border-white/60",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Disponible"]})}),r.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsx("button",{className:"p-2 bg-white/90 backdrop-blur-sm rounded-xl shadow-lg hover:bg-white transition-colors duration-200",children:r.jsx("span",{className:"w-5 h-5",children:""})})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-1 group-hover:text-primary-600 transition-colors duration-200 text-lg",children:x.title}),x.description&&r.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2 text-sm leading-relaxed",children:x.description}),x.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[x.tags.slice(0,2).map((v,h)=>r.jsxs("span",{className:"text-xs bg-gradient-to-r from-primary-50 to-primary-100 text-primary-700 px-2 py-1 rounded-lg font-medium border border-primary-200",children:["#",v]},h)),x.tags.length>2&&r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-lg",children:["+",x.tags.length-2]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-4 h-4",children:""}),x.views]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-4 h-4",children:""}),x.favorites]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-lg bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:[x.price.toFixed(2)," "]}),r.jsx("div",{className:"text-xs text-gray-500",children:" partir de"})]})]})]})]},x.id))}),!s&&j.length===0&&r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Aucun design trouv"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Nous n'avons trouv aucun design correspondant  vos critres. Essayez de modifier votre recherche ou explorez d'autres catgories."}),r.jsxs("button",{onClick:()=>{a(""),o("all"),d("recent")},className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Rinitialiser les filtres"]})]})}),!s&&j.length>0&&r.jsx("div",{className:"mt-16 text-center",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 rounded-3xl p-8 border border-primary-200",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Vous tes crateur ?"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Rejoignez notre communaut d'artistes et commencez  vendre vos designs ds aujourd'hui"}),r.jsxs(C,{to:"/become-creator",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Devenir crateur"]})]})})]})})}function Oy({designId:t}){const[e,s]=w.useState([]),[n,i]=w.useState(!0),[a,l]=w.useState({averageRating:0,totalReviews:0,distribution:[0,0,0,0,0]});w.useEffect(()=>{o()},[t]);const o=async()=>{try{const{data:c,error:d}=await R.from("reviews").select(`
          *,
          profiles:user_id (full_name, email)
        `).eq("design_id",t).order("created_at",{ascending:!1});if(d)throw d;const u=c||[];s(u);const m=u.length;if(m>0){const y=u.reduce((x,v)=>x+v.rating,0)/m,j=[0,0,0,0,0];u.forEach(x=>{j[x.rating-1]++}),l({averageRating:y,totalReviews:m,distribution:j})}}catch(c){console.error("Error fetching reviews:",c)}finally{i(!1)}};return n?r.jsx(ne,{}):r.jsxs("div",{className:"space-y-6",children:[a.totalReviews>0&&r.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-center gap-8 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-gray-900",children:a.averageRating.toFixed(1)}),r.jsx("div",{className:"flex justify-center mt-2",children:[1,2,3,4,5].map(c=>r.jsx("svg",{className:`w-5 h-5 ${c<=Math.round(a.averageRating)?"text-yellow-400 fill-current":"text-gray-300"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})},c))}),r.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[a.totalReviews," avis"]})]}),r.jsx("div",{className:"flex-1 space-y-2",children:[5,4,3,2,1].map(c=>{const d=a.distribution[c-1],u=d/a.totalReviews*100;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[c,""]}),r.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all",style:{width:`${u}%`}})}),r.jsx("span",{className:"text-sm text-gray-600 w-8",children:d})]},c)})})]})}),e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),r.jsx("p",{className:"text-gray-600",children:"Aucun avis pour le moment"})]}):r.jsx("div",{className:"space-y-4",children:e.map(c=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:c.profiles.full_name||c.profiles.email.split("@")[0]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("div",{className:"flex",children:[1,2,3,4,5].map(d=>r.jsx("svg",{className:`w-4 h-4 ${d<=c.rating?"text-yellow-400 fill-current":"text-gray-300"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})},d))}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(c.created_at).toLocaleDateString("fr-FR")})]})]})}),c.comment&&r.jsx("p",{className:"text-gray-700",children:c.comment})]},c.id))})]})}function Ay(){const{id:t}=Zh(),{user:e}=ee(),s=tt(),[n,i]=w.useState(null),[a,l]=w.useState([]),[o,c]=w.useState(""),[d,u]=w.useState(!0),[m,g]=w.useState(!1),[y,j]=w.useState(!0);w.useEffect(()=>{t&&(x(),v(),h())},[t]);const x=async()=>{try{const{data:b,error:N}=await R.from("designs").select("*").eq("id",t).single();if(N)throw N;i(b);const{data:_,error:k}=await R.from("supports").select("*").eq("available",!0);if(k)throw k;l(_||[])}catch(b){console.error("Error fetching design:",b)}finally{u(!1)}},v=async()=>{if(t)try{await R.from("design_views").insert({design_id:t,user_id:(e==null?void 0:e.id)||null})}catch(b){console.error("Error tracking view:",b)}},h=async()=>{if(!(!e||!t))try{const{data:b}=await R.from("favorites").select("id").eq("user_id",e.id).eq("design_id",t).maybeSingle();g(!!b)}catch(b){console.error("Error checking favorite:",b)}},f=async()=>{if(!e){s("/login");return}try{m?(await R.from("favorites").delete().eq("user_id",e.id).eq("design_id",t),g(!1)):(await R.from("favorites").insert({user_id:e.id,design_id:t}),g(!0))}catch(b){console.error("Error toggling favorite:",b)}},p=()=>{if(!e){s("/login");return}if(!o){alert("Veuillez slectionner un produit");return}s("/order/customize",{state:{designId:t,supportId:o}})};return d?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ne,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du design..."})]})}):n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("nav",{className:"mb-8",children:r.jsxs("ol",{className:"flex items-center space-x-3 text-sm",children:[r.jsx("li",{children:r.jsxs(C,{to:"/",className:"text-gray-500 hover:text-primary-600 transition-colors duration-200 flex items-center",children:[r.jsx("span",{className:"w-5 h-5",children:""}),r.jsx("span",{className:"ml-1",children:"Accueil"})]})}),r.jsx("li",{className:"text-gray-300",children:""}),r.jsx("li",{children:r.jsx(C,{to:"/designs",className:"text-gray-500 hover:text-primary-600 transition-colors duration-200",children:"Designs"})}),r.jsx("li",{className:"text-gray-300",children:""}),r.jsx("li",{className:"text-primary-600 font-medium truncate max-w-xs",children:n.title})]})}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 lg:gap-12",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-3xl shadow-xl border border-white/60 p-6",children:r.jsxs("div",{className:"aspect-square bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl overflow-hidden relative",children:[y&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),r.jsx("img",{src:n.image_url,alt:n.title,className:`w-full h-full object-contain transition-opacity duration-300 ${y?"opacity-0":"opacity-100"}`,onLoad:()=>j(!1)}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Disponible"]})}),r.jsx("button",{onClick:f,className:`absolute top-4 right-4 p-3 rounded-2xl backdrop-blur-sm transition-all duration-300 transform hover:scale-110 ${m?"bg-red-500/90 text-white shadow-lg":"bg-white/80 text-gray-400 hover:text-red-500 shadow-lg"}`,children:r.jsx("svg",{className:"w-6 h-6",fill:m?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})}),n.tags.length>0&&r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/60 shadow-sm",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((b,N)=>r.jsxs("span",{className:"text-sm bg-gradient-to-r from-primary-50 to-primary-100 text-primary-700 px-4 py-2 rounded-full border border-primary-200 font-medium",children:["#",b]},N))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 border border-white/60 shadow-xl",children:[r.jsx("div",{className:"flex items-start justify-between mb-6",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3 leading-tight",children:n.title}),r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:[" partir de ",n.price.toFixed(2)," "]}),r.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[(n.price*1.2).toFixed(2)," "]})]})]})}),r.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"w-5 h-5",children:""}),r.jsxs("span",{children:[n.views," vues"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"w-5 h-5",children:""}),r.jsxs("span",{children:[n.favorites," favoris"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"w-5 h-5",children:""}),r.jsxs("span",{children:[n.sales," ventes"]})]})]}),n.description&&r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),r.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:n.description})]})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 border border-white/60 shadow-xl",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Choisissez votre produit"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:a.map(b=>r.jsxs("button",{onClick:()=>c(b.id),className:`p-6 border-2 rounded-2xl text-left transition-all duration-300 transform hover:scale-105 ${o===b.id?"border-primary-600 bg-gradient-to-r from-primary-50 to-primary-100 shadow-lg":"border-gray-200 hover:border-primary-400 hover:shadow-md"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:b.name}),r.jsxs("div",{className:"text-primary-600 font-bold text-lg",children:["+",b.base_price.toFixed(2)," "]})]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Livraison sous 2-3 jours"})]},b.id))}),r.jsx("button",{onClick:p,disabled:!o,className:"w-full py-4 px-6 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold text-lg rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:shadow-lg",children:r.jsxs("span",{className:"flex items-center justify-center gap-3",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Commander maintenant"})]})})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-6 border border-blue-200 shadow-sm",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-lg",children:"Production locale et responsable"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Ce produit est fabriqu par un artisan local proche de votre adresse de livraison, garantissant une qualit exceptionnelle, un impact cologique rduit et une livraison rapide."})]})]})})]})]}),r.jsx("div",{className:"mt-16",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 border border-white/60 shadow-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-lg",children:""})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Avis clients"})]}),r.jsx(Oy,{designId:n.id})]})})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-gray-300 to-gray-400 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Design non trouv"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Le design que vous recherchez n'existe pas ou a t supprim."}),r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white font-medium rounded-xl hover:bg-primary-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"ml-2",children:"Retour aux designs"})]})]})})}function Ly(){const t=ze(),e=tt(),{user:s}=ee(),{designId:n,supportId:i}=t.state||{},[a,l]=w.useState(null),[o,c]=w.useState(null),[d,u]=w.useState(!0),[m,g]=w.useState(!1),[y,j]=w.useState("customization"),[x,v]=w.useState({quantity:1,size:"M",color:"white",placement:"center",text:""});w.useEffect(()=>{if(!n||!i){e("/designs");return}h()},[n,i]);const h=async()=>{try{const[b,N]=await Promise.all([R.from("designs").select("*").eq("id",n).single(),R.from("supports").select("*").eq("id",i).single()]);if(b.error)throw b.error;if(N.error)throw N.error;l(b.data),c(N.data)}catch(b){console.error("Error fetching data:",b),e("/designs")}finally{u(!1)}},f=()=>!a||!o?0:(a.price+o.base_price)*x.quantity,p=async()=>{if(!(!s||!a||!o)){g(!0);try{const b=a.price+o.base_price,N=f(),{data:_,error:k}=await R.from("orders").insert({client_id:s.id,design_id:a.id,support_id:o.id,quantity:x.quantity,unit_price:b,total_price:N,status:"pending",customization:{size:x.size,color:x.color,placement:x.placement,text:x.text}}).select().single();if(k)throw k;const E="https://brubrxutnwydohguylae.supabase.co/functions/v1/assign-provider",I={Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJydWJyeHV0bnd5ZG9oZ3V5bGFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MzI4MTMsImV4cCI6MjA3NjIwODgxM30.P5llDpwhk6XlGUNiII0KZgUvPKBiftRbu16LQKuPOlY","Content-Type":"application/json"};try{await fetch(E,{method:"POST",headers:I,body:JSON.stringify({orderId:_.id})})}catch(D){console.error("Provider assignment failed:",D)}e("/order/confirm",{state:{orderId:_.id}})}catch(b){console.error("Error creating order:",b),alert("Erreur lors de la cration de la commande. Veuillez ressayer.")}finally{g(!1)}}};return d?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50/30 to-indigo-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ne,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Chargement de la personnalisation..."})]})}):!a||!o?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50/30 to-indigo-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-gray-300 to-gray-400 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Configuration non valide"}),r.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Impossible de charger les dtails de personnalisation."}),r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Retour aux designs"]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50/30 to-indigo-50/20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("nav",{className:"mb-8",children:r.jsxs("ol",{className:"flex items-center space-x-3 text-sm",children:[r.jsx("li",{children:r.jsxs(C,{to:"/",className:"text-gray-500 hover:text-primary-600 transition-colors duration-200 flex items-center",children:[r.jsx("span",{className:"w-5 h-5",children:""}),r.jsx("span",{className:"ml-1",children:"Accueil"})]})}),r.jsx("li",{className:"text-gray-300",children:""}),r.jsx("li",{children:r.jsx(C,{to:"/designs",className:"text-gray-500 hover:text-primary-600 transition-colors duration-200",children:"Designs"})}),r.jsx("li",{className:"text-gray-300",children:""}),r.jsx("li",{children:r.jsx(C,{to:`/designs/${a.id}`,className:"text-gray-500 hover:text-primary-600 transition-colors duration-200",children:a.title})}),r.jsx("li",{className:"text-gray-300",children:""}),r.jsx("li",{className:"text-primary-600 font-medium",children:"Personnalisation"})]})}),r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4",children:"Personnalisez votre cration"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Donnez vie  votre design avec nos options de personnalisation avances"})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsx("div",{className:"xl:col-span-1",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8 sticky top-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Aperu en direct"]}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl overflow-hidden shadow-lg",children:r.jsx("img",{src:a.image_url,alt:a.title,className:"w-full h-full object-contain p-4 transition-all duration-500"})}),r.jsx("div",{className:"absolute inset-0 pointer-events-none",children:x.text&&r.jsx("div",{className:`absolute bg-black/80 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${x.placement==="center"&&"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"} ${x.placement==="top"&&"top-4 left-1/2 transform -translate-x-1/2"}
                    ${x.placement==="left"&&"top-1/2 left-4 transform -translate-y-1/2"}`,children:x.text})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-2xl border border-gray-200",children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2",children:a.title}),r.jsx("p",{className:"text-gray-600",children:o.name})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Votre configuration"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"text-gray-600",children:"Taille"}),r.jsx("span",{className:"font-semibold",children:x.size})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"text-gray-600",children:"Couleur"}),r.jsx("span",{className:"font-semibold capitalize",children:x.color})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"text-gray-600",children:"Placement"}),r.jsx("span",{className:"font-semibold capitalize",children:x.placement})]}),r.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-xl",children:[r.jsx("span",{className:"text-gray-600",children:"Quantit"}),r.jsx("span",{className:"font-semibold",children:x.quantity})]})]})]})]})]})}),r.jsx("div",{className:"xl:col-span-2",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex",children:[{id:"customization",label:"Personnalisation",icon:""},{id:"summary",label:"Rcapitulatif",icon:""}].map(b=>r.jsxs("button",{onClick:()=>j(b.id),className:`flex items-center gap-3 px-8 py-4 font-semibold transition-all duration-300 ${y===b.id?"text-primary-600 border-b-2 border-primary-600 bg-primary-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50/50"}`,children:[r.jsx("span",{className:"text-xl",children:b.icon}),b.label]},b.id))})}),r.jsxs("div",{className:"p-8",children:[y==="customization"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"block text-lg font-semibold text-gray-900 flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Taille du produit"]}),r.jsx("div",{className:"grid grid-cols-5 gap-3",children:["XS","S","M","L","XL"].map(b=>r.jsx("button",{onClick:()=>v({...x,size:b}),className:`p-4 border-2 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 ${x.size===b?"border-primary-600 bg-gradient-to-r from-primary-50 to-primary-100 text-primary-700 shadow-lg":"border-gray-200 hover:border-primary-300 hover:shadow-md"}`,children:b},b))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"block text-lg font-semibold text-gray-900 flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Couleur du produit"]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{name:"white",label:"Blanc",hex:"#FFFFFF",textColor:"text-gray-900"},{name:"black",label:"Noir",hex:"#000000",textColor:"text-white"},{name:"navy",label:"Marine",hex:"#001F3F",textColor:"text-white"},{name:"gray",label:"Gris",hex:"#6B7280",textColor:"text-white"}].map(b=>r.jsxs("button",{onClick:()=>v({...x,color:b.name}),className:`p-4 border-2 rounded-2xl transition-all duration-300 transform hover:scale-105 ${x.color===b.name?"border-primary-600 ring-2 ring-primary-200 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"w-full h-16 rounded-xl mb-3 border-2 border-gray-200 shadow-inner",style:{backgroundColor:b.hex}}),r.jsx("div",{className:`text-center font-medium ${b.textColor}`,children:b.label})]},b.name))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"block text-lg font-semibold text-gray-900 flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Placement du design"]}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"center",label:"Centre",icon:""},{value:"top",label:"Haut",icon:""},{value:"left",label:"Gauche",icon:""}].map(b=>r.jsxs("button",{onClick:()=>v({...x,placement:b.value}),className:`p-6 border-2 rounded-2xl transition-all duration-300 transform hover:scale-105 ${x.placement===b.value?"border-primary-600 bg-gradient-to-r from-primary-50 to-primary-100 text-primary-700 shadow-lg":"border-gray-200 hover:border-primary-300 hover:shadow-md"}`,children:[r.jsx("div",{className:"text-3xl mb-2",children:b.icon}),r.jsx("div",{className:"font-semibold",children:b.label})]},b.value))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"block text-lg font-semibold text-gray-900 flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Texte personnalis",r.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(optionnel)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:x.text,onChange:b=>v({...x,text:b.target.value}),placeholder:"Ajoutez votre texte personnalis...",maxLength:50,className:"w-full px-6 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 text-lg"}),r.jsxs("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:[(x.text||"").length,"/50"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"block text-lg font-semibold text-gray-900 flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Quantit"]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx("button",{onClick:()=>v({...x,quantity:Math.max(1,x.quantity-1)}),className:"w-14 h-14 flex items-center justify-center border-2 border-gray-200 rounded-2xl hover:border-primary-300 hover:bg-primary-50 transition-all duration-300 text-2xl font-bold text-gray-600 hover:text-primary-600",children:""}),r.jsx("span",{className:"text-3xl font-bold text-gray-900 min-w-12 text-center",children:x.quantity}),r.jsx("button",{onClick:()=>v({...x,quantity:x.quantity+1}),className:"w-14 h-14 flex items-center justify-center border-2 border-gray-200 rounded-2xl hover:border-primary-300 hover:bg-primary-50 transition-all duration-300 text-2xl font-bold text-gray-600 hover:text-primary-600",children:"+"})]})]})]}),y==="summary"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-2xl p-6 border border-gray-200",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Dtails du prix"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[r.jsxs("span",{className:"text-gray-600",children:['Design "',a.title,'"']}),r.jsxs("span",{className:"font-semibold",children:[a.price.toFixed(2)," "]})]}),r.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[r.jsxs("span",{className:"text-gray-600",children:['Support "',o.name,'"']}),r.jsxs("span",{className:"font-semibold",children:[o.base_price.toFixed(2)," "]})]}),r.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-200",children:[r.jsx("span",{className:"text-gray-600",children:"Quantit"}),r.jsxs("span",{className:"font-semibold",children:[" ",x.quantity]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Total"}),r.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:[f().toFixed(2)," "]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-2xl border border-green-200",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold text-green-900",children:"Livraison rapide"}),r.jsx("div",{className:"text-sm text-green-700",children:"5-10 jours"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-2xl border border-blue-200",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold text-blue-900",children:"Production locale"}),r.jsx("div",{className:"text-sm text-blue-700",children:"Artisans franais"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-2xl border border-purple-200",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{className:"font-semibold text-purple-900",children:"Qualit garantie"}),r.jsx("div",{className:"text-sm text-purple-700",children:"Satisfait ou rembours"})]})]})]}),r.jsxs("div",{className:"flex gap-4 pt-8 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>e(-1),className:"flex-1 py-4 px-6 bg-white text-gray-900 font-semibold rounded-2xl border border-gray-200 hover:border-primary-300 hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-3",children:[r.jsx("span",{children:""}),"Retour"]}),r.jsx("button",{onClick:p,disabled:m,className:"flex-1 py-4 px-6 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200 flex items-center justify-center gap-3",children:m?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Traitement..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),"Valider la commande"]})})]})]})]})})]})]})})}function Iy(){const t=ze(),e=tt(),{orderId:s}=t.state||{},[n,i]=w.useState(null),[a,l]=w.useState(!0),[o,c]=w.useState(1);w.useEffect(()=>{if(!s){e("/designs");return}d();const u=setTimeout(()=>c(2),1e3);return()=>clearTimeout(u)},[s]);const d=async()=>{try{const{data:u,error:m}=await R.from("orders").select(`
          *,
          designs (title, image_url),
          supports (name)
        `).eq("id",s).single();if(m)throw m;i(u)}catch(u){console.error("Error fetching order:",u),e("/designs")}finally{l(!1)}};return a?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50/30 to-teal-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ne,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Prparation de votre confirmation..."})]})}):n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50/30 to-teal-50/20",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 bg-gradient-to-r from-green-500 to-emerald-600 rounded-3xl shadow-2xl mb-8 animate-bounce",children:r.jsx("span",{className:"text-5xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4",children:"Commande Confirme !"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Votre cration personnalise est en cours de prparation. Vous recevrez des mises  jour  chaque tape."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Suivi de commande"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-1 bg-gray-200 -translate-x-1/2"}),r.jsx("div",{className:"space-y-8 relative z-10",children:[{step:1,icon:"",title:"Commande confirme",description:"Votre paiement a t accept",active:!0},{step:2,icon:"",title:"Assignation en cours",description:"Recherche du meilleur prestataire",active:o>=2},{step:3,icon:"",title:"Production",description:"Fabrication de votre produit",active:!1},{step:4,icon:"",title:"Expdition",description:"Envoi vers votre adresse",active:!1},{step:5,icon:"",title:"Livraison",description:"Rception de votre commande",active:!1}].map(u=>r.jsxs("div",{className:"flex items-start space-x-6",children:[r.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-2xl flex items-center justify-center text-2xl transition-all duration-500 ${u.active?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg scale-110":"bg-gray-100 text-gray-400"}`,children:u.icon}),r.jsxs("div",{className:"flex-1 pt-2",children:[r.jsx("h3",{className:`font-semibold text-lg transition-colors ${u.active?"text-gray-900":"text-gray-400"}`,children:u.title}),r.jsx("p",{className:`mt-1 transition-colors ${u.active?"text-gray-600":"text-gray-400"}`,children:u.description})]})]},u.step))})]})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Dtails de la commande"]}),r.jsxs("div",{className:"flex gap-6 mb-8 p-6 bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"w-24 h-24 bg-white rounded-2xl shadow-lg overflow-hidden flex-shrink-0",children:r.jsx("img",{src:n.designs.image_url,alt:n.designs.title,className:"w-full h-full object-contain p-2"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n.designs.title}),r.jsx("p",{className:"text-gray-600 mb-3",children:n.supports.name}),n.customization&&Object.keys(n.customization).length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(n.customization).map(([u,m])=>m&&r.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200",children:[r.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-2"}),u,": ",m]},u))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-2xl",children:[r.jsx("span",{className:"text-gray-600",children:"N de commande"}),r.jsxs("span",{className:"font-mono font-bold text-gray-900",children:["#",n.id.slice(0,8).toUpperCase()]})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-2xl",children:[r.jsx("span",{className:"text-gray-600",children:"Statut"}),r.jsx("span",{className:"font-semibold text-green-600 capitalize",children:n.status})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-2xl",children:[r.jsx("span",{className:"text-gray-600",children:"Quantit"}),r.jsx("span",{className:"font-semibold text-gray-900",children:n.quantity})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-2xl",children:[r.jsx("span",{className:"text-gray-600",children:"Prix unitaire"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:[n.unit_price.toFixed(2)," "]})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center p-6 bg-gradient-to-r from-primary-50 to-primary-100 rounded-2xl border border-primary-200",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Total"}),r.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:[n.total_price.toFixed(2)," "]})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Besoin d'aide ?"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Notre quipe est l pour vous accompagner"}),r.jsxs("a",{href:"/contact",className:"inline-flex items-center justify-center w-full py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Nous contacter"]})]})}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-100 rounded-3xl border border-green-200 p-6",children:[r.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Prochaines tapes"]}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs mt-0.5 flex-shrink-0",children:"1"}),r.jsx("span",{children:"Attribution  un prestataire local (24-48h)"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs mt-0.5 flex-shrink-0",children:"2"}),r.jsx("span",{children:"Production artisanale de votre produit"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"w-5 h-5 bg-green-500 text-white rounded-full flex items-center justify-center text-xs mt-0.5 flex-shrink-0",children:"3"}),r.jsx("span",{children:"Contrle qualit et expdition"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(C,{to:"/designs",className:"w-full inline-flex items-center justify-center px-6 py-4 bg-white text-gray-900 font-semibold rounded-2xl border border-gray-200 hover:border-primary-300 hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Continuer mes achats"]}),r.jsxs(C,{to:"/orders",className:"w-full inline-flex items-center justify-center px-6 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Voir mes commandes"]})]})]})]}),r.jsx("div",{className:"mt-12 text-center",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 border border-white/60 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl text-green-600",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"E-mail de confirmation envoy"}),r.jsx("p",{className:"text-gray-600",children:"Conservez-le pour suivre votre commande"})]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Temps de production estim : 5-10 jours ouvrs  Livraison express disponible"})]})})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50/30 to-teal-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-gray-300 to-gray-400 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Commande non trouve"}),r.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Nous n'avons pas pu retrouver les dtails de votre commande."}),r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Explorer les designs"]})]})})}function Dy(){const{user:t}=ee(),[e,s]=w.useState([]),[n,i]=w.useState(!0),[a,l]=w.useState("all"),[o,c]=w.useState(""),[d,u]=w.useState(null);w.useEffect(()=>{m()},[a]);const m=async()=>{if(t)try{let p=R.from("designs").select("*").eq("creator_id",t.id).order("created_at",{ascending:!1});a!=="all"&&(p=p.eq("status",a));const{data:b,error:N}=await p;if(N)throw N;s(b||[])}catch(p){console.error("Error fetching designs:",p)}finally{i(!1)}},g=async p=>{if(confirm("tes-vous sr de vouloir supprimer ce design ?"))try{const{error:b}=await R.from("designs").delete().eq("id",p).eq("creator_id",t==null?void 0:t.id);if(b)throw b;s(e.filter(N=>N.id!==p))}catch(b){console.error("Error deleting design:",b),alert("Erreur lors de la suppression du design")}},y=async(p,b)=>{u(p);try{const{error:N}=await R.from("designs").update({available:!b}).eq("id",p).eq("creator_id",t==null?void 0:t.id);if(N)throw N;s(e.map(_=>_.id===p?{..._,available:!b}:_))}catch(N){console.error("Error updating design:",N),alert("Erreur lors de la mise  jour")}finally{u(null)}},j=p=>{const b={approved:"bg-green-100 text-green-800 border border-green-200",pending:"bg-yellow-100 text-yellow-800 border border-yellow-200",rejected:"bg-red-100 text-red-800 border border-red-200"},N={approved:"Approuv",pending:"En attente",rejected:"Rejet"},_={approved:"",pending:"",rejected:""};return r.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs font-semibold px-3 py-1.5 rounded-full ${b[p]}`,children:[_[p],N[p]]})},v=(()=>{const p=e.length,b=e.filter(E=>E.status==="approved").length,N=e.filter(E=>E.status==="pending").length,_=e.filter(E=>E.status==="rejected").length,k=e.filter(E=>E.available).length;return{total:p,approved:b,pending:N,rejected:_,available:k}})(),h=e.filter(p=>p.title.toLowerCase().includes(o.toLowerCase())||(p.description||"").toLowerCase().includes(o.toLowerCase())),f=p=>(p.sales*p.price*.7).toFixed(2);return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Designs"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Grez et suivez la performance de vos crations"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",placeholder:"Rechercher un design...",value:o,onChange:p=>c(p.target.value),className:"block w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl bg-white shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200"})]}),r.jsxs(C,{to:"/creator/upload",className:"flex items-center gap-2 bg-primary-600 text-white rounded-xl px-6 py-2.5 hover:bg-primary-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx("span",{className:"text-lg",children:"+"}),"Nouveau Design"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:v.total}),r.jsx("div",{className:"text-blue-100 text-sm",children:"Total"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:v.approved}),r.jsx("div",{className:"text-green-100 text-sm",children:"Approuvs"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:v.pending}),r.jsx("div",{className:"text-yellow-100 text-sm",children:"En attente"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:v.rejected}),r.jsx("div",{className:"text-red-100 text-sm",children:"Rejets"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:v.available}),r.jsx("div",{className:"text-purple-100 text-sm",children:"Disponibles"})]})})]}),r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtrer par statut"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Afficher les designs par statut de modration"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"Tous les designs",count:v.total},{key:"approved",label:"Approuvs",count:v.approved},{key:"pending",label:"En attente",count:v.pending},{key:"rejected",label:"Rejets",count:v.rejected}].map(({key:p,label:b,count:N})=>r.jsxs("button",{onClick:()=>l(p),className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${a===p?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-md"}`,children:[b,r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${a===p?"bg-white/20 text-white/90":"bg-gray-300 text-gray-700"}`,children:N})]},p))})]})}),h.length===0?r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-16 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:o?"Aucun design trouv":"Aucun design"}),r.jsx("p",{className:"text-gray-600 mb-6",children:o?"Aucun design ne correspond  votre recherche.":"Commencez par tlcharger votre premier design."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx(C,{to:"/creator/upload",className:"btn btn-primary",children:"Tlcharger un design"}),o&&r.jsx("button",{onClick:()=>c(""),className:"btn btn-secondary",children:"Effacer la recherche"})]})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:h.map(p=>r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-lg transition-all duration-300 group",children:[r.jsxs("div",{className:"relative aspect-[4/3] bg-gradient-to-br from-gray-100 to-gray-200 rounded-t-2xl overflow-hidden",children:[r.jsx("img",{src:p.thumbnail_url||p.image_url,alt:p.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),r.jsx("div",{className:"absolute top-4 left-4",children:j(p.status)}),!p.available&&r.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:r.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl px-4 py-2",children:r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Indisponible"})})}),r.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsx("div",{className:"flex gap-2",children:r.jsx(C,{to:`/designs/${p.id}`,className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-lg flex items-center justify-center hover:bg-white transition-colors duration-200",title:"Voir le design",children:r.jsxs("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 line-clamp-1",children:p.title}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 leading-relaxed",children:p.description}),r.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[r.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"font-bold text-blue-600 text-sm",children:p.views}),r.jsx("div",{className:"text-blue-500 text-xs",children:"Vues"})]}),r.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"font-bold text-purple-600 text-sm",children:p.favorites}),r.jsx("div",{className:"text-purple-500 text-xs",children:"Favoris"})]}),r.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"font-bold text-green-600 text-sm",children:p.sales}),r.jsx("div",{className:"text-green-500 text-xs",children:"Ventes"})]}),r.jsxs("div",{className:"text-center p-2 bg-orange-50 rounded-lg",children:[r.jsxs("div",{className:"font-bold text-orange-600 text-sm",children:[f(p),""]}),r.jsx("div",{className:"text-orange-500 text-xs",children:"Revenus"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:[p.price.toFixed(2)," "]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Prix de vente"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>y(p.id,p.available),disabled:d===p.id,className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${p.available?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"} disabled:opacity-50 disabled:cursor-not-allowed`,children:d===p.id?r.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}):p.available?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),"Masquer"]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),"Afficher"]})}),r.jsx("button",{onClick:()=>g(p.id),className:"w-10 h-10 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-200 flex items-center justify-center",title:"Supprimer le design",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[r.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Cr le ",new Date(p.created_at).toLocaleDateString("fr-FR")]})})]})]},p.id))}),h.length>0&&r.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 border border-primary-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Performance globale"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[h.length," design",h.length>1?"s":""," ",h.reduce((p,b)=>p+b.sales,0)," ventes totales"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Revenus estims: ",r.jsxs("span",{className:"font-semibold text-primary-600",children:[h.reduce((p,b)=>p+b.sales*b.price*.7,0).toFixed(2)," "]})]})})]})})]})}function Im({totalAmount:t,paidAmount:e}){const[s,n]=w.useState(!1),[i,a]=w.useState(""),l=t-e,o=t>0?e/t*100:0,c=async()=>{const d=parseFloat(i);d>0&&d<=l&&(alert(`Demande de paiement de ${d} envoye avec succs`),n(!1),a(""))};return r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Finances"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full font-medium",children:"Vue d'ensemble"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:[r.jsx("div",{className:"text-sm text-blue-700 font-medium mb-1",children:"Montant Total"}),r.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[t.toFixed(2)," "]}),r.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Revenus gnrs"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:[r.jsx("div",{className:"text-sm text-green-700 font-medium mb-1",children:"Montant Pay"}),r.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[e.toFixed(2)," "]}),r.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Dj vers"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-200",children:[r.jsx("div",{className:"text-sm text-orange-700 font-medium mb-1",children:"Solde Restant"}),r.jsxs("div",{className:"text-2xl font-bold text-orange-900",children:[l.toFixed(2)," "]}),r.jsx("div",{className:"text-xs text-orange-600 mt-1",children:" recevoir"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Progression des paiements"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:[o.toFixed(1),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"h-3 rounded-full transition-all duration-500 bg-gradient-to-r from-green-500 to-green-600",style:{width:`${o}%`}})})]}),l>0&&r.jsxs("button",{onClick:()=>n(!0),className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-xl font-semibold hover:from-primary-700 hover:to-primary-800 transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[r.jsx("span",{children:"Demander un Paiement"}),r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Demande de Paiement"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant  demander"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",value:i,onChange:d=>a(d.target.value),placeholder:"0.00",step:"0.01",max:l,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:""})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Solde disponible: ",r.jsxs("span",{className:"font-semibold text-gray-900",children:[l.toFixed(2)," "]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{n(!1),a("")},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Annuler"}),r.jsx("button",{onClick:c,disabled:!i||parseFloat(i)<=0||parseFloat(i)>l,className:"flex-1 px-4 py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Confirmer"})]})]})})]})}function Rd(){var d,u;const{user:t}=ee(),[e,s]=w.useState(null),[n,i]=w.useState(!0),[a,l]=w.useState("month");w.useEffect(()=>{o()},[a]);const o=async()=>{if(t)try{const{data:m,error:g}=await R.from("designs").select("*").eq("creator_id",t.id);if(g)throw g;const y=(m==null?void 0:m.length)||0,j=(m==null?void 0:m.reduce((_,k)=>_+(k.views||0),0))||0,x=(m==null?void 0:m.reduce((_,k)=>_+(k.favorites||0),0))||0,v=(m==null?void 0:m.reduce((_,k)=>_+(k.sales||0),0))||0,h=(m==null?void 0:m.filter(_=>_.status==="pending").length)||0,{data:f}=await R.from("orders").select("total_price, designs!inner(creator_id)").eq("designs.creator_id",t.id),p=(f==null?void 0:f.reduce((_,k)=>_+(k.total_price||0),0))||0,b=j>0?v/j*100:0,N=y>0?p/y:0;s({totalDesigns:y,totalViews:j,totalFavorites:x,totalSales:v,totalRevenue:p,pendingDesigns:h,conversionRate:b,avgRevenuePerDesign:N})}catch(m){console.error("Error fetching stats:",m)}finally{i(!1)}},c=m=>m>=1e6?(m/1e6).toFixed(1)+"M":m>=1e3?(m/1e3).toFixed(1)+"k":m.toString();return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord Crateur"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Suivez la performance de vos designs et optimisez vos revenus"})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("select",{value:a,onChange:m=>l(m.target.value),className:"bg-white border border-gray-300 rounded-xl px-4 py-2.5 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",children:[r.jsx("option",{value:"week",children:"Cette semaine"}),r.jsx("option",{value:"month",children:"Ce mois"}),r.jsx("option",{value:"year",children:"Cette anne"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg shadow-blue-200 hover:shadow-xl hover:shadow-blue-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalDesigns)||0}),r.jsx("div",{className:"text-blue-100 text-sm",children:"Designs"})]})]}),e!=null&&e.pendingDesigns?r.jsx("div",{className:"bg-white/20 rounded-lg px-3 py-1.5",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-blue-50",children:"En attente"}),r.jsx("span",{className:"font-semibold text-yellow-300",children:e.pendingDesigns})]})}):r.jsx("div",{className:"text-blue-100 text-sm",children:"Tous approuvs "})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg shadow-purple-200 hover:shadow-xl hover:shadow-purple-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:c((e==null?void 0:e.totalViews)||0)}),r.jsx("div",{className:"text-purple-100 text-sm",children:"Vues"})]})]}),r.jsxs("div",{className:"text-purple-100 text-sm",children:[e!=null&&e.conversionRate?e.conversionRate.toFixed(1):0,"% de conversion"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg shadow-green-200 hover:shadow-xl hover:shadow-green-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.totalSales)||0}),r.jsx("div",{className:"text-green-100 text-sm",children:"Ventes"})]})]}),r.jsxs("div",{className:"text-green-100 text-sm",children:["Moyenne: ",e!=null&&e.avgRevenuePerDesign?e.avgRevenuePerDesign.toFixed(0):0,"/design"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg shadow-orange-200 hover:shadow-xl hover:shadow-orange-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold",children:[((d=e==null?void 0:e.totalRevenue)==null?void 0:d.toFixed(0))||"0"," "]}),r.jsx("div",{className:"text-orange-100 text-sm",children:"Revenus"})]})]}),r.jsx("div",{className:"text-orange-100 text-sm",children:"Croissance: +12% ce mois"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Taux de Conversion"}),r.jsxs("div",{className:"flex items-end justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[e!=null&&e.conversionRate?e.conversionRate.toFixed(1):0,"%"]}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Vues  Ventes"})]}),r.jsx("div",{className:"w-20 h-20",children:r.jsxs("div",{className:"relative w-full h-full",children:[r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[r.jsx("path",{d:`M18 2.0845
                      a 15.9155 15.9155 0 0 1 0 31.831
                      a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),r.jsx("path",{d:`M18 2.0845
                      a 15.9155 15.9155 0 0 1 0 31.831
                      a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#8B5CF6",strokeWidth:"3",strokeDasharray:`${(e==null?void 0:e.conversionRate)||0}, 100`})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[e!=null&&e.conversionRate?e.conversionRate.toFixed(1):0,"%"]})})]})})]}),r.jsx("div",{className:"mt-4 text-sm text-gray-600",children:r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{children:"Performance"}),r.jsx("span",{className:"font-semibold",children:e!=null&&e.conversionRate&&e.conversionRate>5?"Excellente":e!=null&&e.conversionRate&&e.conversionRate>2?"Bonne":" amliorer"})]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Engagement"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-red-600 text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.totalFavorites)||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Favoris total"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-semibold text-green-600",children:"+8%"}),r.jsx("div",{className:"text-xs text-gray-500",children:"ce mois"})]})]}),r.jsx("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-xl",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:e!=null&&e.totalDesigns?Math.round(e.totalFavorites/e.totalDesigns):0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Favoris/design"})]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Analyse des Revenus"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-orange-50 to-orange-100 rounded-xl",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Revenu moyen"}),r.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[e!=null&&e.avgRevenuePerDesign?e.avgRevenuePerDesign.toFixed(0):0," "]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-green-50 to-green-100 rounded-xl",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Vente moyenne"}),r.jsxs("div",{className:"text-lg font-bold text-green-600",children:[e!=null&&e.totalSales?(e.totalRevenue/e.totalSales).toFixed(0):0," "]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Potentiel mensuel"}),r.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[e!=null&&e.totalRevenue?(e.totalRevenue*1.12).toFixed(0):0," "]})]})]})]})]}),r.jsx(Im,{totalAmount:(e==null?void 0:e.totalRevenue)||0,paidAmount:((e==null?void 0:e.totalRevenue)||0)*.3,role:"creator"}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Actions Rapides"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full font-medium",children:"Accs direct"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(C,{to:"/creator/upload",className:"group flex items-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-2xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-14 h-14 bg-blue-500 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl text-white",children:"+"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Nouveau Design"}),r.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Tlcharger un nouveau design"})]}),r.jsx("div",{className:"text-blue-600 group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsxs(C,{to:"/creator/designs",className:"group flex items-center p-6 bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-2xl hover:from-green-100 hover:to-green-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Grer Mes Designs"}),r.jsxs("p",{className:"text-green-700 text-sm mt-1",children:[(e==null?void 0:e.totalDesigns)||0," designs dans votre catalogue"]})]}),r.jsx("div",{className:"text-green-600 group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsxs(C,{to:"/profile",className:"group flex items-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-2xl hover:from-purple-100 hover:to-purple-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-14 h-14 bg-purple-500 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Mon Profil"}),r.jsx("p",{className:"text-purple-700 text-sm mt-1",children:"Modifier mes informations"})]}),r.jsx("div",{className:"text-purple-600 group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 border border-blue-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xl",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Conseils pour booster vos performances"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-xl",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Tags pertinents"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Amliorez la dcouvrabilit"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-xl",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-green-600 text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Haute rsolution"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Images avec fond transparent"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-xl",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-purple-600 text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Descriptions dtailles"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Mettez en valeur votre travail"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-xl",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-orange-600 text-sm",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Tendances saisonnires"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Crez des designs actuels"})]})]})]})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-primary-600 text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Performance globale"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Votre activit crative gnre de la valeur  Priode: ",a==="week"?"7 jours":a==="month"?"30 jours":"1 an"]})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-gray-900 text-lg",children:(e==null?void 0:e.totalSales)||0}),r.jsx("div",{className:"text-gray-600",children:"Ventes totales"})]}),r.jsx("div",{className:"w-px h-8 bg-gray-300"}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"font-bold text-gray-900 text-lg",children:[((u=e==null?void 0:e.totalRevenue)==null?void 0:u.toFixed(0))||0,""]}),r.jsx("div",{className:"text-gray-600",children:"Revenus gnrs"})]}),r.jsx("div",{className:"w-px h-8 bg-gray-300"}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"font-bold text-gray-900 text-lg",children:[e!=null&&e.conversionRate?e.conversionRate.toFixed(1):0,"%"]}),r.jsx("div",{className:"text-gray-600",children:"Taux de conversion"})]})]})]})})]})}function $y(){const{user:t}=ee(),e=tt(),[s,n]=w.useState([]),[i,a]=w.useState(!1),[l,o]=w.useState(!1),[c,d]=w.useState(1),[u,m]=w.useState({title:"",description:"",image_url:"",thumbnail_url:"",category_id:"",tags:"",price:"4.99"});w.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:h,error:f}=await R.from("categories").select("id, name").order("name");if(f)throw f;n(h||[])}catch(h){console.error("Error fetching categories:",h)}},y=async h=>{if(h.preventDefault(),!!t){a(!0);try{const f=u.tags.split(",").map(b=>b.trim()).filter(b=>b.length>0),{error:p}=await R.from("designs").insert({creator_id:t.id,title:u.title,description:u.description,image_url:u.image_url,thumbnail_url:u.thumbnail_url||u.image_url,category_id:u.category_id,tags:f,price:parseFloat(u.price),status:"pending",available:!0});if(p)throw p;alert("Design tlcharg avec succs ! Il sera examin par notre quipe."),e("/creator/designs")}catch(f){console.error("Error uploading design:",f),alert("Erreur lors du tlchargement du design")}finally{a(!1)}}},j=()=>{c<3&&d(c+1)},x=()=>{c>1&&d(c-1)},v=()=>{switch(c){case 1:return u.title&&u.description&&u.image_url;case 2:return u.category_id;case 3:return parseFloat(u.price)>=.99;default:return!1}};return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Publier un nouveau design"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Partagez votre crativit avec la communaut AlphaCadeau"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between relative",children:[r.jsx("div",{className:"absolute top-4 left-0 right-0 h-1 bg-gray-200 -z-10",children:r.jsx("div",{className:"h-1 bg-primary-600 transition-all duration-500",style:{width:`${(c-1)/2*100}%`}})}),[{number:1,label:"Informations",icon:""},{number:2,label:"Catgorisation",icon:""},{number:3,label:"Prix & Validation",icon:""}].map(h=>r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all duration-300 ${c>=h.number?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-gray-200 text-gray-500"}`,children:c>h.number?"":h.icon}),r.jsx("span",{className:`text-sm font-medium mt-2 ${c>=h.number?"text-primary-600":"text-gray-500"}`,children:h.label})]},h.number))]})}),r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:r.jsxs("form",{onSubmit:y,className:"p-8",children:[c===1&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations du design"}),r.jsx("p",{className:"text-gray-600",children:"Dcrivez votre design et ajoutez les images principales"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Titre du design *"}),r.jsx("input",{type:"text",required:!0,value:u.title,onChange:h=>m({...u,title:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",placeholder:"Ex: Design Gomtrique Moderne"})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Description *"}),r.jsx("textarea",{required:!0,value:u.description,onChange:h=>m({...u,description:h.target.value}),rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 resize-none",placeholder:"Dcrivez votre design en dtail, son inspiration, son style..."})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"URL de l'image principale *"}),r.jsx("input",{type:"url",required:!0,value:u.image_url,onChange:h=>{m({...u,image_url:h.target.value}),o(!1)},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",placeholder:"https://example.com/design-image.png"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[r.jsx("span",{className:"text-green-500",children:""}),"Utilisez une image PNG avec fond transparent (min. 2000x2000px)"]})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6 border border-gray-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4 text-center",children:"Aperu en temps rel"}),u.image_url?r.jsxs("div",{className:"aspect-square bg-white rounded-xl border-2 border-dashed border-gray-300 overflow-hidden shadow-sm",children:[r.jsx("img",{src:u.image_url,alt:"Preview",className:"w-full h-full object-contain transition-transform duration-300 hover:scale-105",onError:h=>{o(!0),h.currentTarget.style.display="none"}}),l&&r.jsxs("div",{className:"w-full h-full flex items-center justify-center flex-col",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-3",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("p",{className:"text-red-600 font-medium text-sm",children:"Erreur de chargement"}),r.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Vrifiez l'URL de l'image"})]})]}):r.jsx("div",{className:"aspect-square bg-white rounded-xl border-2 border-dashed border-gray-300 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-2xl text-gray-400",children:""})}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Aperu du design"}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"L'image apparatra ici"})]})}),u.title&&r.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg border border-gray-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-2",children:u.title}),u.description&&r.jsx("p",{className:"text-gray-600 text-xs line-clamp-2",children:u.description})]})]})})]})]}),c===2&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Catgorisation"}),r.jsx("p",{className:"text-gray-600",children:"Aidez les utilisateurs  dcouvrir votre design"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Catgorie principale *"}),r.jsxs("select",{required:!0,value:u.category_id,onChange:h=>m({...u,category_id:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Choisissez une catgorie"}),s.map(h=>r.jsx("option",{value:h.id,children:h.name},h.id))]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Mots-cls"}),r.jsx("input",{type:"text",value:u.tags,onChange:h=>m({...u,tags:h.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",placeholder:"gomtrique, moderne, abstrait, minimaliste..."}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[r.jsx("span",{className:"text-blue-500",children:""}),"Sparez les tags par des virgules pour amliorer la dcouvrabilit"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl p-6 border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-600",children:""}),"Conseils de catgorisation"]}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("span",{className:"text-green-500 text-xs mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Catgorie prcise"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Choisissez la catgorie la plus pertinente"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("span",{className:"text-green-500 text-xs mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Tags spcifiques"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Utilisez 5-10 tags descriptifs"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("span",{className:"text-green-500 text-xs mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Tendances"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Incluez des tags populaires"})]})]})]})]})]})]}),c===3&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Prix & Validation"}),r.jsx("p",{className:"text-gray-600",children:"Fixez votre prix et validez les informations"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Prix du design () *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",required:!0,min:"0.99",step:"0.01",value:u.price,onChange:h=>m({...u,price:h.target.value}),className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-semibold",children:""})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[r.jsx("span",{className:"text-purple-500",children:""}),"Prix minimum: 0.99   Ce prix s'ajoute au prix du produit physique"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-2xl p-6 border border-green-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-center",children:"Estimation des revenus"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Prix de vente:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:[u.price," "]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Votre part (70%):"}),r.jsxs("span",{className:"font-semibold text-green-600",children:[(parseFloat(u.price)*.7).toFixed(2)," "]})]}),r.jsx("div",{className:"pt-3 border-t border-green-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Par 10 ventes:"}),r.jsxs("span",{className:"font-bold text-green-700",children:[(parseFloat(u.price)*.7*10).toFixed(2)," "]})]})})]})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-100 rounded-2xl p-6 border border-orange-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-orange-600",children:""}),"Consignes de publication"]}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-orange-600 text-xs",children:""})}),r.jsx("span",{children:"Vous possdez les droits sur ce design"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-orange-600 text-xs",children:""})}),r.jsx("span",{children:"L'image est en haute rsolution (PNG transparent)"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-orange-600 text-xs",children:""})}),r.jsx("span",{children:"Le design respecte nos conditions d'utilisation"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-orange-600 text-xs",children:""})}),r.jsx("span",{children:"Validation sous 24-48h par notre quipe"})]})]})]})})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-200 mt-8",children:[r.jsxs("button",{type:"button",onClick:c===1?()=>e("/creator/designs"):x,className:"flex items-center gap-2 px-6 py-3 text-gray-700 hover:text-gray-900 font-medium transition-colors duration-200",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),c===1?"Annuler":"Retour"]}),c<3?r.jsxs("button",{type:"button",onClick:j,disabled:!v(),className:"flex items-center gap-2 bg-primary-600 text-white px-8 py-3 rounded-xl hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:["Continuer",r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}):r.jsx("button",{type:"submit",disabled:i||!v(),className:"flex items-center gap-2 bg-green-600 text-white px-8 py-3 rounded-xl hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-semibold shadow-lg hover:shadow-xl",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Publication..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),"Publier le design"]})})]})]})})]})}function zy(){const{user:t}=ee(),e=ze(),s=[{id:"stats",label:"Statistiques",path:"/creator/stats",icon:""},{id:"designs",label:"Mes Designs",path:"/creator/designs",icon:""},{id:"upload",label:"Nouveau Design",path:"/creator/upload",icon:""}],n=i=>e.pathname===i;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Tableau de bord Crateur"}),r.jsxs("p",{className:"text-gray-600 flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Bienvenue, ",(t==null?void 0:t.full_name)||(t==null?void 0:t.email)]})]})]}),r.jsx("div",{className:"mt-4 lg:mt-0",children:r.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-primary-50 text-primary-700 border border-primary-200",children:[r.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-2"}),"Crateur actif"]})})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-2 mb-8",children:r.jsx("nav",{className:"flex space-x-2",children:s.map(i=>r.jsxs(C,{to:i.path,className:`flex items-center space-x-2 py-3 px-6 rounded-xl font-medium text-sm transition-all duration-200 ${n(i.path)?"bg-primary-500 text-white shadow-lg shadow-primary-500/25 transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"text-lg",children:i.icon}),r.jsx("span",{children:i.label}),n(i.path)&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-80"})]},i.id))})}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 overflow-hidden",children:r.jsx("div",{className:"p-8",children:r.jsxs(Mi,{children:[r.jsx(z,{index:!0,element:r.jsx(Rd,{})}),r.jsx(z,{path:"stats",element:r.jsx(Rd,{})}),r.jsx(z,{path:"designs",element:r.jsx(Dy,{})}),r.jsx(z,{path:"upload",element:r.jsx($y,{})})]})})}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:"text-gray-400 text-sm",children:["Besoin d'aide ? ",r.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"Contactez notre support"})]})})]})})}function Uy(){const{user:t}=ee(),[e,s]=w.useState([]),[n,i]=w.useState(!0),[a,l]=w.useState("all"),[o,c]=w.useState(null);w.useEffect(()=>{d()},[a]);const d=async()=>{if(t)try{let v=R.from("orders").select(`
          *,
          designs (title, image_url),
          supports (name),
          profiles:client_id (email, full_name)
        `).eq("provider_id",t.id).order("created_at",{ascending:!1});a!=="all"&&(v=v.eq("status",a));const{data:h,error:f}=await v;if(f)throw f;s(h||[])}catch(v){console.error("Error fetching orders:",v)}finally{i(!1)}},u=async(v,h)=>{c(v);try{const{error:f}=await R.from("orders").update({status:h}).eq("id",v).eq("provider_id",t==null?void 0:t.id);if(f)throw f;s(e.map(p=>p.id===v?{...p,status:h}:p))}catch(f){console.error("Error updating order:",f),alert("Erreur lors de la mise  jour")}finally{c(null)}},m=v=>{const h={pending:"bg-yellow-100 text-yellow-800 border border-yellow-200",in_production:"bg-blue-100 text-blue-800 border border-blue-200",ready:"bg-green-100 text-green-800 border border-green-200",shipped:"bg-orange-100 text-orange-800 border border-orange-200",delivered:"bg-gray-100 text-gray-800 border border-gray-200",completed:"bg-green-100 text-green-800 border border-green-200",cancelled:"bg-red-100 text-red-800 border border-red-200"},f={pending:" En attente",in_production:" En production",ready:" Prt",shipped:" Expdi",delivered:" Livr",completed:" Termin",cancelled:" Annul"};return r.jsx("span",{className:`inline-flex items-center gap-1.5 text-xs font-semibold px-3 py-1.5 rounded-full ${h[v]}`,children:f[v]})},g=v=>{const h=[{status:"pending",label:"En attente",icon:""},{status:"in_production",label:"Production",icon:""},{status:"ready",label:"Prt",icon:""},{status:"shipped",label:"Expdi",icon:""},{status:"delivered",label:"Livr",icon:""}],f=h.findIndex(p=>p.status===v);return h.map((p,b)=>({...p,completed:b<=f,current:b===f}))},j=(()=>{const v=e.length,h=e.filter(N=>N.status==="pending").length,f=e.filter(N=>N.status==="in_production").length,p=e.filter(N=>N.status==="completed"||N.status==="delivered").length,b=e.reduce((N,_)=>N+_.total_price,0);return{total:v,pending:h,inProduction:f,completed:p,revenue:b}})(),x=v=>({pending:{label:"Commencer la production",nextStatus:"in_production",color:"blue"},in_production:{label:"Marquer comme prt",nextStatus:"ready",color:"green"},ready:{label:"Marquer comme expdi",nextStatus:"shipped",color:"orange"},shipped:{label:"Confirmer la livraison",nextStatus:"delivered",color:"gray"}})[v];return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des Commandes"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Suivez et grez la production des commandes qui vous sont assignes"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Commandes actives"}),r.jsx("div",{className:"text-2xl font-bold text-primary-600",children:j.total})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:j.total}),r.jsx("div",{className:"text-blue-100 text-sm",children:"Total"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:j.pending}),r.jsx("div",{className:"text-yellow-100 text-sm",children:"En attente"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:j.inProduction}),r.jsx("div",{className:"text-blue-100 text-sm",children:"En production"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-4 text-white shadow-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:j.completed}),r.jsx("div",{className:"text-green-100 text-sm",children:"Termines"})]})})]}),r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtrer par statut"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Afficher les commandes par statut de production"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"Toutes les commandes",count:j.total},{key:"pending",label:"En attente",count:j.pending},{key:"in_production",label:"En production",count:j.inProduction},{key:"completed",label:"Termines",count:j.completed}].map(({key:v,label:h,count:f})=>r.jsxs("button",{onClick:()=>l(v),className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${a===v?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-md"}`,children:[h,r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${a===v?"bg-white/20 text-white/90":"bg-gray-300 text-gray-700"}`,children:f})]},v))})]})}),e.length===0?r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-16 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Aucune commande trouve"}),r.jsx("p",{className:"text-gray-600",children:a==="all"?"Vous n'avez pas encore de commandes assignes.":`Aucune commande avec le statut "${a}".`})]})}):r.jsx("div",{className:"space-y-6",children:e.map(v=>{const h=x(v.status),f=g(v.status);return r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300 group",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl overflow-hidden flex-shrink-0 shadow-sm",children:r.jsx("img",{src:v.designs.image_url,alt:v.designs.title,className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg truncate mb-1",children:v.designs.title}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-lg font-medium",children:v.supports.name}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Quantit: ",v.quantity]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary-600 mb-1",children:[v.total_price.toFixed(2)," "]}),m(v.status)]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:v.profiles.full_name||v.profiles.email})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsxs("span",{children:["Commande du ",new Date(v.created_at).toLocaleDateString("fr-FR")]})]})]}),v.customization&&r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 mb-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Personnalisation:"}),r.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[v.customization.size&&r.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 py-1 rounded-lg",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{className:"font-medium",children:v.customization.size})]}),v.customization.color&&r.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 py-1 rounded-lg",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{className:"font-medium capitalize",children:v.customization.color})]}),v.customization.text&&r.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 py-1 rounded-lg",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsxs("span",{className:"font-medium",children:['"',v.customization.text,'"']})]})]})]})]})]}),r.jsxs("div",{className:"lg:w-80 space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Progression"}),r.jsx("div",{className:"space-y-2",children:f.map((p,b)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs ${p.completed?"bg-green-500 text-white":p.current?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:p.completed?"":p.current?p.icon:b+1}),r.jsx("span",{className:`text-sm ${p.completed?"text-green-600 font-medium":p.current?"text-blue-600 font-medium":"text-gray-500"}`,children:p.label})]},p.status))})]}),h&&r.jsx("button",{onClick:()=>u(v.id,h.nextStatus),disabled:o===v.id,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold text-white transition-all duration-200 ${h.color==="blue"?"bg-blue-600 hover:bg-blue-700":h.color==="green"?"bg-green-600 hover:bg-green-700":h.color==="orange"?"bg-orange-600 hover:bg-orange-700":"bg-gray-600 hover:bg-gray-700"} disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl`,children:o===v.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Mise  jour..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),h.label]})})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:"ID Commande:"}),r.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded font-mono",children:[v.id.slice(0,8),"..."]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{children:["Prix unitaire: ",v.unit_price.toFixed(2)," "]})})]})})]},v.id)})}),e.length>0&&r.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 border border-primary-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Performance de production"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[j.inProduction," commande",j.inProduction>1?"s":""," en cours ",j.completed," termine",j.completed>1?"s":""," ce mois"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Chiffre d'affaires: ",r.jsxs("span",{className:"font-semibold text-primary-600",children:[j.revenue.toFixed(2)," "]})]})})]})})]})}function Od(){var m,g;const{user:t}=ee(),[e,s]=w.useState(null),[n,i]=w.useState(!0),[a,l]=w.useState("month");w.useEffect(()=>{o()},[a]);const o=async()=>{if(t)try{const{data:y,error:j}=await R.from("orders").select("*").eq("provider_id",t.id);if(j)throw j;const x=(y==null?void 0:y.length)||0,v=(y==null?void 0:y.filter(E=>E.status==="pending").length)||0,h=(y==null?void 0:y.filter(E=>E.status==="in_production").length)||0,f=(y==null?void 0:y.filter(E=>E.status==="completed"||E.status==="delivered").length)||0,p=(y==null?void 0:y.reduce((E,I)=>E+(I.total_price||0),0))||0,{data:b}=await R.from("reviews").select("rating, orders!inner(provider_id)").eq("orders.provider_id",t.id),N=b&&b.length>0?b.reduce((E,I)=>E+I.rating,0)/b.length:0,_=x>0?f/x*100:0;s({totalOrders:x,pendingOrders:v,inProductionOrders:h,completedOrders:f,totalRevenue:p,averageRating:N,monthlyGrowth:12.5,completionRate:_})}catch(y){console.error("Error fetching stats:",y)}finally{i(!1)}},c=y=>y>=90?{level:"Excellent",color:"green"}:y>=75?{level:"Bon",color:"blue"}:y>=60?{level:"Moyen",color:"yellow"}:{level:" amliorer",color:"red"},d=y=>y>=1e6?(y/1e6).toFixed(1)+"M":y>=1e3?(y/1e3).toFixed(1)+"k":y.toString();if(n)return r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})});const u=c((e==null?void 0:e.completionRate)||0);return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord Prestataire"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Suivez vos performances et optimisez votre activit"})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("select",{value:a,onChange:y=>l(y.target.value),className:"bg-white border border-gray-300 rounded-xl px-4 py-2.5 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",children:[r.jsx("option",{value:"week",children:"Cette semaine"}),r.jsx("option",{value:"month",children:"Ce mois"}),r.jsx("option",{value:"year",children:"Cette anne"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg shadow-blue-200 hover:shadow-xl hover:shadow-blue-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:d((e==null?void 0:e.totalOrders)||0)}),r.jsx("div",{className:"text-blue-100 text-sm",children:"Commandes"})]})]}),r.jsxs("div",{className:"text-blue-100 text-sm",children:[r.jsxs("span",{className:"text-green-300",children:[" ",e==null?void 0:e.monthlyGrowth,"%"]})," ce mois"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg shadow-orange-200 hover:shadow-xl hover:shadow-orange-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:e?e.pendingOrders+e.inProductionOrders:0}),r.jsx("div",{className:"text-orange-100 text-sm",children:"En cours"})]})]}),r.jsxs("div",{className:"flex justify-between text-sm text-orange-100",children:[r.jsxs("span",{children:[(e==null?void 0:e.pendingOrders)||0," en attente"]}),r.jsxs("span",{children:[(e==null?void 0:e.inProductionOrders)||0," en production"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg shadow-green-200 hover:shadow-xl hover:shadow-green-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:d((e==null?void 0:e.completedOrders)||0)}),r.jsx("div",{className:"text-green-100 text-sm",children:"Termines"})]})]}),r.jsxs("div",{className:"text-green-100 text-sm",children:["Taux: ",e!=null&&e.completionRate?e.completionRate.toFixed(1):0,"%"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg shadow-purple-200 hover:shadow-xl hover:shadow-purple-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold",children:[((m=e==null?void 0:e.totalRevenue)==null?void 0:m.toFixed(0))||"0"," "]}),r.jsx("div",{className:"text-purple-100 text-sm",children:"Revenus"})]})]}),r.jsxs("div",{className:"text-purple-100 text-sm",children:["Moyenne: ",e!=null&&e.totalOrders?(e.totalRevenue/e.totalOrders).toFixed(0):0,"/commande"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Satisfaction Clients"}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:[e!=null&&e.averageRating?e.averageRating.toFixed(1):"0.0",r.jsx("span",{className:"text-gray-400 text-lg",children:"/5"})]}),r.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((y,j)=>r.jsx("svg",{className:`w-5 h-5 ${j<Math.floor((e==null?void 0:e.averageRating)||0)?"text-yellow-400":j<((e==null?void 0:e.averageRating)||0)?"text-yellow-300":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},j))})]}),r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-2xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})})]}),r.jsx("div",{className:`text-sm font-semibold px-3 py-1.5 rounded-full text-center ${((e==null?void 0:e.averageRating)||0)>=4.5?"bg-green-100 text-green-800":((e==null?void 0:e.averageRating)||0)>=4?"bg-blue-100 text-blue-800":((e==null?void 0:e.averageRating)||0)>=3.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e!=null&&e.averageRating?e.averageRating>=4.5?"Excellente":e.averageRating>=4?"Trs bonne":e.averageRating>=3.5?"Bonne":" amliorer":"Aucune note"})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Taux d'Achvement"}),r.jsxs("div",{className:"flex items-end justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[e!=null&&e.completionRate?e.completionRate.toFixed(1):0,"%"]}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Commandes termines"})]}),r.jsx("div",{className:"w-20 h-20",children:r.jsxs("div",{className:"relative w-full h-full",children:[r.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[r.jsx("path",{d:`M18 2.0845
                      a 15.9155 15.9155 0 0 1 0 31.831
                      a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),r.jsx("path",{d:`M18 2.0845
                      a 15.9155 15.9155 0 0 1 0 31.831
                      a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#10B981",strokeWidth:"3",strokeDasharray:`${(e==null?void 0:e.completionRate)||0}, 100`})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[e!=null&&e.completionRate?e.completionRate.toFixed(0):0,"%"]})})]})})]}),r.jsxs("div",{className:`text-sm font-semibold px-3 py-1.5 rounded-full text-center ${u.color==="green"?"bg-green-100 text-green-800":u.color==="blue"?"bg-blue-100 text-blue-800":u.color==="yellow"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Performance: ",u.level]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Rpartition des Commandes"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"En attente"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.pendingOrders)||0}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e!=null&&e.totalOrders?Math.round((e.pendingOrders||0)/e.totalOrders*100):0,"%)"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"En production"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.inProductionOrders)||0}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e!=null&&e.totalOrders?Math.round((e.inProductionOrders||0)/e.totalOrders*100):0,"%)"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Termines"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.completedOrders)||0}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",e!=null&&e.totalOrders?Math.round((e.completedOrders||0)/e.totalOrders*100):0,"%)"]})]})]})]}),r.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{background:`linear-gradient(to right, #f59e0b ${e!=null&&e.totalOrders?(e.pendingOrders||0)/e.totalOrders*100:0}%, #3b82f6 ${e!=null&&e.totalOrders?(e.pendingOrders||0)/e.totalOrders*100:0}% ${e!=null&&e.totalOrders?((e.pendingOrders||0)+(e.inProductionOrders||0))/e.totalOrders*100:0}%, #10b981 ${e!=null&&e.totalOrders?((e.pendingOrders||0)+(e.inProductionOrders||0))/e.totalOrders*100:0}%)`}})})]})]}),r.jsx(Im,{totalAmount:(e==null?void 0:e.totalRevenue)||0,paidAmount:((e==null?void 0:e.totalRevenue)||0)*.4,role:"provider"}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Actions Rapides"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full font-medium",children:"Accs direct"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(C,{to:"/provider/orders",className:"group flex items-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-2xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-14 h-14 bg-blue-500 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Grer les Commandes"}),r.jsxs("p",{className:"text-blue-700 text-sm mt-1",children:[e?e.pendingOrders+e.inProductionOrders:0," commande",e&&e.pendingOrders+e.inProductionOrders>1?"s":""," en cours"]})]}),r.jsx("div",{className:"text-blue-600 group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsxs(C,{to:"/provider/profile",className:"group flex items-center p-6 bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-2xl hover:from-green-100 hover:to-green-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Mon Profil"}),r.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Modifier mes informations et capacits"})]}),r.jsx("div",{className:"text-green-600 group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 border border-primary-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Performance globale"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Votre activit progresse rgulirement  Priode: ",a==="week"?"7 jours":a==="month"?"30 jours":"1 an"]})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-gray-900 text-lg",children:(e==null?void 0:e.totalOrders)||0}),r.jsx("div",{className:"text-gray-600",children:"Commandes totales"})]}),r.jsx("div",{className:"w-px h-8 bg-gray-300"}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"font-bold text-gray-900 text-lg",children:[((g=e==null?void 0:e.totalRevenue)==null?void 0:g.toFixed(0))||0,""]}),r.jsx("div",{className:"text-gray-600",children:"Revenus gnrs"})]}),r.jsx("div",{className:"w-px h-8 bg-gray-300"}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"font-bold text-gray-900 text-lg",children:[e!=null&&e.completionRate?e.completionRate.toFixed(0):0,"%"]}),r.jsx("div",{className:"text-gray-600",children:"Taux d'achvement"})]})]})]})})]})}function Fy(){const{user:t}=ee(),[e,s]=w.useState(null),[n,i]=w.useState(!0),[a,l]=w.useState(!1),[o,c]=w.useState({business_name:"",location:"",capabilities:[],capacity_per_week:50,active:!0});w.useEffect(()=>{d()},[]);const d=async()=>{if(t)try{const{data:x,error:v}=await R.from("providers").select("*").eq("user_id",t.id).maybeSingle();if(v&&v.code!=="PGRST116")throw v;x&&(s(x),c({business_name:x.business_name,location:x.location,capabilities:x.capabilities,capacity_per_week:x.capacity_per_week,active:x.active}))}catch(x){console.error("Error fetching profile:",x)}finally{i(!1)}},u=async x=>{if(x.preventDefault(),!!t){l(!0);try{const v={user_id:t.id,business_name:o.business_name,location:o.location,capabilities:o.capabilities,capacity_per_week:o.capacity_per_week,active:o.active};if(e){const{error:h}=await R.from("providers").update(v).eq("user_id",t.id);if(h)throw h}else{const{error:h}=await R.from("providers").insert(v);if(h)throw h}alert("Profil mis  jour avec succs"),d()}catch(v){console.error("Error saving profile:",v),alert("Erreur lors de la mise  jour du profil")}finally{l(!1)}}},m=x=>{o.capabilities.includes(x)?c({...o,capabilities:o.capabilities.filter(v=>v!==x)}):c({...o,capabilities:[...o.capabilities,x]})},g=[{id:"t-shirt",label:"T-shirts",icon:"",color:"blue"},{id:"mug",label:"Mugs",icon:"",color:"orange"},{id:"bag",label:"Sacs",icon:"",color:"green"},{id:"poster",label:"Posters",icon:"",color:"purple"},{id:"phone-case",label:"Coques tlphone",icon:"",color:"pink"},{id:"keychain",label:"Porte-cls",icon:"",color:"yellow"},{id:"hat",label:"Casquettes",icon:"",color:"red"},{id:"notebook",label:"Carnets",icon:"",color:"indigo"},{id:"sticker",label:"Autocollants",icon:"",color:"teal"}],j=(x=>x<=25?{level:"Dbutant",color:"green"}:x<=50?{level:"Intermdiaire",color:"blue"}:x<=100?{level:"Avanc",color:"orange"}:{level:"Professionnel",color:"purple"})(o.capacity_per_week);return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})}):r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Profil Prestataire"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Configurez votre activit et maximisez vos opportunits"})]}),!e&&r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Bienvenue sur AlphaCadeau !"}),r.jsx("p",{className:"text-blue-100",children:"Compltez votre profil pour commencer  recevoir des commandes et dvelopper votre activit."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:r.jsx("div",{className:"p-8",children:r.jsxs("form",{onSubmit:u,className:"space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-primary-600 text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Informations Entreprise"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Identifiez votre activit"})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Nom de l'entreprise *"}),r.jsx("input",{type:"text",required:!0,value:o.business_name,onChange:x=>c({...o,business_name:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",placeholder:"Ex: Mon Atelier d'Impression Crative"})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Localisation *"}),r.jsx("input",{type:"text",required:!0,value:o.location,onChange:x=>c({...o,location:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200",placeholder:"Ex: Paris, le-de-France, France"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[r.jsx("span",{className:"text-blue-500",children:""}),"Utilis pour l'attribution locale des commandes"]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capacits de Production"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Slectionnez vos spcialits"})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:g.map(x=>{const v=o.capabilities.includes(x.id),h={blue:v?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-300",orange:v?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-orange-300",green:v?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-300",purple:v?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-300",pink:v?"border-pink-500 bg-pink-50 text-pink-700":"border-gray-200 hover:border-pink-300",yellow:v?"border-yellow-500 bg-yellow-50 text-yellow-700":"border-gray-200 hover:border-yellow-300",red:v?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-red-300",indigo:v?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 hover:border-indigo-300",teal:v?"border-teal-500 bg-teal-50 text-teal-700":"border-gray-200 hover:border-teal-300"};return r.jsxs("button",{type:"button",onClick:()=>m(x.id),className:`group relative p-4 border-2 rounded-xl text-sm font-medium transition-all duration-200 ${h[x.color]} hover:scale-105 hover:shadow-md`,children:[r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:x.icon}),r.jsx("span",{className:"font-semibold",children:x.label})]}),v&&r.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]},x.id)})}),r.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[o.capabilities.length," spcialit",o.capabilities.length>1?"s":""," slectionne",o.capabilities.length>1?"s":""]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capacit & Statut"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Dfinissez votre rythme de production"})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Capacit de production hebdomadaire *"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"range",min:"1",max:"200",value:o.capacity_per_week,onChange:x=>c({...o,capacity_per_week:parseInt(x.target.value)}),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary-600",children:o.capacity_per_week}),r.jsx("div",{className:"text-sm text-gray-600",children:"commandes/semaine"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:`text-sm font-semibold px-3 py-1 rounded-full ${j.color==="green"?"bg-green-100 text-green-800":j.color==="blue"?"bg-blue-100 text-blue-800":j.color==="orange"?"bg-orange-100 text-orange-800":"bg-purple-100 text-purple-800"}`,children:["Niveau: ",j.level]})})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${o.active?"bg-green-100":"bg-gray-100"}`,children:r.jsx("span",{className:`text-lg ${o.active?"text-green-600":"text-gray-400"}`,children:o.active?"":""})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:o.active?"Profil Actif":"Profil en Pause"}),r.jsx("div",{className:"text-sm text-gray-600",children:o.active?"Vous recevez de nouvelles commandes":"Aucune nouvelle commande ne vous sera attribue"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:o.active,onChange:x=>c({...o,active:x.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-12 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]})]}),r.jsx("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center gap-3 bg-primary-600 text-white py-4 px-6 rounded-xl hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enregistrement en cours..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),e?"Mettre  jour le profil":"Crer mon profil prestataire"]})})]})})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Statut du Profil"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Compltion"}),r.jsxs("span",{className:"font-semibold text-primary-600",children:[(()=>{const x=[o.business_name,o.location,o.capabilities.length],v=x.filter(h=>Array.isArray(h)?h.length>0:typeof h=="string"&&h.length>0||typeof h=="number"&&h>0).length;return Math.round(v/x.length*100)})(),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-500",style:{width:`${(()=>{const x=[o.business_name,o.location,o.capabilities.length],v=x.filter(h=>Array.isArray(h)?h.length>0:typeof h=="string"&&h.length>0||typeof h=="number"&&h>0).length;return Math.round(v/x.length*100)})()}%`}})})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl p-6 border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-600",children:""}),"Comment a marche ?"]}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("span",{className:"text-blue-500 text-xs mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Attribution locale"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Les commandes sont attribues par proximit gographique"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("span",{className:"text-green-500 text-xs mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Matching intelligent"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Bas sur vos capacits et votre disponibilit"})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("span",{className:"text-purple-500 text-xs mt-0.5",children:""}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Flexibilit totale"}),r.jsx("p",{className:"text-gray-600 text-xs",children:"Activez/dsactivez votre profil  tout moment"})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-2xl p-6 border border-green-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Conseils de capacit"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),r.jsx("span",{children:"Dbutant: 1-25 commandes/semaine"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""}),r.jsx("span",{children:"Intermdiaire: 26-50 commandes/semaine"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-orange-500",children:""}),r.jsx("span",{children:"Avanc: 51-100 commandes/semaine"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-purple-500",children:""}),r.jsx("span",{children:"Professionnel: 100+ commandes/semaine"})]})]})]})]})]})]})}function My(){const{user:t}=ee(),e=ze(),s=[{id:"stats",label:"Statistiques",path:"/provider/stats",icon:"",description:"Analyses de performance"},{id:"orders",label:"Commandes",path:"/provider/orders",icon:"",description:"Gestion des productions"},{id:"profile",label:"Profil Entreprise",path:"/provider/profile",icon:"",description:"Informations professionnelles"}],n=a=>e.pathname===a,i=[{label:"Commandes en cours",value:"12",change:"+2",trend:"up"},{label:"Taux de satisfaction",value:"98%",change:"+3%",trend:"up"},{label:"Revenus du mois",value:"2.4k",change:"+15%",trend:"up"},{label:"Dlai moyen",value:"2.3j",change:"-0.5j",trend:"down"}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50/30 to-teal-50/20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8 mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl shadow-lg flex items-center justify-center",children:r.jsx("span",{className:"text-3xl text-white",children:""})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-2",children:"Tableau de Bord Artisan"}),r.jsxs("p",{className:"text-gray-600 text-lg flex items-center",children:[r.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Bienvenue, ",(t==null?void 0:t.full_name)||(t==null?void 0:t.email)]})]})]}),r.jsx("div",{className:"mt-4 lg:mt-0",children:r.jsxs("span",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-2xl shadow-lg",children:[r.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-2"}),"Prestataire Actif"]})})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-8",children:i.map((a,l)=>r.jsxs("div",{className:"bg-white/80 rounded-2xl p-4 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:a.label}),r.jsx("span",{className:`text-xs font-semibold ${a.trend==="up"?"text-green-600":"text-red-600"}`,children:a.change})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.value})]},l))})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-2 mb-8",children:r.jsx("nav",{className:"flex space-x-2",children:s.map(a=>r.jsxs(C,{to:a.path,className:`flex items-center space-x-3 py-4 px-6 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 ${n(a.path)?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"text-xl",children:a.icon}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:a.label}),r.jsx("div",{className:`text-sm ${n(a.path)?"text-green-100":"text-gray-500"}`,children:a.description})]}),n(a.path)&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-80"})]},a.id))})}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 overflow-hidden",children:r.jsx("div",{className:"p-8",children:r.jsxs(Mi,{children:[r.jsx(z,{index:!0,element:r.jsx(Od,{})}),r.jsx(z,{path:"stats",element:r.jsx(Od,{})}),r.jsx(z,{path:"orders",element:r.jsx(Uy,{})}),r.jsx(z,{path:"profile",element:r.jsx(Fy,{})})]})})}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-3xl p-6 text-white text-center hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center text-xl mb-3 mx-auto",children:""}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Support Client"}),r.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Assistance 24h/24"}),r.jsx("button",{className:"w-full py-2 bg-white text-blue-600 font-semibold rounded-2xl hover:shadow-lg transition-all duration-200",children:"Contacter"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-3xl p-6 text-white text-center hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center text-xl mb-3 mx-auto",children:""}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Ressources"}),r.jsx("p",{className:"text-purple-100 text-sm mb-4",children:"Guides et formations"}),r.jsx("button",{className:"w-full py-2 bg-white text-purple-600 font-semibold rounded-2xl hover:shadow-lg transition-all duration-200",children:"Explorer"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-3xl p-6 text-white text-center hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center text-xl mb-3 mx-auto",children:""}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Performance"}),r.jsx("p",{className:"text-orange-100 text-sm mb-4",children:"Optimisez votre activit"}),r.jsx("button",{className:"w-full py-2 bg-white text-orange-600 font-semibold rounded-2xl hover:shadow-lg transition-all duration-200",children:"Analyser"})]})]}),r.jsx("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-emerald-100 rounded-3xl p-6 border border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center text-green-600",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Statut Prestataire"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Tous les systmes sont oprationnels"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"100%"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Disponibilit"})]})]})})]})})}function By(){const[t,e]=w.useState([]),[s,n]=w.useState(!0),[i,a]=w.useState("pending"),[l,o]=w.useState("");w.useEffect(()=>{c()},[i]);const c=async()=>{try{let x=R.from("designs").select(`
          *,
          profiles:creator_id (email, full_name)
        `).order("created_at",{ascending:!1});i!=="all"&&(x=x.eq("status",i));const{data:v,error:h}=await x;if(h)throw h;e(v||[])}catch(x){console.error("Error fetching designs:",x)}finally{n(!1)}},d=async(x,v)=>{try{const{error:h}=await R.from("designs").update({status:v}).eq("id",x);if(h)throw h;e(t.map(f=>f.id===x?{...f,status:v}:f))}catch(h){console.error("Error updating design:",h),alert("Erreur lors de la mise  jour")}},u=async x=>{if(confirm("tes-vous sr de vouloir supprimer ce design ?"))try{const{error:v}=await R.from("designs").delete().eq("id",x);if(v)throw v;e(t.filter(h=>h.id!==x)),alert("Design supprim avec succs")}catch(v){console.error("Error deleting design:",v),alert("Erreur lors de la suppression")}},m=x=>{const v={approved:"bg-green-100 text-green-800 border border-green-200",pending:"bg-yellow-100 text-yellow-800 border border-yellow-200",rejected:"bg-red-100 text-red-800 border border-red-200"},h={approved:"Approuv",pending:"En attente",rejected:"Rejet"},f={approved:"",pending:"",rejected:""};return r.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs font-semibold px-3 py-1.5 rounded-full ${v[x]}`,children:[f[x],h[x]]})},y=(()=>{const x=t.length,v=t.filter(p=>p.status==="pending").length,h=t.filter(p=>p.status==="approved").length,f=t.filter(p=>p.status==="rejected").length;return{total:x,pending:v,approved:h,rejected:f}})(),j=t.filter(x=>{var v;return x.title.toLowerCase().includes(l.toLowerCase())||((v=x.profiles.full_name)==null?void 0:v.toLowerCase().includes(l.toLowerCase()))||x.profiles.email.toLowerCase().includes(l.toLowerCase())});return s?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des Designs"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Modrez et grez les designs soumis par les crateurs"})]}),r.jsxs("div",{className:"relative w-full lg:w-80",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",placeholder:"Rechercher un design...",value:l,onChange:x=>o(x.target.value),className:"block w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl bg-white shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-600 text-sm font-semibold",children:"Total Designs"}),r.jsx("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:y.total})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:""})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-600 text-sm font-semibold",children:"En Attente"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-900 mt-2",children:y.pending})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:""})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-600 text-sm font-semibold",children:"Approuvs"}),r.jsx("p",{className:"text-3xl font-bold text-green-900 mt-2",children:y.approved})]}),r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:""})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 border border-red-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-red-600 text-sm font-semibold",children:"Rejets"}),r.jsx("p",{className:"text-3xl font-bold text-red-900 mt-2",children:y.rejected})]}),r.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xl",children:""})})]})})]}),r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtres"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Filtrer les designs par statut"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"pending",label:"En attente",count:y.pending},{key:"approved",label:"Approuvs",count:y.approved},{key:"rejected",label:"Rejets",count:y.rejected},{key:"all",label:"Tous les designs",count:y.total}].map(({key:x,label:v,count:h})=>r.jsxs("button",{onClick:()=>a(x),className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${i===x?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-md"}`,children:[v,r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${i===x?"bg-white/20 text-white/90":"bg-gray-300 text-gray-700"}`,children:h})]},x))})]})}),j.length===0?r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-16 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:l?"Aucun design trouv":"Aucun design en attente"}),r.jsx("p",{className:"text-gray-600 mb-6",children:l?"Aucun design ne correspond  votre recherche.":"Tous les designs ont t modrs pour le moment."}),l&&r.jsx("button",{onClick:()=>o(""),className:"btn btn-primary",children:"Effacer la recherche"})]})}):r.jsx("div",{className:"grid gap-6",children:j.map(x=>r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-300 group",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"w-full lg:w-48 h-48 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl overflow-hidden flex-shrink-0 group-hover:shadow-md transition-shadow duration-300",children:r.jsx("img",{src:x.thumbnail_url||x.image_url,alt:x.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 truncate mb-1",children:x.title}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[r.jsxs("span",{className:"font-medium",children:["Par ",x.profiles.full_name||x.profiles.email]}),r.jsx("span",{children:""}),r.jsx("span",{children:new Date(x.created_at).toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[m(x.status),r.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[x.price.toFixed(2)," "]})]})]}),r.jsx("p",{className:"text-gray-700 mb-6 line-clamp-2 leading-relaxed",children:x.description}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 font-medium mb-1",children:"ID Design"}),r.jsxs("div",{className:"text-sm font-mono text-gray-900 font-semibold",children:[x.id.slice(0,8),"..."]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 font-medium mb-1",children:"Crateur"}),r.jsx("div",{className:"text-sm text-gray-900 font-semibold truncate",children:x.profiles.full_name||"Non renseign"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 font-medium mb-1",children:"Email"}),r.jsx("div",{className:"text-sm text-gray-900 font-semibold truncate",children:x.profiles.email})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>d(x.id,"approved"),className:"flex items-center gap-2 px-5 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all duration-200 font-semibold text-sm shadow-lg shadow-green-200 hover:shadow-xl hover:shadow-green-300",children:[r.jsx("span",{children:""}),"Approuver"]}),r.jsxs("button",{onClick:()=>d(x.id,"rejected"),className:"flex items-center gap-2 px-5 py-2.5 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-200 font-semibold text-sm shadow-lg shadow-red-200 hover:shadow-xl hover:shadow-red-300",children:[r.jsx("span",{children:""}),"Rejeter"]})]}),x.status==="approved"&&r.jsxs("button",{onClick:()=>d(x.id,"rejected"),className:"flex items-center gap-2 px-5 py-2.5 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-200 font-semibold text-sm shadow-lg shadow-red-200 hover:shadow-xl hover:shadow-red-300",children:[r.jsx("span",{children:""}),"Rejeter"]}),x.status==="rejected"&&r.jsxs("button",{onClick:()=>d(x.id,"approved"),className:"flex items-center gap-2 px-5 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all duration-200 font-semibold text-sm shadow-lg shadow-green-200 hover:shadow-xl hover:shadow-green-300",children:[r.jsx("span",{children:""}),"Approuver"]}),r.jsxs("a",{href:`/designs/${x.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-5 py-2.5 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-all duration-200 font-semibold text-sm shadow-lg shadow-primary-200 hover:shadow-xl hover:shadow-primary-300",children:[r.jsx("span",{children:""}),"Voir le design"]}),r.jsxs("button",{onClick:()=>u(x.id),className:"flex items-center gap-2 px-5 py-2.5 bg-white text-red-600 border border-red-300 rounded-xl hover:bg-red-50 transition-all duration-200 font-semibold text-sm shadow-sm hover:shadow-md",children:[r.jsx("span",{children:""}),"Supprimer"]})]})]})]})},x.id))}),j.length>0&&r.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-primary-600 text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Conseil de modration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Vrifiez la qualit et l'originalit des designs avant approbation"})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Affichage de ",r.jsx("span",{className:"font-semibold text-gray-900",children:j.length})," designs"]})})]})})]})}function qy(){const[t,e]=w.useState([]),[s,n]=w.useState(!0),[i,a]=w.useState("all"),[l,o]=w.useState(""),[c,d]=w.useState(null);w.useEffect(()=>{u()},[i]);const u=async()=>{try{let h=R.from("profiles").select("*").order("created_at",{ascending:!1});i!=="all"&&(h=h.eq("role",i));const{data:f,error:p}=await h;if(p)throw p;e(f||[])}catch(h){console.error("Error fetching users:",h)}finally{n(!1)}},m=async(h,f)=>{if(confirm(`Changer le rle de cet utilisateur en ${f} ?`)){d(h);try{const{error:p}=await R.from("profiles").update({role:f}).eq("id",h);if(p)throw p;e(t.map(b=>b.id===h?{...b,role:f}:b))}catch(p){console.error("Error updating role:",p),alert("Erreur lors de la mise  jour du rle")}finally{d(null)}}},g=h=>{const f={client:"bg-blue-100 text-blue-800 border border-blue-200",creator:"bg-green-100 text-green-800 border border-green-200",provider:"bg-orange-100 text-orange-800 border border-orange-200",admin:"bg-red-100 text-red-800 border border-red-200"},p={client:"",creator:"",provider:"",admin:""};return r.jsxs("span",{className:`inline-flex items-center gap-1.5 text-xs font-semibold px-3 py-1.5 rounded-full capitalize ${f[h]}`,children:[p[h],h]})},j=(()=>{const h=t.length,f=t.filter(_=>_.role==="client").length,p=t.filter(_=>_.role==="creator").length,b=t.filter(_=>_.role==="provider").length,N=t.filter(_=>_.role==="admin").length;return{total:h,clients:f,creators:p,providers:b,admins:N}})(),x=t.filter(h=>{var f;return h.email.toLowerCase().includes(l.toLowerCase())||((f=h.full_name)==null?void 0:f.toLowerCase().includes(l.toLowerCase()))||h.id.toLowerCase().includes(l.toLowerCase())}),v=h=>{const f=new Date(h),b=Math.abs(new Date().getTime()-f.getTime());return Math.ceil(b/(1e3*60*60*24))};return s?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Grez les rles et permissions des utilisateurs de la plateforme"})]}),r.jsxs("div",{className:"relative w-full lg:w-80",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",value:l,onChange:h=>o(h.target.value),className:"block w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl bg-white shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-2xl p-6 text-white shadow-lg shadow-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-200 text-sm font-semibold mb-1",children:"Total"}),r.jsx("p",{className:"text-3xl font-bold",children:j.total})]}),r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})})]})}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg shadow-blue-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm font-semibold mb-1",children:"Clients"}),r.jsx("p",{className:"text-3xl font-bold",children:j.clients})]}),r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})})]}),r.jsxs("div",{className:"text-blue-200 text-xs mt-2",children:[j.total>0?Math.round(j.clients/j.total*100):0,"% du total"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg shadow-green-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-200 text-sm font-semibold mb-1",children:"Crateurs"}),r.jsx("p",{className:"text-3xl font-bold",children:j.creators})]}),r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})})]}),r.jsxs("div",{className:"text-green-200 text-xs mt-2",children:[j.total>0?Math.round(j.creators/j.total*100):0,"% du total"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg shadow-orange-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-orange-200 text-sm font-semibold mb-1",children:"Prestataires"}),r.jsx("p",{className:"text-3xl font-bold",children:j.providers})]}),r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})})]}),r.jsxs("div",{className:"text-orange-200 text-xs mt-2",children:[j.total>0?Math.round(j.providers/j.total*100):0,"% du total"]})]}),r.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-2xl p-6 text-white shadow-lg shadow-red-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-red-200 text-sm font-semibold mb-1",children:"Admins"}),r.jsx("p",{className:"text-3xl font-bold",children:j.admins})]}),r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:""})})]})})]}),r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtrer par rle"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Afficher les utilisateurs par type de compte"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"Tous les utilisateurs",count:j.total},{key:"client",label:"Clients",count:j.clients},{key:"creator",label:"Crateurs",count:j.creators},{key:"provider",label:"Prestataires",count:j.providers}].map(({key:h,label:f,count:p})=>r.jsxs("button",{onClick:()=>a(h),className:`group relative flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${i===h?"bg-primary-600 text-white shadow-lg shadow-primary-200":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-md"}`,children:[f,r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${i===h?"bg-white/20 text-white/90":"bg-gray-300 text-gray-700"}`,children:p})]},h))})]})}),x.length===0?r.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-16 text-center",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:l?"Aucun utilisateur trouv":"Aucun utilisateur"}),r.jsx("p",{className:"text-gray-600 mb-6",children:l?"Aucun utilisateur ne correspond  votre recherche.":"Aucun utilisateur ne correspond aux filtres slectionns."}),l&&r.jsx("button",{onClick:()=>o(""),className:"btn btn-primary",children:"Effacer la recherche"})]})}):r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Liste des Utilisateurs"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[x.length," utilisateur",x.length>1?"s":""," trouv",x.length>1?"s":""]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Tri par: Date d'inscription"})]})}),r.jsx("div",{className:"divide-y divide-gray-200",children:x.map(h=>r.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-all duration-200 group",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center text-white text-xl font-bold shadow-lg",children:h.full_name?h.full_name.charAt(0).toUpperCase():h.email.charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:h.full_name||"Utilisateur sans nom"}),g(h.role)]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("span",{className:"truncate",children:h.email})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsxs("span",{children:["Inscrit le ",new Date(h.created_at).toLocaleDateString("fr-FR")]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("span",{children:["Membre depuis ",v(h.created_at)," jour",v(h.created_at)>1?"s":""]})]})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:w-80",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Modifier le rle"}),r.jsxs("select",{value:h.role,onChange:f=>m(h.id,f.target.value),disabled:c===h.id,className:"w-full border border-gray-300 rounded-xl px-3 py-2.5 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx("option",{value:"client",children:"Client"}),r.jsx("option",{value:"creator",children:"Crateur"}),r.jsx("option",{value:"provider",children:"Prestataire"}),r.jsx("option",{value:"admin",children:"Administrateur"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:()=>{},className:"flex items-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 font-medium text-sm",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Dtails"]})})]})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-gray-500",children:[r.jsx("span",{children:"ID:"}),r.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded font-mono",children:h.id})]})]},h.id))})]}),x.length>0&&r.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-primary-600 text-lg",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Conseil de gestion"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Modifiez les rles avec prcaution. Les changements sont immdiats."})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Affichage de ",r.jsx("span",{className:"font-semibold text-gray-900",children:x.length})," utilisateurs"]})})]})})]})}function Ad(){var c;const[t,e]=w.useState(null),[s,n]=w.useState(!0),[i,a]=w.useState(!1);w.useEffect(()=>{l()},[]);const l=async()=>{try{const[d,u,m]=await Promise.all([R.from("profiles").select("role"),R.from("designs").select("status"),R.from("orders").select("total_price")]),g=d.data||[],y=u.data||[],j=m.data||[],x=g.length,v=g.filter(_=>_.role==="creator").length,h=g.filter(_=>_.role==="provider").length,f=y.length,p=y.filter(_=>_.status==="pending").length,b=j.length,N=j.reduce((_,k)=>_+(k.total_price||0),0);e({totalUsers:x,totalCreators:v,totalProviders:h,totalDesigns:f,pendingDesigns:p,totalOrders:b,totalRevenue:N})}catch(d){console.error("Error fetching stats:",d)}finally{n(!1),a(!1)}},o=()=>{a(!0),l()};return s?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord Admin"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble complte de votre plateforme"})]}),r.jsx("button",{onClick:o,disabled:i,className:"flex items-center gap-2 bg-white border border-gray-300 text-gray-700 rounded-xl px-6 py-3 hover:bg-gray-50 transition-all duration-200 font-semibold shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}),"Actualisation..."]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Actualiser"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg shadow-blue-200 hover:shadow-xl hover:shadow-blue-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalUsers)||0}),r.jsx("div",{className:"text-blue-100 text-sm",children:"Utilisateurs"})]})]}),r.jsxs("div",{className:"flex justify-between text-sm text-blue-100",children:[r.jsxs("span",{children:[(t==null?void 0:t.totalCreators)||0," crateurs"]}),r.jsxs("span",{children:[(t==null?void 0:t.totalProviders)||0," prestataires"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg shadow-purple-200 hover:shadow-xl hover:shadow-purple-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalDesigns)||0}),r.jsx("div",{className:"text-purple-100 text-sm",children:"Designs"})]})]}),t!=null&&t.pendingDesigns?r.jsx("div",{className:"bg-white/20 rounded-lg px-3 py-1.5 mt-2",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-purple-50",children:"En attente"}),r.jsx("span",{className:"font-semibold text-yellow-300",children:t.pendingDesigns})]})}):null]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg shadow-orange-200 hover:shadow-xl hover:shadow-orange-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalOrders)||0}),r.jsx("div",{className:"text-orange-100 text-sm",children:"Commandes"})]})]}),r.jsxs("div",{className:"text-orange-100 text-sm",children:["CA moyen: ",t!=null&&t.totalOrders?(t.totalRevenue/t.totalOrders).toFixed(0):0," /commande"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg shadow-green-200 hover:shadow-xl hover:shadow-green-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold",children:[((c=t==null?void 0:t.totalRevenue)==null?void 0:c.toFixed(0))||"0"," "]}),r.jsx("div",{className:"text-green-100 text-sm",children:"Revenus totaux"})]})]}),r.jsx("div",{className:"text-green-100 text-sm",children:"Croissance mensuelle: +12%"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rpartition Utilisateurs"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Crateurs"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.totalCreators)||0}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",t!=null&&t.totalUsers?Math.round(t.totalCreators/t.totalUsers*100):0,"%)"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Prestataires"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.totalProviders)||0}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",t!=null&&t.totalUsers?Math.round(t.totalProviders/t.totalUsers*100):0,"%)"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Clients"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:t?t.totalUsers-t.totalCreators-t.totalProviders:0}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",t!=null&&t.totalUsers?Math.round((t.totalUsers-t.totalCreators-t.totalProviders)/t.totalUsers*100):0,"%)"]})]})]})]}),r.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-500",style:{width:"100%",background:`linear-gradient(to right, #3b82f6 ${t!=null&&t.totalUsers?t.totalCreators/t.totalUsers*100:0}%, #10b981 ${t!=null&&t.totalUsers?t.totalCreators/t.totalUsers*100:0}% ${t!=null&&t.totalUsers?(t.totalCreators+t.totalProviders)/t.totalUsers*100:0}%, #6b7280 ${t!=null&&t.totalUsers?(t.totalCreators+t.totalProviders)/t.totalUsers*100:0}%)`}})})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statut des Designs"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-600 text-sm",children:""})}),r.jsx("div",{children:r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"En attente"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.pendingDesigns)||0}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",t!=null&&t.totalDesigns?Math.round(t.pendingDesigns/t.totalDesigns*100):0,"%)"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 text-sm",children:""})}),r.jsx("div",{children:r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Approuvs"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:t?t.totalDesigns-t.pendingDesigns:0}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",t!=null&&t.totalDesigns?Math.round((t.totalDesigns-t.pendingDesigns)/t.totalDesigns*100):0,"%)"]})]})]})]}),r.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${t!=null&&t.totalDesigns?t.pendingDesigns/t.totalDesigns*100:0}%`}})})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sant de la Plateforme"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 text-sm",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Taux d'activit"})]}),r.jsx("span",{className:"font-semibold text-blue-600",children:"87%"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-green-600 text-sm",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Performance"})]}),r.jsx("span",{className:"font-semibold text-green-600",children:"94%"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-purple-600 text-sm",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Satisfaction"})]}),r.jsx("span",{className:"font-semibold text-purple-600",children:"4.8/5"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Actions Rapides"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full font-medium",children:"Accs direct"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("a",{href:"/admin/designs",className:"group flex items-center p-6 bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-2xl hover:from-yellow-100 hover:to-yellow-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-14 h-14 bg-yellow-500 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Modrer les Designs"}),r.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:[(t==null?void 0:t.pendingDesigns)||0," designs en attente"]})]}),r.jsx("div",{className:"text-yellow-600 group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsxs("a",{href:"/admin/users",className:"group flex items-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-2xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-14 h-14 bg-blue-500 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Grer les Utilisateurs"}),r.jsxs("p",{className:"text-blue-700 text-sm mt-1",children:[(t==null?void 0:t.totalUsers)||0," utilisateurs actifs"]})]}),r.jsx("div",{className:"text-blue-600 group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),r.jsxs("a",{href:"/designs",className:"group flex items-center p-6 bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-2xl hover:from-green-100 hover:to-green-200 transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[r.jsx("div",{className:"w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:"Voir le Catalogue"}),r.jsxs("p",{className:"text-green-700 text-sm mt-1",children:[(t==null?void 0:t.totalDesigns)||0," designs disponibles"]})]}),r.jsx("div",{className:"text-green-600 group-hover:translate-x-1 transition-transform duration-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-primary-600 text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Plateforme oprationnelle"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Tous les systmes fonctionnent normalement  Dernire mise  jour: ",new Date().toLocaleTimeString("fr-FR")]})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-gray-900 text-lg",children:(t==null?void 0:t.totalOrders)||0}),r.jsx("div",{className:"text-gray-600",children:"Commandes aujourd'hui"})]}),r.jsx("div",{className:"w-px h-8 bg-gray-300"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-gray-900 text-lg",children:(t==null?void 0:t.pendingDesigns)||0}),r.jsx("div",{className:"text-gray-600",children:" modrer"})]}),r.jsx("div",{className:"w-px h-8 bg-gray-300"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-gray-900 text-lg",children:"24/7"}),r.jsx("div",{className:"text-gray-600",children:"Support actif"})]})]})]})})]})}function Vy(){const[t,e]=w.useState(null),[s,n]=w.useState(!0),[i,a]=w.useState("month"),[l,o]=w.useState(!1);w.useEffect(()=>{c()},[i]);const c=async()=>{n(!0);try{const{data:v}=await R.from("profiles").select("id, role"),{data:h}=await R.from("designs").select("id, sales"),{data:f}=await R.from("orders").select("id, status, total_price, created_at, design_id, designs(title, creator_id), provider_id"),p=(v==null?void 0:v.length)||0,b=(h==null?void 0:h.length)||0,N=(f==null?void 0:f.length)||0,_=(f==null?void 0:f.reduce((we,cs)=>we+(cs.total_price||0),0))||0,k=(f==null?void 0:f.filter(we=>we.status==="pending").length)||0,E=(f==null?void 0:f.filter(we=>we.status==="completed"||we.status==="delivered").length)||0,I=(v==null?void 0:v.filter(we=>we.role==="provider").length)||0,D=(v==null?void 0:v.filter(we=>we.role==="creator").length)||0,Te=d(f||[]),Gt=u(f||[]),Jt=m(f||[]),{data:mn}=await R.from("profiles").select("id, full_name").eq("role","provider"),Ji=await g(mn||[],f||[]);e({totalUsers:p,totalDesigns:b,totalOrders:N,totalRevenue:_,pendingOrders:k,completedOrders:E,activeProviders:I,activeCreators:D,revenueByMonth:Te,topDesigns:Gt,topCreators:Jt,topProviders:Ji})}catch(v){console.error("Error fetching report data:",v)}finally{n(!1)}},d=v=>{const h={};return v.forEach(f=>{const p=new Date(f.created_at),b=`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}`;h[b]=(h[b]||0)+(f.total_price||0)}),Object.entries(h).map(([f,p])=>({month:f,revenue:p})).sort((f,p)=>f.month.localeCompare(p.month)).slice(-6)},u=v=>{const h={};return v.forEach(f=>{if(f.design_id&&f.designs){const p=f.design_id;h[p]||(h[p]={title:f.designs.title,sales:0,revenue:0}),h[p].sales++,h[p].revenue+=f.total_price||0}}),Object.entries(h).map(([f,p])=>({id:f,...p})).sort((f,p)=>p.revenue-f.revenue).slice(0,5)},m=v=>{const h={};return v.forEach(f=>{var p;if((p=f.designs)!=null&&p.creator_id){const b=f.designs.creator_id;h[b]||(h[b]={full_name:"Creator",designs_count:0,total_sales:0}),h[b].total_sales++}}),Object.entries(h).map(([f,p])=>({id:f,...p})).sort((f,p)=>p.total_sales-f.total_sales).slice(0,5)},g=async(v,h)=>{const f={};h.forEach(p=>{if(p.provider_id){const b=p.provider_id;if(!f[b]){const N=v.find(_=>_.id===b);f[b]={business_name:(N==null?void 0:N.full_name)||"Provider",orders_count:0,rating:0}}f[b].orders_count++}});for(const p in f){const{data:b}=await R.from("reviews").select("rating").eq("provider_id",p);if(b&&b.length>0){const N=b.reduce((_,k)=>_+k.rating,0)/b.length;f[p].rating=N}}return Object.entries(f).map(([p,b])=>({id:p,...b})).sort((p,b)=>b.orders_count-p.orders_count).slice(0,5)},y=async()=>{if(t){o(!0);try{const v=[["Metric","Value"],["Total Users",t.totalUsers],["Total Designs",t.totalDesigns],["Total Orders",t.totalOrders],["Total Revenue",`${t.totalRevenue.toFixed(2)} `],["Pending Orders",t.pendingOrders],["Completed Orders",t.completedOrders],["Active Providers",t.activeProviders],["Active Creators",t.activeCreators]].map(b=>b.join(",")).join(`
`),h=new Blob([v],{type:"text/csv"}),f=window.URL.createObjectURL(h),p=document.createElement("a");p.href=f,p.download=`alphacadeau-report-${new Date().toISOString().split("T")[0]}.csv`,p.click(),window.URL.revokeObjectURL(f)}catch(v){console.error("Export error:",v)}finally{o(!1)}}},j=v=>{const[h,f]=v.split("-");return new Date(parseInt(h),parseInt(f)-1).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})},x=(v,h)=>h>0?v/h*100:0;return s?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx(ne,{size:"lg"})}):t?r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord Analytics"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Vue d'ensemble complte de votre plateforme"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:i,onChange:v=>a(v.target.value),className:"appearance-none bg-white border border-gray-300 rounded-xl pl-4 pr-10 py-3 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 font-medium shadow-sm",children:[r.jsx("option",{value:"week",children:"Cette semaine"}),r.jsx("option",{value:"month",children:"Ce mois"}),r.jsx("option",{value:"year",children:"Cette anne"})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),r.jsx("button",{onClick:y,disabled:l,className:"flex items-center gap-2 bg-white border border-gray-300 text-gray-700 rounded-xl px-6 py-3 hover:bg-gray-50 transition-all duration-200 font-semibold shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}),"Export..."]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exporter CSV"]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg shadow-blue-200 hover:shadow-xl hover:shadow-blue-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),r.jsx("div",{className:"text-blue-100 text-sm",children:"Utilisateurs"})]})]}),r.jsxs("div",{className:"flex justify-between text-sm text-blue-100",children:[r.jsxs("span",{children:[t.activeCreators," crateurs"]}),r.jsxs("span",{children:[t.activeProviders," prestataires"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-lg shadow-green-200 hover:shadow-xl hover:shadow-green-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:t.totalDesigns}),r.jsx("div",{className:"text-green-100 text-sm",children:"Designs"})]})]}),r.jsxs("div",{className:"text-green-100 text-sm",children:[t.topDesigns.length," designs populaires"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg shadow-orange-200 hover:shadow-xl hover:shadow-orange-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:t.totalOrders}),r.jsx("div",{className:"text-orange-100 text-sm",children:"Commandes"})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm text-orange-100",children:[r.jsxs("span",{children:["En attente: ",t.pendingOrders]}),r.jsxs("span",{children:["Termines: ",t.completedOrders]})]}),r.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:r.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-500",style:{width:`${x(t.completedOrders,t.totalOrders)}%`}})})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg shadow-purple-200 hover:shadow-xl hover:shadow-purple-300 transition-all duration-300 group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold",children:[t.totalRevenue.toFixed(0)," "]}),r.jsx("div",{className:"text-purple-100 text-sm",children:"Revenus totaux"})]})]}),r.jsxs("div",{className:"text-purple-100 text-sm",children:["CA moyen: ",(t.totalRevenue/Math.max(t.totalOrders,1)).toFixed(0)," /commande"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"volution des Revenus"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full font-medium",children:i==="week"?"7j":i==="month"?"30j":"1an"})]}),r.jsx("div",{className:"space-y-4",children:t.revenueByMonth.map(v=>{const h=Math.max(...t.revenueByMonth.map(p=>p.revenue)),f=h>0?v.revenue/h*100:0;return r.jsxs("div",{className:"flex items-center gap-4 group",children:[r.jsx("div",{className:"w-24 flex-shrink-0",children:r.jsx("span",{className:"text-sm font-medium text-gray-700",children:j(v.month)})}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-3 rounded-full transition-all duration-500 group-hover:from-purple-600 group-hover:to-purple-700",style:{width:`${f}%`}})})}),r.jsx("div",{className:"w-20 text-right",children:r.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[v.revenue.toFixed(0)," "]})})]},v.month)})})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Top 5 Designs"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full font-medium",children:"Par revenus"})]}),r.jsx("div",{className:"space-y-4",children:t.topDesigns.map((v,h)=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-all duration-200 group",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white rounded-xl shadow-sm group-hover:shadow-md transition-shadow duration-200",children:r.jsxs("span",{className:"text-lg font-bold text-primary-600",children:["#",h+1]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-gray-900 truncate",children:v.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:[v.sales," ventes"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-primary-600 text-lg",children:[v.revenue.toFixed(0)," "]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Revenus"})]})]},v.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Top 5 Crateurs"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full font-medium",children:"Par ventes"})]}),r.jsx("div",{className:"space-y-4",children:t.topCreators.map((v,h)=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-all duration-200 group",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-sm",children:r.jsxs("span",{className:"text-white text-sm font-bold",children:["#",h+1]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-gray-900 truncate",children:v.full_name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[v.designs_count," designs crs"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-bold text-blue-600 text-lg",children:v.total_sales}),r.jsx("p",{className:"text-xs text-gray-500",children:"Ventes"})]})]},v.id))})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Top 5 Prestataires"}),r.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full font-medium",children:"Par commandes"})]}),r.jsx("div",{className:"space-y-4",children:t.topProviders.map((v,h)=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-all duration-200 group",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-sm",children:r.jsxs("span",{className:"text-white text-sm font-bold",children:["#",h+1]})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-gray-900 truncate",children:v.business_name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[v.orders_count," commandes traites"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center gap-1 justify-end mb-1",children:[r.jsx("svg",{className:"w-4 h-4 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),r.jsx("span",{className:"font-bold text-gray-900",children:v.rating.toFixed(1)})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Note moyenne"})]})]},v.id))})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-2xl p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-primary-600 text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Performance globale"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Donnes mises  jour en temps rel  Priode: ",i==="week"?"7 jours":i==="month"?"30 jours":"1 an"]})]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-gray-900 text-lg",children:t.totalOrders}),r.jsx("div",{className:"text-gray-600",children:"Commandes totales"})]}),r.jsx("div",{className:"w-px h-8 bg-gray-300"}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"font-bold text-gray-900 text-lg",children:[t.totalRevenue.toFixed(0)," "]}),r.jsx("div",{className:"text-gray-600",children:"Chiffre d'affaires"})]}),r.jsx("div",{className:"w-px h-8 bg-gray-300"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-gray-900 text-lg",children:t.activeCreators+t.activeProviders}),r.jsx("div",{className:"text-gray-600",children:"Actifs"})]})]})]})})]}):r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-3xl",children:""})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune donne disponible"}),r.jsx("p",{className:"text-gray-600",children:"Les donnes de rapport n'ont pas pu tre charges."})]})})}function Wy(){var a;const{user:t}=ee(),e=ze(),s=[{id:"stats",label:"Tableau de Bord",path:"/admin/stats",icon:"",description:"Vue d'ensemble des performances"},{id:"reports",label:"Analytics",path:"/admin/reports",icon:"",description:"Rapports dtaills et analyses"},{id:"designs",label:"Modration",path:"/admin/designs",icon:"",description:"Gestion des designs et contenus"},{id:"users",label:"Utilisateurs",path:"/admin/users",icon:"",description:"Gestion des comptes et permissions"}],n=l=>e.pathname===l,i=()=>{const l=new Date().getHours();return l<12?"Bonjour":l<18?"Bon aprs-midi":"Bonsoir"};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-gray-100/50",children:[r.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/60 sticky top-0 z-40",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between h-20",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-2xl flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"A"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Administration"}),r.jsxs("p",{className:"text-gray-600 text-sm flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Plateforme en ligne"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right hidden sm:block",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:[i(),","]}),r.jsx("p",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)})]}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-600 to-gray-700 rounded-2xl flex items-center justify-center text-white font-semibold shadow-lg",children:t!=null&&t.full_name?t.full_name.charAt(0).toUpperCase():(a=t==null?void 0:t.email)==null?void 0:a.charAt(0).toUpperCase()})]})]}),r.jsx("div",{className:"flex space-x-1 pb-0",children:s.map(l=>r.jsxs(C,{to:l.path,className:`group relative flex flex-col items-center p-4 min-w-32 transition-all duration-300 ${n(l.path)?"text-primary-600 border-b-2 border-primary-600 bg-primary-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50/50"}`,children:[r.jsxs("div",{className:`flex items-center gap-3 mb-1 ${n(l.path)?"transform scale-110":""} transition-transform duration-300`,children:[r.jsx("span",{className:"text-xl",children:l.icon}),r.jsx("span",{className:"font-semibold text-sm",children:l.label})]}),r.jsx("p",{className:`text-xs text-center transition-all duration-300 ${n(l.path)?"text-primary-500 opacity-100":"text-gray-400 opacity-0 group-hover:opacity-100"}`,children:l.description}),n(l.path)&&r.jsx("div",{className:"absolute -bottom-px left-0 right-0 h-0.5 bg-gradient-to-r from-primary-600 to-primary-400 rounded-full"})]},l.id))})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[{label:"Utilisateurs Actifs",value:"2.4K",change:"+12%",icon:"",color:"blue"},{label:"Designs En Attente",value:"24",change:"+3",icon:"",color:"orange"},{label:"Commandes Aujourd'hui",value:"156",change:"+8%",icon:"",color:"green"},{label:"Revenus Journaliers",value:"2.4K",change:"+15%",icon:"",color:"purple"}].map((l,o)=>r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/60 shadow-sm hover:shadow-md transition-all duration-300 group",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:l.label}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.value}),r.jsx("p",{className:`text-xs font-semibold ${l.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:l.change})]}),r.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${l.color==="blue"?"from-blue-500 to-blue-600":l.color==="orange"?"from-orange-500 to-orange-600":l.color==="green"?"from-green-500 to-green-600":"from-purple-500 to-purple-600"} rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:r.jsx("span",{className:"text-white text-xl",children:l.icon})})]})},o))}),r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-3xl border border-gray-200/40 shadow-sm overflow-hidden",children:r.jsx("div",{className:"p-8",children:r.jsxs(Mi,{children:[r.jsx(z,{index:!0,element:r.jsx(Ad,{})}),r.jsx(z,{path:"stats",element:r.jsx(Ad,{})}),r.jsx(z,{path:"reports",element:r.jsx(Vy,{})}),r.jsx(z,{path:"designs",element:r.jsx(By,{})}),r.jsx(z,{path:"users",element:r.jsx(qy,{})})]})})}),r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("span",{children:"Systme oprationnel"})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.jsx("span",{children:""}),r.jsxs("span",{children:["Dernire synchro: ",new Date().toLocaleTimeString("fr-FR")]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{children:"Version 2.1.0"}),r.jsx("span",{children:""}),r.jsx("span",{children:"Support 24/7"})]})]})]}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200/60 lg:hidden",children:r.jsx("div",{className:"flex justify-around items-center py-3",children:s.map(l=>r.jsxs(C,{to:l.path,className:`flex flex-col items-center p-2 min-w-16 transition-all duration-300 ${n(l.path)?"text-primary-600":"text-gray-500"}`,children:[r.jsx("span",{className:"text-xl mb-1",children:l.icon}),r.jsx("span",{className:`text-xs font-medium ${n(l.path)?"text-primary-600":"text-gray-500"}`,children:l.label.split(" ")[0]}),n(l.path)&&r.jsx("div",{className:"w-1 h-1 bg-primary-600 rounded-full mt-1"})]},l.id))})}),r.jsx("div",{className:"h-20 lg:h-0"})]})}function Hy(){const{user:t,setUser:e}=ee(),s=tt(),[n,i]=w.useState(!1),[a,l]=w.useState(!1),[o,c]=w.useState("profile"),[d,u]=w.useState({full_name:"",phone:"",address:""});w.useEffect(()=>{t&&u({full_name:t.full_name||"",phone:t.phone||"",address:t.address||""})},[t]);const m=async x=>{if(x.preventDefault(),!!t){l(!0);try{const{error:v}=await R.from("profiles").update({full_name:d.full_name,phone:d.phone,address:d.address}).eq("id",t.id);if(v)throw v;e({...t,full_name:d.full_name,phone:d.phone,address:d.address}),alert("Profil mis  jour avec succs")}catch(v){console.error("Error updating profile:",v),alert("Erreur lors de la mise  jour du profil")}finally{l(!1)}}},g=async()=>{i(!0);try{await Lm(),s("/")}catch(x){console.error("Error signing out:",x)}finally{i(!1)}};if(!t)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50/30 to-blue-50/20 flex items-center justify-center",children:r.jsx(ne,{size:"lg"})});const y=x=>({client:"from-blue-500 to-blue-600",creator:"from-purple-500 to-purple-600",provider:"from-green-500 to-green-600",admin:"from-red-500 to-red-600"})[x]||"from-gray-500 to-gray-600",j=x=>({client:"",creator:"",provider:"",admin:""})[x]||"";return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50/30 to-blue-50/20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-primary-500 to-primary-600 rounded-3xl shadow-2xl mb-8",children:r.jsx("span",{className:"text-4xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4",children:"Mon Profil"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Grez vos informations personnelles et vos prfrences"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-6 sticky top-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:`w-20 h-20 bg-gradient-to-r ${y(t.role)} rounded-2xl flex items-center justify-center text-2xl text-white mx-auto mb-4 shadow-lg`,children:j(t.role)}),r.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:t.full_name||"Utilisateur"}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:t.email}),r.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 bg-gradient-to-r ${y(t.role)} text-white rounded-full text-sm font-semibold`,children:[j(t.role),t.role]})]}),r.jsx("nav",{className:"space-y-2",children:[{id:"profile",label:"Profil",icon:""},{id:"security",label:"Scurit",icon:""},{id:"preferences",label:"Prfrences",icon:""}].map(x=>r.jsxs("button",{onClick:()=>c(x.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-2xl font-semibold transition-all duration-300 ${o===x.id?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx("span",{className:"text-lg",children:x.icon}),x.label]},x.id))})]})}),r.jsxs("div",{className:"lg:col-span-3",children:[o==="profile"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Informations du compte"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-blue-100/50 rounded-2xl border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-2xl flex items-center justify-center text-blue-600 text-xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Email"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Adresse principale"})]})]}),r.jsx("p",{className:"text-gray-900 font-medium",children:t.email})]}),r.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-purple-100/50 rounded-2xl border border-purple-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center text-purple-600 text-xl",children:j(t.role)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Rle"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Statut sur la plateforme"})]})]}),r.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r ${y(t.role)} text-white rounded-full font-semibold`,children:[j(t.role),t.role]})]})]})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Informations personnelles"]}),r.jsxs("form",{onSubmit:m,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Nom complet"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:d.full_name,onChange:x=>u({...d,full_name:x.target.value}),className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Jean Dupont"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Tlphone"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",value:d.phone,onChange:x=>u({...d,phone:x.target.value}),className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"+33 6 12 34 56 78"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Adresse de livraison"]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:d.address,onChange:x=>u({...d,address:x.target.value}),rows:3,className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none",placeholder:"123 Rue de la Paix, 75001 Paris, France"}),r.jsx("div",{className:"absolute left-4 top-4 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]})]}),r.jsx("button",{type:"submit",disabled:a,className:"w-full py-4 px-6 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200 flex items-center justify-center gap-3",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),"Enregistrer les modifications"]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.role==="creator"&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-3xl p-6 text-white text-center hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-2xl mb-4 mx-auto",children:""}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Espace Crateur"}),r.jsx("p",{className:"text-purple-100 text-sm mb-4",children:"Grez vos designs et statistiques"}),r.jsx("a",{href:"/creator/stats",className:"inline-block w-full py-2 bg-white text-purple-600 font-semibold rounded-2xl hover:shadow-lg transition-all duration-200",children:"Accder"})]}),t.role==="provider"&&r.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-3xl p-6 text-white text-center hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-2xl mb-4 mx-auto",children:""}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Espace Prestataire"}),r.jsx("p",{className:"text-green-100 text-sm mb-4",children:"Grez vos commandes et production"}),r.jsx("a",{href:"/provider/stats",className:"inline-block w-full py-2 bg-white text-green-600 font-semibold rounded-2xl hover:shadow-lg transition-all duration-200",children:"Accder"})]}),t.role==="admin"&&r.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-3xl p-6 text-white text-center hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-2xl mb-4 mx-auto",children:""}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Administration"}),r.jsx("p",{className:"text-red-100 text-sm mb-4",children:"Panneau de gestion complet"}),r.jsx("a",{href:"/admin",className:"inline-block w-full py-2 bg-white text-red-600 font-semibold rounded-2xl hover:shadow-lg transition-all duration-200",children:"Accder"})]})]})]}),o==="security"&&r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Scurit du compte"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-blue-100/50 rounded-2xl border border-blue-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Authentification  deux facteurs"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Ajoutez une couche de scurit supplmentaire  votre compte"}),r.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 transition-colors duration-200",children:"Activer la 2FA"})]}),r.jsxs("div",{className:"p-6 bg-gradient-to-r from-green-50 to-green-100/50 rounded-2xl border border-green-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Sessions actives"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Vous tes actuellement connect sur cet appareil"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Dernire activit: ",new Date().toLocaleString("fr-FR")]})]})]})]}),o==="preferences"&&r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Prfrences"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-purple-100/50 rounded-2xl border border-purple-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notifications"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Grez vos prfrences de notification"}),r.jsx("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-2xl hover:bg-purple-700 transition-colors duration-200",children:"Configurer"})]}),r.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-50 to-orange-100/50 rounded-2xl border border-orange-200",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Langue et rgion"}),r.jsx("p",{className:"text-gray-600",children:"Franais (France)  Fuseau horaire: Europe/Paris"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100/50 rounded-3xl shadow-xl border border-red-200 p-8 mt-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Zone de scurit"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-700",children:"Ces actions sont irrversibles. Veuillez les utiliser avec prcaution."}),r.jsx("button",{onClick:g,disabled:n,className:"w-full py-4 px-6 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none transition-all duration-200 flex items-center justify-center gap-3",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Dconnexion..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),"Se dconnecter"]})})]})]})]})]})]})})}function Ky({orderId:t,designId:e,providerId:s,onSuccess:n}){const{user:i}=ee(),[a,l]=w.useState(0),[o,c]=w.useState(0),[d,u]=w.useState(""),[m,g]=w.useState(!1),y=async j=>{if(j.preventDefault(),!(!i||a===0)){g(!0);try{const{error:x}=await R.from("reviews").insert({order_id:t,user_id:i.id,design_id:e,provider_id:s,rating:a,comment:d.trim()||null});if(x)throw x;alert("Avis soumis avec succs"),l(0),u(""),n&&n()}catch(x){console.error("Error submitting review:",x),alert("Erreur lors de la soumission de l'avis")}finally{g(!1)}}};return r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),r.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(j=>r.jsx("button",{type:"button",onClick:()=>l(j),onMouseEnter:()=>c(j),onMouseLeave:()=>c(0),className:"focus:outline-none transition-transform hover:scale-110",children:r.jsx("svg",{className:`w-8 h-8 ${j<=(o||a)?"text-yellow-400 fill-current":"text-gray-300"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},j))}),a>0&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a===1&&"Trs mauvais",a===2&&"Mauvais",a===3&&"Moyen",a===4&&"Bon",a===5&&"Excellent"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaire (optionnel)"}),r.jsx("textarea",{value:d,onChange:j=>u(j.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Partagez votre exprience..."})]}),r.jsx("button",{type:"submit",disabled:m||a===0,className:"w-full btn btn-primary disabled:opacity-50",children:m?"Envoi...":"Soumettre l'avis"})]})}function Gy(){var j;const{user:t}=ee(),[e,s]=w.useState([]),[n,i]=w.useState(!0),[a,l]=w.useState("all"),[o,c]=w.useState(null);w.useEffect(()=>{d()},[a]);const d=async()=>{if(t)try{let x=R.from("orders").select(`
          *,
          designs (title, image_url),
          supports (name),
          providers (business_name, avatar_url)
        `).eq("client_id",t.id).order("created_at",{ascending:!1});a!=="all"&&(a==="completed"?x=x.in("status",["completed","delivered"]):x=x.eq("status",a));const{data:v,error:h}=await x;if(h)throw h;s(v||[])}catch(x){console.error("Error fetching orders:",x)}finally{i(!1)}},u=async(x,v)=>{if(v!=="pending"){alert("Seules les commandes en attente peuvent tre annules");return}if(confirm("tes-vous sr de vouloir annuler cette commande ?"))try{const{error:h}=await R.from("orders").update({status:"cancelled"}).eq("id",x).eq("client_id",t==null?void 0:t.id);if(h)throw h;s(e.map(f=>f.id===x?{...f,status:"cancelled"}:f)),alert("Commande annule avec succs")}catch(h){console.error("Error cancelling order:",h),alert("Erreur lors de l'annulation de la commande")}},m=x=>{const v={pending:{bg:"bg-yellow-100 border-yellow-200",text:"text-yellow-800",icon:""},in_production:{bg:"bg-blue-100 border-blue-200",text:"text-blue-800",icon:""},ready:{bg:"bg-green-100 border-green-200",text:"text-green-800",icon:""},shipped:{bg:"bg-orange-100 border-orange-200",text:"text-orange-800",icon:""},delivered:{bg:"bg-green-100 border-green-200",text:"text-green-800",icon:""},completed:{bg:"bg-gray-100 border-gray-200",text:"text-gray-800",icon:""},cancelled:{bg:"bg-red-100 border-red-200",text:"text-red-800",icon:""}},h={pending:"En attente",in_production:"En production",ready:"Prt",shipped:"Expdi",delivered:"Livr",completed:"Termin",cancelled:"Annul"},f=v[x]||v.pending;return r.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold border ${f.bg} ${f.text}`,children:[r.jsx("span",{children:f.icon}),h[x]]})},g=(x,v)=>({pending:v?`Votre commande a t attribue  ${v.business_name}`:"Votre commande est en attente d'attribution",in_production:"Votre produit est en cours de fabrication",ready:"Votre produit est prt",shipped:"Votre commande a t expdie",delivered:"Votre commande a t livre",completed:"Commande termine",cancelled:"Cette commande a t annule"})[x]||x,y=x=>({pending:20,in_production:50,ready:80,shipped:90,delivered:100,completed:100,cancelled:0})[x]||0;return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ne,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Chargement de vos commandes..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-primary-500 to-primary-600 rounded-3xl shadow-2xl mb-8",children:r.jsx("span",{className:"text-4xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4",children:"Mes Commandes"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Suivez l'avancement de toutes vos crations"})]}),e.length>0&&r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:e.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total commandes"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:e.filter(x=>["pending","in_production"].includes(x.status)).length}),r.jsx("div",{className:"text-sm text-gray-600",children:"En cours"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:e.filter(x=>["delivered","completed"].includes(x.status)).length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Termines"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsxs("div",{className:"text-3xl font-bold text-gray-600 mb-2",children:[e.reduce((x,v)=>x+v.total_price,0).toFixed(0),""]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Dpens au total"})]})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-6 mb-8",children:r.jsx("div",{className:"flex flex-wrap gap-3",children:[{key:"all",label:"Toutes les commandes",icon:""},{key:"pending",label:"En attente",icon:""},{key:"in_production",label:"En production",icon:""},{key:"completed",label:"Termines",icon:""}].map(x=>r.jsxs("button",{onClick:()=>l(x.key),className:`inline-flex items-center gap-3 px-6 py-3 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 ${a===x.key?"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-lg":"bg-white text-gray-700 border border-gray-200 hover:border-primary-300 hover:shadow-md"}`,children:[r.jsx("span",{className:"text-lg",children:x.icon}),x.label]},x.key))})}),e.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Aucune commande"}),r.jsx("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:"Vous n'avez pas encore pass de commande. Dcouvrez nos designs uniques et crez votre premire commande personnalise."}),r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Explorer les designs"]})]})}):r.jsx("div",{className:"space-y-6",children:e.map(x=>r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 overflow-hidden transition-all duration-500 hover:shadow-2xl",children:[r.jsxs("div",{className:"p-8",children:[r.jsx("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6 mb-6",children:r.jsxs("div",{className:"flex items-start gap-6 flex-1",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl overflow-hidden shadow-lg flex-shrink-0",children:r.jsx("img",{src:x.designs.image_url,alt:x.designs.title,className:"w-full h-full object-contain p-2"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:x.designs.title}),r.jsx("p",{className:"text-gray-600",children:x.supports.name})]}),m(x.status)]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{children:"Progression de la commande"}),r.jsxs("span",{children:[y(x.status),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-2 rounded-full transition-all duration-1000",style:{width:`${y(x.status)}%`}})})]}),r.jsxs("p",{className:"text-gray-700 bg-blue-50/50 rounded-xl p-3 border border-blue-200",children:[r.jsx("span",{className:"font-semibold",children:" "}),g(x.status,x.providers)]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Quantit"}),r.jsx("div",{className:"font-semibold text-gray-900",children:x.quantity})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total"}),r.jsxs("div",{className:"font-semibold text-gray-900 text-lg",children:[x.total_price.toFixed(2)," "]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Date"}),r.jsx("div",{className:"font-semibold text-gray-900",children:new Date(x.created_at).toLocaleDateString("fr-FR")})]}),x.providers&&r.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Prestataire"}),r.jsx("div",{className:"font-semibold text-gray-900",children:x.providers.business_name})]})]}),x.customization&&Object.keys(x.customization).length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Personnalisation"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(x.customization).map(([v,h])=>h?r.jsxs("span",{className:"inline-flex items-center px-3 py-2 bg-primary-50 text-primary-700 rounded-xl text-sm font-medium border border-primary-200",children:[r.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-2"}),v,": ",String(h)]},v):null)})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs(C,{to:`/designs/${x.design_id}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-700 font-semibold rounded-2xl border border-gray-200 hover:border-primary-300 hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{children:""}),"Voir le design"]}),r.jsxs(C,{to:`/orders/${x.id}/track`,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{children:""}),"Suivre la commande"]}),x.status==="pending"&&r.jsxs("button",{onClick:()=>u(x.id,x.status),className:"inline-flex items-center gap-2 px-6 py-3 bg-red-50 text-red-700 font-semibold rounded-2xl border border-red-200 hover:bg-red-100 hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{children:""}),"Annuler"]}),x.status==="delivered"&&r.jsxs("button",{onClick:()=>c(x),className:"inline-flex items-center gap-2 px-6 py-3 bg-green-50 text-green-700 font-semibold rounded-2xl border border-green-200 hover:bg-green-100 hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{children:""}),"Laisser un avis"]})]})]}),r.jsx("div",{className:"bg-gray-50/80 border-t border-gray-200 px-8 py-4",children:r.jsxs("div",{className:"text-sm text-gray-500 font-mono",children:["N de commande: #",x.id.slice(0,8).toUpperCase()]})})]},x.id))}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/60 max-w-lg w-full transform animate-fadeIn",children:r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Laisser un avis"]}),r.jsx("button",{onClick:()=>c(null),className:"w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors duration-200",children:r.jsx("span",{className:"text-xl",children:""})})]}),r.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200",children:r.jsxs("p",{className:"text-gray-700",children:["Partagez votre exprience avec ",r.jsx("strong",{children:o.designs.title})]})}),r.jsx(Ky,{orderId:o.id,designId:o.design_id,providerId:(j=o.providers)==null?void 0:j.business_name,onSuccess:()=>{c(null),d()}})]})})})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
      `})]})}const ys=[{key:"pending",label:"En attente",description:"Commande reue et en attente de traitement",icon:"",color:"from-yellow-500 to-yellow-600"},{key:"assigned",label:"Assigne",description:"Prestataire local slectionn",icon:"",color:"from-blue-500 to-blue-600"},{key:"in_production",label:"En production",description:"Fabrication de votre produit en cours",icon:"",color:"from-purple-500 to-purple-600"},{key:"shipped",label:"Expdie",description:"Votre commande est en route",icon:"",color:"from-orange-500 to-orange-600"},{key:"delivered",label:"Livre",description:"Commande livre avec succs",icon:"",color:"from-green-500 to-green-600"}];function Jy(){const{id:t}=Zh(),[e,s]=w.useState(null),[n,i]=w.useState(!0),[a,l]=w.useState("");w.useEffect(()=>{t&&(o(),c())},[t]);const o=async()=>{try{const{data:m,error:g}=await R.from("orders").select(`
          *,
          designs(title, image_url),
          supports(name),
          providers(business_name, avatar_url, rating),
          order_status_history(status, created_at, notes)
        `).eq("id",t).single();if(g)throw g;s(m)}catch(m){console.error("Error fetching order:",m)}finally{i(!1)}},c=()=>{const m=new Date;m.setDate(m.getDate()+7),l(m.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))};if(n)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ne,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Chargement du suivi..."})]})});if(!e)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-gray-300 to-gray-400 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Commande non trouve"}),r.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Nous n'avons pas pu retrouver les dtails de suivi de cette commande."}),r.jsxs(C,{to:"/orders",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Retour aux commandes"]})]})});const d=ys.findIndex(m=>m.key===e.status),u=d/(ys.length-1)*100;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-primary-500 to-primary-600 rounded-3xl shadow-2xl mb-8",children:r.jsx("span",{className:"text-4xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4",children:"Suivi en Temps Rel"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Suivez chaque tape de la cration de votre commande personnalise"})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Progression de la commande"]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Progression globale"}),r.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[Math.round(u),"%"]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:r.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-4 rounded-full transition-all duration-1000 shadow-lg",style:{width:`${u}%`}})}),r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:[r.jsx("span",{children:"Commande passe"}),r.jsxs("span",{children:["Livraison estime: ",a]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-12 top-0 bottom-0 w-1 bg-gradient-to-b from-primary-500 to-primary-600 rounded-full",children:r.jsx("div",{className:"bg-gradient-to-b from-primary-500 to-primary-600 w-full rounded-full transition-all duration-1000",style:{height:`${u}%`}})}),r.jsx("div",{className:"space-y-8 relative",children:ys.map((m,g)=>{var v;const y=g<=d,j=g===d,x=(v=e.order_status_history)==null?void 0:v.find(h=>h.status===m.key);return r.jsxs("div",{className:"flex items-start gap-6 relative group",children:[r.jsxs("div",{className:"flex-shrink-0 relative",children:[r.jsx("div",{className:`w-24 h-24 rounded-2xl flex items-center justify-center text-2xl transition-all duration-500 transform group-hover:scale-110 ${y?`bg-gradient-to-r ${m.color} text-white shadow-lg`:"bg-gray-100 text-gray-400 border-2 border-gray-200"} ${j?"ring-4 ring-primary-200 animate-pulse":""}`,children:m.icon}),g<ys.length-1&&r.jsx("div",{className:`absolute left-1/2 top-full w-0.5 h-8 -translate-x-1/2 ${y?"bg-primary-500":"bg-gray-200"}`})]}),r.jsxs("div",{className:"flex-1 pt-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-bold mb-2 transition-colors ${j?"text-primary-600":y?"text-gray-900":"text-gray-400"}`,children:m.label}),r.jsx("p",{className:`text-lg ${y?"text-gray-600":"text-gray-400"}`,children:m.description})]}),j&&r.jsxs("span",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold border border-primary-200",children:[r.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-2 animate-pulse"}),"En cours"]})]}),x&&r.jsxs("div",{className:"bg-gray-50/80 rounded-2xl p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Mise  jour le ",new Date(x.created_at).toLocaleDateString("fr-FR")]}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(x.created_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),x.notes&&r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:x.notes})]})]})]},m.key)})})]})]}),e.order_status_history&&e.order_status_history.length>0&&r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Historique dtaill"]}),r.jsx("div",{className:"space-y-4",children:e.order_status_history.sort((m,g)=>new Date(g.created_at).getTime()-new Date(m.created_at).getTime()).map((m,g)=>{const y=ys.find(j=>j.key===m.status);return r.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50/50 rounded-2xl border border-gray-200 hover:shadow-md transition-all duration-300",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-lg ${y?`bg-gradient-to-r ${y.color} text-white`:"bg-gray-200 text-gray-600"}`,children:(y==null?void 0:y.icon)||""}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:m.status.replace("_"," ")}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(m.created_at).toLocaleString("fr-FR")})]}),m.notes&&r.jsx("p",{className:"text-gray-700 leading-relaxed",children:m.notes})]})]},g)})})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Dtails de la commande"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4 p-4 bg-gradient-to-r from-gray-50 to-gray-100/50 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"w-16 h-16 bg-white rounded-xl shadow-lg overflow-hidden flex-shrink-0",children:r.jsx("img",{src:e.designs.image_url,alt:e.designs.title,className:"w-full h-full object-contain p-1"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:e.designs.title}),r.jsx("p",{className:"text-gray-600 text-xs",children:e.supports.name})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-gray-600",children:"N de commande"}),r.jsxs("span",{className:"font-mono font-bold text-gray-900 text-sm",children:["#",e.id.slice(0,8).toUpperCase()]})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-gray-600",children:"Total"}),r.jsxs("span",{className:"font-bold text-lg text-primary-600",children:[e.total_price.toFixed(2)," "]})]}),r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-gray-600",children:"Date de commande"}),r.jsx("span",{className:"font-semibold text-gray-900",children:new Date(e.created_at).toLocaleDateString("fr-FR")})]})]}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-2xl border border-blue-200",children:[r.jsxs("h5",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4",children:""}),"Adresse de livraison"]}),r.jsx("p",{className:"text-blue-800 text-sm leading-relaxed",children:e.delivery_address})]})]})]}),e.providers&&r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6",children:""}),"Votre Artisan"]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center text-white text-2xl mx-auto mb-3",children:e.providers.business_name.charAt(0)}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.providers.business_name}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Prestataire certifi"}),r.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-500 mb-4",children:["".repeat(5),r.jsx("span",{className:"text-gray-600 text-sm ml-1",children:"(4.8)"})]}),r.jsx("button",{className:"w-full py-2 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Contacter l'artisan"})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-3xl shadow-xl p-6 text-white",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center text-xl mb-3 mx-auto",children:""}),r.jsx("h3",{className:"font-bold mb-2",children:"Besoin d'aide ?"}),r.jsx("p",{className:"text-primary-100 text-sm mb-4",children:"Notre quipe support est disponible pour vous accompagner"}),r.jsx("button",{className:"w-full py-2 bg-white text-primary-600 font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Contacter le support"})]})})]})]})]})})}const Dn=[{category:"Commandes",question:"Comment passer une commande ?",answer:"Choisissez un design dans notre catalogue, slectionnez un support, personnalisez-le si souhait, puis ajoutez-le au panier. Suivez ensuite les tapes de paiement.",icon:""},{category:"Commandes",question:"Puis-je modifier ma commande aprs validation ?",answer:`Vous pouvez annuler une commande tant qu'elle est en statut "En attente". Une fois assigne  un prestataire, contactez notre support.`,icon:""},{category:"Livraison",question:"Quels sont les dlais de livraison ?",answer:"Les dlais varient selon le support et le prestataire local. En moyenne, comptez 5-10 jours ouvrs.",icon:""},{category:"Livraison",question:"Comment suivre ma commande ?",answer:'Accdez  "Mes commandes" dans votre compte, puis cliquez sur "Suivre la commande" pour voir le statut en temps rel.',icon:""},{category:"Paiement",question:"Quels moyens de paiement acceptez-vous ?",answer:"Nous acceptons les cartes bancaires (Visa, Mastercard, American Express) et PayPal.",icon:""},{category:"Paiement",question:"Mes donnes de paiement sont-elles scurises ?",answer:"Oui, nous utilisons un systme de paiement scuris conforme PCI-DSS. Vos donnes ne sont jamais stockes sur nos serveurs.",icon:""},{category:"Crateurs",question:"Comment devenir crateur ?",answer:"Inscrivez-vous en tant que crateur, tlchargez vos designs, et une fois approuvs par notre quipe, ils seront disponibles dans le catalogue.",icon:""},{category:"Crateurs",question:"Quelle est la commission sur les ventes ?",answer:"Les crateurs reoivent 40% du prix de vente de chaque design vendu.",icon:""},{category:"Prestataires",question:"Comment devenir prestataire ?",answer:"Crez un compte prestataire et compltez votre profil avec vos zones de service, capacits de production et certifications.",icon:""},{category:"Prestataires",question:"Comment sont assignes les commandes ?",answer:"Les commandes sont automatiquement assignes aux prestataires les plus proches du client, selon leur disponibilit et leurs comptences.",icon:""}];function Qy(){const[t,e]=w.useState("all"),[s,n]=w.useState(null),[i,a]=w.useState(""),l=["all",...Array.from(new Set(Dn.map(c=>c.category)))],o=(t==="all"?Dn:Dn.filter(c=>c.category===t)).filter(c=>c.question.toLowerCase().includes(i.toLowerCase())||c.answer.toLowerCase().includes(i.toLowerCase())||c.category.toLowerCase().includes(i.toLowerCase()));return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-primary-500 to-primary-600 rounded-3xl shadow-2xl mb-8",children:r.jsx("span",{className:"text-4xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-6",children:"Centre d'Aide"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Trouvez rapidement des rponses  vos questions. Notre quipe est galement disponible pour vous accompagner."})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8 mb-12",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Rechercher une question"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Tapez votre question ici...",value:i,onChange:c=>a(c.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50/80 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"}),r.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:r.jsx("span",{className:"w-6 h-6",children:""})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Filtrer par catgorie"]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:l.map(c=>r.jsx("button",{onClick:()=>e(c),className:`inline-flex items-center px-6 py-3 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 ${t===c?"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-lg shadow-primary-500/25":"bg-white text-gray-700 border border-gray-200 hover:border-primary-300 hover:shadow-md"}`,children:c==="all"?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mr-2",children:""}),"Toutes"]}):r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"mr-2",children:[c==="Commandes"&&"",c==="Livraison"&&"",c==="Paiement"&&"",c==="Crateurs"&&"",c==="Prestataires"&&""]}),c]})},c))})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:Dn.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Questions rpondues"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:l.length-1}),r.jsx("div",{className:"text-sm text-gray-600",children:"Catgories"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"24h/24"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Support disponible"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:"98%"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Satisfaction client"})]})]}),r.jsx("div",{className:"space-y-6",children:o.map((c,d)=>r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg border border-white/60 overflow-hidden transition-all duration-500 hover:shadow-xl",children:[r.jsxs("button",{onClick:()=>n(s===d?null:d),className:"w-full flex items-start justify-between text-left p-8 hover:bg-gray-50/50 transition-colors duration-300",children:[r.jsxs("div",{className:"flex items-start space-x-6 flex-1",children:[r.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center text-2xl",children:c.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-50 to-primary-100 text-primary-700 rounded-full text-sm font-semibold mb-3 border border-primary-200",children:c.category}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 leading-relaxed",children:c.question}),r.jsx("div",{className:`overflow-hidden transition-all duration-500 ${s===d?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:r.jsx("div",{className:"pt-4 border-t border-gray-200/60",children:r.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:c.answer})})})]})]}),r.jsx("div",{className:"flex-shrink-0 ml-6",children:r.jsx("div",{className:`w-12 h-12 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center transition-transform duration-500 ${s===d?"rotate-180":""}`,children:r.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]}),s===d&&r.jsx("div",{className:"px-8 pb-6",children:r.jsx("div",{className:"h-1 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full"})})]},d))}),o.length===0&&r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Aucune question trouve"}),r.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Nous n'avons trouv aucune question correspondant  votre recherche. Essayez d'autres termes ou contactez notre support."}),r.jsxs("button",{onClick:()=>{a(""),e("all")},className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Rinitialiser la recherche"]})]})}),r.jsx("div",{className:"mt-16 bg-gradient-to-r from-primary-500 to-primary-600 rounded-3xl shadow-2xl overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[r.jsxs("div",{className:"p-12 text-white",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-6",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Besoin d'aide personnalise ?"}),r.jsx("p",{className:"text-primary-100 text-lg mb-6 leading-relaxed",children:"Notre quipe support est disponible 24h/24 pour rpondre  toutes vos questions et vous accompagner dans votre projet."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center text-primary-100",children:[r.jsx("span",{className:"w-6 h-6 mr-3",children:""}),r.jsx("span",{children:"Rponse sous 2 heures en moyenne"})]}),r.jsxs("div",{className:"flex items-center text-primary-100",children:[r.jsx("span",{className:"w-6 h-6 mr-3",children:""}),r.jsx("span",{children:"quipe d'experts ddie"})]}),r.jsxs("div",{className:"flex items-center text-primary-100",children:[r.jsx("span",{className:"w-6 h-6 mr-3",children:""}),r.jsx("span",{children:"Solutions personnalises"})]})]})]}),r.jsx("div",{className:"bg-white p-12 flex flex-col justify-center",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("a",{href:"/contact",className:"w-full inline-flex items-center justify-center px-8 py-4 bg-primary-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 group",children:[r.jsx("span",{className:"mr-3 group-hover:scale-110 transition-transform",children:""}),"Nous contacter"]}),r.jsxs("a",{href:"mailto:support@example.com",className:"w-full inline-flex items-center justify-center px-8 py-4 bg-white text-gray-900 font-semibold rounded-2xl border border-gray-200 hover:border-primary-300 hover:shadow-lg transform hover:scale-105 transition-all duration-200 group",children:[r.jsx("span",{className:"mr-3 group-hover:scale-110 transition-transform",children:""}),"support@example.com"]}),r.jsx("div",{className:"text-center text-gray-500 text-sm mt-4",children:"Disponible 24h/24, 7j/7"})]})})]})})]})})}function Yy(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30",children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-primary-600 via-primary-700 to-primary-800 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((t,e)=>r.jsx("div",{className:"absolute rounded-full bg-white/10 animate-float",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+10}s`}},e))}),r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-400/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary-300/20 rounded-full blur-3xl"}),r.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl mb-12 group hover:bg-white/15 transition-all duration-500",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}),r.jsx("span",{className:"text-white/90 text-sm font-semibold tracking-wide",children:"PLATEFORME INNOVANTE 2024"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-6xl md:text-8xl lg:text-9xl font-black text-white mb-4 leading-none",children:r.jsx("span",{className:"bg-gradient-to-r from-white via-primary-100 to-primary-200 bg-clip-text text-transparent animate-gradient-x",children:"Alpha"})}),r.jsx("h2",{className:"text-5xl md:text-7xl font-black text-white",children:r.jsx("span",{className:"bg-gradient-to-r from-primary-200 via-white to-primary-100 bg-clip-text text-transparent animate-gradient-x-reverse",children:"Cadeau"})})]}),r.jsxs("p",{className:"text-xl md:text-2xl text-primary-100 mb-12 max-w-4xl mx-auto leading-relaxed font-light",children:["La rvolution des"," ",r.jsx("span",{className:"text-white font-semibold bg-white/10 px-2 py-1 rounded-lg",children:"cadeaux personnaliss"})," ","qui connecte l'innovation et la passion"]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8 max-w-2xl mx-auto",children:[{number:"10K+",label:"Crateurs Talentueux",icon:""},{number:"50K+",label:"Designs Exclusifs",icon:""},{number:"100+",label:"Villes Actives",icon:""},{number:"4.9/5",label:"Satisfaction Client",icon:""}].map((t,e)=>r.jsx("div",{className:"text-center group",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-white/40 transition-all duration-500 group-hover:scale-105 group-hover:bg-white/15",children:[r.jsx("div",{className:"text-3xl mb-2 transform group-hover:scale-110 transition-transform duration-300",children:t.icon}),r.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:t.number}),r.jsx("div",{className:"text-white/70 text-sm font-medium",children:t.label})]})},e))})]})}),r.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:r.jsx("div",{className:"animate-bounce",children:r.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center",children:r.jsx("div",{className:"w-1 h-3 bg-white/70 rounded-full mt-2 animate-pulse"})})})})]}),r.jsxs("div",{className:"relative py-24 lg:py-32",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute top-1/4 left-10 w-72 h-72 bg-primary-100/10 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-1/4 right-10 w-96 h-96 bg-blue-100/10 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-50 border border-primary-200 rounded-2xl mb-6",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-primary-700 text-sm font-semibold",children:"NOTRE MISSION"})]}),r.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-8",children:["Redfinir"," ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-600 via-primary-700 to-primary-800",children:"l'art du cadeau"})]}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-4xl mx-auto leading-relaxed font-light",children:"Nous crons des expriences uniques o chaque cadeau raconte une histoire, en connectant la crativit des artistes avec l'expertise des artisans locaux."})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-24",children:[{icon:"",title:"Innovation Crative",description:"Une plateforme qui repousse les limites de la personnalisation avec des technologies avances et une vision artistique.",color:"from-purple-500 to-pink-500",features:["IA de personnalisation","Rendu 3D temps rel","Bibliothque exclusive"]},{icon:"",title:"Impact Local Positif",description:"Nous soutenons les conomies locales et rduisons notre empreinte cologique grce  une production responsable.",color:"from-emerald-500 to-green-500",features:["Circuit court","Matriaux durables","Empreinte carbone rduite"]},{icon:"",title:"Excellence Oprationnelle",description:"Un processus optimis de la commande  la livraison, garantissant qualit et rapidit exceptionnelles.",color:"from-orange-500 to-amber-500",features:["Livraison express","Qualit certifie","Support premium"]}].map((t,e)=>r.jsx("div",{className:"group perspective-1000",children:r.jsxs("div",{className:"relative bg-white rounded-3xl p-8 shadow-2xl shadow-gray-200/50 border border-gray-100 group-hover:shadow-3xl group-hover:scale-105 transition-all duration-700 transform-style-3d h-full",children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.color} opacity-5 rounded-3xl`}),r.jsx("div",{className:"relative mb-8",children:r.jsx("div",{className:`w-24 h-24 bg-gradient-to-r ${t.color} rounded-3xl flex items-center justify-center mx-auto transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-lg`,children:r.jsx("span",{className:"text-4xl",children:t.icon})})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-4 relative",children:t.title}),r.jsx("p",{className:"text-gray-600 text-center leading-relaxed mb-6 font-light",children:t.description}),r.jsx("div",{className:"space-y-2",children:t.features.map((s,n)=>r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[r.jsx("div",{className:`w-2 h-2 bg-gradient-to-r ${t.color} rounded-full`}),r.jsx("span",{children:s})]},n))})]})},e))}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-4xl shadow-2xl shadow-gray-200/30 border border-gray-100/50 overflow-hidden",children:r.jsxs("div",{className:"p-12 lg:p-16",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-2xl mb-6",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-blue-700 text-sm font-semibold",children:"PROCESSUS INNOVANT"})]}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["L'excellence en"," ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-800",children:"4 tapes"})]}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-light",children:"Un parcours fluide et transparent, de l'inspiration  la rception de votre cadeau unique"})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-16 items-center",children:[r.jsxs("div",{className:"space-y-8 relative",children:[r.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary-200 via-primary-400 to-primary-200"}),[{step:"01",title:"Inspiration & Dcouverte",description:"Explorez notre galerie curatoriale de designs exclusifs ou importez votre cration personnelle.",icon:"",color:"from-purple-500 to-pink-500"},{step:"02",title:"Personnalisation Avance",description:"Utilisez nos outils IA pour visualiser et ajuster chaque dtail en temps rel.",icon:"",color:"from-blue-500 to-cyan-500"},{step:"03",title:"Fabrication Locale Matrise",description:"Notre rseau d artisans experts transforme votre vision en ralit avec un savoir-faire exceptionnel.",icon:"",color:"from-green-500 to-emerald-500"},{step:"04",title:"Livraison & Exprience Client",description:"Rceptionnez votre uvre soigneusement emballe, avec un suivi transparent et un service premium.",icon:"",color:"from-orange-500 to-amber-500"}].map((t,e)=>r.jsxs("div",{className:"flex gap-6 group relative",children:[r.jsxs("div",{className:"flex-shrink-0 relative z-10",children:[r.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${t.color} rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-lg transform group-hover:scale-110 group-hover:rotate-5 transition-all duration-500`,children:t.step}),r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center transform group-hover:scale-125 transition-transform duration-300",children:r.jsx("span",{className:"text-sm",children:t.icon})})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-gray-800 transition-colors duration-300",children:t.title}),r.jsx("p",{className:"text-gray-600 leading-relaxed font-light",children:t.description})]})]},e))]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-96 h-96 bg-gradient-to-br from-primary-500 to-primary-600 rounded-4xl flex items-center justify-center shadow-2xl transform hover:scale-105 transition-transform duration-700",children:r.jsxs("div",{className:"text-center text-white p-8",children:[r.jsx("div",{className:"text-6xl mb-6 transform hover:scale-110 transition-transform duration-300",children:""}),r.jsx("div",{className:"text-2xl font-bold mb-4",children:"Exprience Unique"}),r.jsxs("div",{className:"space-y-1 text-primary-100 font-light",children:[r.jsx("div",{children:"Design Personnalis"}),r.jsx("div",{children:"Qualit Artisanale"}),r.jsx("div",{children:"Livraison Premium"})]})]})}),r.jsx("div",{className:"absolute -top-6 -left-6 w-20 h-20 bg-yellow-400 rounded-2xl flex items-center justify-center shadow-xl transform hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-green-400 rounded-2xl flex items-center justify-center shadow-xl transform hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("div",{className:"absolute top-1/2 -left-8 w-16 h-16 bg-blue-400 rounded-2xl flex items-center justify-center shadow-xl transform hover:scale-110 transition-transform duration-300",children:r.jsx("span",{className:"text-xl",children:""})})]})})]})]})})]})]}),r.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800 py-24 lg:py-32 overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-primary-500/10 to-transparent"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-primary-400/5 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute top-1/2 left-1/4 w-64 h-64 bg-blue-400/5 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white mb-8",children:["Prt "," ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-400 via-primary-300 to-primary-200 animate-gradient-x",children:"crer l'extraordinaire"}),"?"]}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed max-w-3xl mx-auto font-light",children:"Rejoignez une communaut qui transforme la crativit en moments inoubliables. Ensemble, redfinissons l'art du cadeau."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-16",children:[r.jsxs("a",{href:"/register",className:"group relative bg-gradient-to-r from-primary-500 to-primary-600 text-white text-lg font-bold px-14 py-5 rounded-2xl transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-primary-500/25",children:[r.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Commencer l'Aventure",r.jsx("span",{className:"transform group-hover:translate-x-1 transition-transform duration-300",children:""})]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-600 to-primary-700 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),r.jsx("a",{href:"/contact",className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 text-white text-lg font-semibold px-14 py-5 rounded-2xl transition-all duration-500 hover:scale-105 hover:bg-white/20 hover:border-white/40",children:r.jsxs("span",{className:"relative z-10 flex items-center gap-3",children:["Dcouvrir Notre Histoire",r.jsx("span",{className:"transform group-hover:translate-x-1 transition-transform duration-300",children:""})]})})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8 text-gray-400",children:[{value:"100%",label:"coresponsable",icon:""},{value:"24/7",label:"Support Expert",icon:""},{value:"30j",label:"Garantie Bonheur",icon:""},{value:"10K+",label:"Sourires Crs",icon:""}].map((t,e)=>r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"text-2xl mb-2 transform group-hover:scale-110 transition-transform duration-300",children:t.icon}),r.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:t.value}),r.jsx("div",{className:"text-sm text-gray-400 group-hover:text-gray-300 transition-colors duration-300",children:t.label})]},e))})]})]}),r.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        @keyframes gradient-x {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        @keyframes gradient-x-reverse {
          0%, 100% { background-position: 100% 50%; }
          50% { background-position: 0% 50%; }
        }
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        .animate-gradient-x {
          background-size: 200% 200%;
          animation: gradient-x 3s ease infinite;
        }
        .animate-gradient-x-reverse {
          background-size: 200% 200%;
          animation: gradient-x 3s ease infinite reverse;
        }
        .perspective-1000 {
          perspective: 1000px;
        }
        .transform-style-3d {
          transform-style: preserve-3d;
        }
        .shadow-3xl {
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})}function Xy(){const[t,e]=w.useState({name:"",email:"",subject:"",message:""}),[s,n]=w.useState(!1),[i,a]=w.useState(!1),l=async d=>{d.preventDefault(),a(!0),setTimeout(()=>{n(!0),a(!1),e({name:"",email:"",subject:"",message:""}),setTimeout(()=>n(!1),5e3)},1500)},o=[{icon:"",title:"Email",description:"contact@alphacadeau.fr",subtitle:"Rponse sous 24h",color:"from-blue-500 to-blue-600",badge:"Rapide"},{icon:"",title:"Tlphone",description:"+33 1 23 45 67 89",subtitle:"Lun-Ven, 9h-18h",color:"from-green-500 to-green-600",badge:"Direct"},{icon:"",title:"Adresse",description:"123 Avenue des Champs-lyses, 75008 Paris",subtitle:"Sige social",color:"from-purple-500 to-purple-600",badge:"Visite"}],c=[{value:"order",label:"Question sur une commande",icon:""},{value:"product",label:"Information produit",icon:""},{value:"creator",label:"Devenir crateur",icon:""},{value:"provider",label:"Devenir prestataire",icon:""},{value:"partnership",label:"Partenariat",icon:""},{value:"technical",label:"Support technique",icon:""},{value:"other",label:"Autre demande",icon:""}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/10 py-12",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/80 backdrop-blur-sm border border-gray-200/60 rounded-2xl mb-6",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full animate-pulse"}),r.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),r.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}),r.jsx("span",{className:"text-primary-700 text-sm font-semibold",children:"SUPPORT 7J/7"})]}),r.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Parlons de votre"," ",r.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-primary-800",children:"projet"})]}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Notre quipe d'experts est  votre coute pour transformer vos ides en ralit"})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 border border-gray-200/60 shadow-xl",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Envoyez-nous un message"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Remplissez le formulaire ci-dessous"})]})]}),s&&r.jsx("div",{className:"mb-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl animate-fade-in",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-2xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl text-white",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-green-900 text-lg",children:"Message envoy !"}),r.jsx("p",{className:"text-green-700",children:"Nous vous rpondrons dans les plus brefs dlais."})]})]})}),r.jsxs("form",{onSubmit:l,className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Nom complet *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",required:!0,value:t.name,onChange:d=>e({...t,name:d.target.value}),className:"w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300 placeholder-gray-400",placeholder:"Jean Dupont"}),r.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-primary-500 transition-colors duration-300",children:""})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Email *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",required:!0,value:t.email,onChange:d=>e({...t,email:d.target.value}),className:"w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300 placeholder-gray-400",placeholder:"jean@exemple.fr"}),r.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-primary-500 transition-colors duration-300",children:""})]})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Sujet de votre message *"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{required:!0,value:t.subject,onChange:d=>e({...t,subject:d.target.value}),className:"w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300 appearance-none",children:[r.jsx("option",{value:"",children:"Choisissez un sujet"}),c.map(d=>r.jsxs("option",{value:d.value,children:[d.icon," ",d.label]},d.value))]}),r.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:""})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Votre message *"}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{required:!0,rows:6,value:t.message,onChange:d=>e({...t,message:d.target.value}),className:"w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300 placeholder-gray-400 resize-none",placeholder:"Dcrivez-nous votre projet, vos questions ou vos besoins..."}),r.jsx("div",{className:"absolute right-4 top-4 text-gray-400 group-focus-within:text-primary-500 transition-colors duration-300",children:""})]})]}),r.jsx("button",{type:"submit",disabled:i,className:"w-full flex items-center justify-center gap-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white py-5 px-8 rounded-2xl hover:from-primary-700 hover:to-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-500 font-semibold text-lg shadow-lg hover:shadow-xl hover:scale-105",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Envoi en cours..."]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),"Envoyer mon message",r.jsx("span",{className:"text-xl",children:""})]})})]})]}),r.jsx("div",{className:"absolute -z-10 -top-6 -left-6 w-24 h-24 bg-primary-200/20 rounded-full blur-xl"}),r.jsx("div",{className:"absolute -z-10 -bottom-6 -right-6 w-32 h-32 bg-blue-200/20 rounded-full blur-xl"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"space-y-6",children:o.map((d,u)=>r.jsx("div",{className:"group",children:r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 border border-gray-200/60 shadow-lg hover:shadow-xl transition-all duration-500 group-hover:scale-105",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${d.color} rounded-2xl flex items-center justify-center flex-shrink-0 transform group-hover:scale-110 transition-transform duration-300`,children:r.jsx("span",{className:"text-2xl text-white",children:d.icon})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:d.title}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-semibold",children:d.badge})]}),r.jsx("p",{className:"text-lg font-semibold text-gray-800 mb-1",children:d.description}),r.jsx("p",{className:"text-gray-600 text-sm",children:d.subtitle})]})]})})},u))}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-8 border border-blue-200/60 shadow-lg",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-2xl flex items-center justify-center",children:r.jsx("span",{className:"text-xl text-white",children:""})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Horaires d'ouverture"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"Notre quipe est  votre coute"})]})]}),r.jsx("div",{className:"space-y-4",children:[{days:"Lundi - Vendredi",hours:"9h - 18h",status:"ouvert"},{days:"Samedi",hours:"10h - 16h",status:"ouvert"},{days:"Dimanche",hours:"Ferm",status:"closed"}].map((d,u)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-xl",children:[r.jsx("span",{className:"font-medium text-gray-900",children:d.days}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`font-semibold ${d.status==="closed"?"text-gray-500":"text-blue-700"}`,children:d.hours}),r.jsx("div",{className:`w-2 h-2 rounded-full ${d.status==="closed"?"bg-gray-400":"bg-green-500 animate-pulse"}`})]})]},u))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center border border-gray-200/60",children:[r.jsx("div",{className:"text-2xl font-bold text-primary-600 mb-1",children:"24h"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Dlai de rponse"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center border border-gray-200/60",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"98%"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Satisfaction client"})]})]})]})]}),r.jsxs("div",{className:"mt-16 text-center",children:[r.jsxs("p",{className:"text-gray-600 mb-6",children:["Questions frquentes ? Consultez notre"," ",r.jsx("a",{href:"/faq",className:"text-primary-600 hover:text-primary-700 font-semibold underline",children:"centre d'aide"})]}),r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["Livraison","Paiement","Retours","Crateurs","Prestataires"].map(d=>r.jsx("a",{href:`/faq#${d.toLowerCase()}`,className:"px-4 py-2 bg-white/50 border border-gray-200 rounded-xl hover:bg-white hover:border-gray-300 transition-all duration-300 text-gray-700 hover:text-gray-900",children:d},d))})]})]}),r.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
      `})]})}function Zy(){const t=tt(),[e,s]=w.useState([{id:"1",designId:"design-1",designTitle:"Design Gomtrique Moderne",designImage:"https://images.unsplash.com/photo-1549465220-1a8b9238cd48?w=400&h=400&fit=crop",supportName:"T-shirt Premium",quantity:2,price:24.99,customization:{size:"L",color:"noir",text:"AlphaCadeau"}},{id:"2",designId:"design-2",designTitle:"Illustration Florale",designImage:"https://images.unsplash.com/photo-1580995176441-92c8f0b94c77?w=400&h=400&fit=crop",supportName:"Mug Cramique",quantity:1,price:14.99,customization:{color:"blanc"}}]),n=(u,m)=>{m<1||s(g=>g.map(y=>y.id===u?{...y,quantity:m}:y))},i=u=>{s(m=>m.filter(g=>g.id!==u))},a=e.reduce((u,m)=>u+m.price*m.quantity,0),l=a>50?0:5.99,o=a+l,c=50,d=c-a;return e.length===0?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-gray-100/50 py-12",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-lg",children:r.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Votre panier est vide"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-md mx-auto leading-relaxed",children:"Dcouvrez nos designs exclusifs et crez des cadeaux uniques"}),r.jsxs(C,{to:"/designs",className:"inline-flex items-center gap-3 bg-primary-600 text-white px-8 py-4 rounded-2xl hover:bg-primary-700 transition-all duration-300 font-semibold text-lg shadow-lg hover:shadow-xl hover:scale-105",children:[r.jsx("span",{children:""}),"Explorer la Galerie",r.jsx("span",{className:"text-xl",children:""})]})]})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-gray-100/50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Mon Panier"}),r.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-600",children:[r.jsxs("span",{className:"bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm font-semibold",children:[e.length," article",e.length>1?"s":""]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Total: ",o.toFixed(2)," "]})]})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.map(u=>r.jsx("div",{className:"group relative",children:r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 border border-gray-200/60 shadow-sm hover:shadow-xl transition-all duration-500 group-hover:scale-105 group-hover:border-primary-200/50",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("div",{className:"w-28 h-28 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl overflow-hidden shadow-lg",children:r.jsx("img",{src:u.designImage,alt:u.designTitle,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"})}),r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg",children:u.quantity})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 truncate mb-1",children:u.designTitle}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-3",children:[r.jsx("span",{className:"bg-gray-100 px-3 py-1 rounded-lg font-medium",children:u.supportName}),r.jsxs("span",{className:"text-lg font-bold text-primary-600",children:[u.price.toFixed(2)," "]})]})]}),r.jsx("button",{onClick:()=>i(u.id),className:"flex-shrink-0 w-10 h-10 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all duration-300 flex items-center justify-center hover:scale-110",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),u.customization&&r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Personnalisation:"}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.customization.size&&r.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg shadow-sm",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{className:"font-medium",children:u.customization.size})]}),u.customization.color&&r.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg shadow-sm",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{className:"font-medium capitalize",children:u.customization.color})]}),u.customization.text&&r.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-lg shadow-sm",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsxs("span",{className:"font-medium",children:['"',u.customization.text,'"']})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Quantit:"}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-xl p-1",children:[r.jsx("button",{onClick:()=>n(u.id,u.quantity-1),className:"w-10 h-10 flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-white rounded-lg transition-all duration-300 hover:scale-110",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),r.jsx("span",{className:"w-8 text-center font-bold text-gray-900",children:u.quantity}),r.jsx("button",{onClick:()=>n(u.id,u.quantity+1),className:"w-10 h-10 flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-white rounded-lg transition-all duration-300 hover:scale-110",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[(u.price*u.quantity).toFixed(2)," "]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[u.quantity,"  ",u.price.toFixed(2)," "]})]})]})]})]})})},u.id))}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 border border-gray-200/60 shadow-lg sticky top-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{children:""}),"Rcapitulatif"]}),r.jsxs("div",{className:"space-y-4 mb-6 pb-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[r.jsx("span",{children:"Sous-total"}),r.jsxs("span",{className:"font-semibold",children:[a.toFixed(2)," "]})]}),r.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[r.jsx("span",{children:"Livraison"}),r.jsx("span",{className:`font-semibold ${l===0?"text-green-600":""}`,children:l===0?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{children:""}),"Gratuite"]}):`${l.toFixed(2)} `})]}),a<c&&r.jsxs("div",{className:"pt-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[r.jsxs("span",{children:["Livraison gratuite  ",c," "]}),r.jsxs("span",{children:[d.toFixed(2),"  restants"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-2 rounded-full transition-all duration-1000",style:{width:`${a/c*100}%`}})})]})]}),r.jsxs("div",{className:"flex justify-between items-center text-xl font-bold text-gray-900 mb-8",children:[r.jsx("span",{children:"Total TTC"}),r.jsxs("span",{className:"text-2xl text-primary-600",children:[o.toFixed(2)," "]})]}),r.jsxs("button",{onClick:()=>t("/order/confirm"),className:"w-full flex items-center justify-center gap-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white py-4 px-6 rounded-2xl hover:from-primary-700 hover:to-primary-800 transition-all duration-300 font-semibold text-lg shadow-lg hover:shadow-xl hover:scale-105 mb-4",children:[r.jsx("span",{children:""}),"Finaliser ma commande",r.jsx("span",{className:"text-xl",children:""})]}),r.jsxs(C,{to:"/designs",className:"w-full flex items-center justify-center gap-2 text-gray-700 hover:text-gray-900 font-medium py-3 px-6 border-2 border-gray-300 rounded-2xl hover:border-gray-400 transition-all duration-300 hover:scale-105",children:[r.jsx("span",{children:""}),"Continuer mes achats"]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"flex justify-center gap-6 text-gray-500",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-1",children:""}),r.jsx("div",{className:"text-xs",children:"Paiement scuris"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-1",children:""}),r.jsx("div",{className:"text-xs",children:"Livraison rapide"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl mb-1",children:""}),r.jsx("div",{className:"text-xs",children:"Qualit premium"})]})]})})]})})]})]})})}function eb(){const[t,e]=w.useState([]),[s,n]=w.useState(!0),[i,a]=w.useState("all"),[l,o]=w.useState("price");w.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:g,error:y}=await R.from("supports").select("*").eq("available",!0).order("base_price");if(y)throw y;e(g||[])}catch(g){console.error("Error fetching supports:",g)}finally{n(!1)}},d=["all",...Array.from(new Set(t.map(g=>g.category).filter(Boolean)))],u=t.filter(g=>i==="all"||g.category===i).sort((g,y)=>{switch(l){case"price":return g.base_price-y.base_price;case"time":return g.production_time_days-y.production_time_days;case"name":return g.name.localeCompare(y.name);default:return 0}}),m=g=>({textile:"",decoration:"",accessoire:"",digital:"",papeterie:""})[g]||"";return s?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50/30 to-yellow-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ne,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Chargement des supports..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50/30 to-yellow-50/20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-orange-500 to-amber-600 rounded-3xl shadow-2xl mb-8",children:r.jsx("span",{className:"text-4xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-6",children:"Nos Supports de Cration"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Dcouvrez notre collection exclusive de supports pour donner vie  vos designs. Chaque produit est fabriqu avec soin par nos artisans partenaires."})]}),t.length>0&&r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:t.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Supports disponibles"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:Math.min(...t.map(g=>g.production_time_days))}),r.jsx("div",{className:"text-sm text-gray-600",children:"Jours min. de production"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:Math.max(...t.map(g=>g.production_time_days))}),r.jsx("div",{className:"text-sm text-gray-600",children:"Jours max. de production"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-white/60 shadow-lg",children:[r.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[Math.min(...t.map(g=>g.base_price)),""]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Prix  partir de"})]})]}),t.length>0&&r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8 mb-12",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Catgories"]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:d.map(g=>r.jsxs("button",{onClick:()=>a(g||""),className:`inline-flex items-center gap-2 px-4 py-3 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 ${i===g?"bg-gradient-to-r from-orange-500 to-amber-600 text-white shadow-lg":"bg-white text-gray-700 border border-gray-200 hover:border-orange-300 hover:shadow-md"}`,children:[r.jsx("span",{children:g==="all"?"":m(g||"")}),g==="all"?"Tous":g]},g))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Trier par"]}),r.jsx("div",{className:"flex flex-wrap gap-3",children:[{key:"price",label:"Prix",icon:""},{key:"time",label:"Dlai",icon:""},{key:"name",label:"Nom",icon:""}].map(g=>r.jsxs("button",{onClick:()=>o(g.key),className:`inline-flex items-center gap-2 px-4 py-3 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 ${l===g.key?"bg-gradient-to-r from-orange-500 to-amber-600 text-white shadow-lg":"bg-white text-gray-700 border border-gray-200 hover:border-orange-300 hover:shadow-md"}`,children:[r.jsx("span",{children:g.icon}),g.label]},g.key))})]})]})}),t.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Supports  venir"}),r.jsx("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:"Nous prparons une collection exceptionnelle de supports pour vos designs. Revenez bientt pour dcouvrir toutes nos options !"}),r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-orange-600 to-amber-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Explorer les designs"]})]})}):u.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Aucun support trouv"}),r.jsx("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:"Aucun support ne correspond  vos critres de recherche. Essayez de modifier vos filtres ou contactez-nous pour une demande spciale."}),r.jsxs("button",{onClick:()=>a("all"),className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-orange-600 to-amber-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Rinitialiser les filtres"]})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(g=>r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 overflow-hidden transition-all duration-500 hover:shadow-2xl transform hover:scale-105 group",children:[r.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[g.image_url?r.jsx("img",{src:g.image_url,alt:g.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("span",{className:"text-6xl text-gray-400",children:""})}),g.category&&r.jsx("div",{className:"absolute top-4 left-4",children:r.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-black/80 backdrop-blur-sm text-white text-sm font-semibold rounded-full border border-white/20",children:[r.jsx("span",{children:m(g.category)}),g.category]})}),r.jsx("div",{className:"absolute top-4 right-4",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-2 bg-gradient-to-r from-orange-500 to-amber-600 text-white font-bold rounded-2xl shadow-lg",children:[g.base_price.toFixed(2)," "]})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-orange-600 transition-colors duration-300",children:g.name}),g.description&&r.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:g.description}),g.features&&g.features.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4",children:""}),"Caractristiques"]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.features.slice(0,3).map((y,j)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-orange-50 text-orange-700 rounded-lg text-xs font-medium border border-orange-200",children:y},j)),g.features.length>3&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs",children:["+",g.features.length-3]})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"w-5 h-5",children:""}),r.jsxs("span",{children:[g.production_time_days," jours"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"w-5 h-5",children:""}),r.jsx("span",{children:"Production locale"})]})]}),r.jsxs(C,{to:"/designs",className:"w-full inline-flex items-center justify-center gap-3 py-3 px-6 bg-gradient-to-r from-orange-600 to-amber-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 group/btn",children:[r.jsx("span",{className:"group-hover/btn:scale-110 transition-transform",children:""}),r.jsx("span",{children:"Explorer les designs"})]})]})]},g.id))}),r.jsx("div",{className:"mt-16 bg-gradient-to-r from-orange-500 to-amber-600 rounded-3xl shadow-2xl overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[r.jsxs("div",{className:"p-12 text-white",children:[r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-6",children:r.jsx("span",{className:"text-2xl",children:""})}),r.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Support personnalis"}),r.jsx("p",{className:"text-orange-100 text-lg mb-6 leading-relaxed",children:"Vous avez un projet spcifique ou besoin de conseils pour choisir le support idal ? Notre quipe d'experts est l pour vous accompagner."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center text-orange-100",children:[r.jsx("span",{className:"w-6 h-6 mr-3",children:""}),r.jsx("span",{children:"Conseils personnaliss gratuits"})]}),r.jsxs("div",{className:"flex items-center text-orange-100",children:[r.jsx("span",{className:"w-6 h-6 mr-3",children:""}),r.jsx("span",{children:"Rponse sous 24h"})]}),r.jsxs("div",{className:"flex items-center text-orange-100",children:[r.jsx("span",{className:"w-6 h-6 mr-3",children:""}),r.jsx("span",{children:"Expertise de nos artisans"})]})]})]}),r.jsx("div",{className:"bg-white p-12 flex flex-col justify-center",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs(C,{to:"/contact",className:"w-full inline-flex items-center justify-center gap-3 px-8 py-4 bg-orange-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 group",children:[r.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"Nous contacter"]}),r.jsxs("a",{href:"tel:+33123456789",className:"w-full inline-flex items-center justify-center gap-3 px-8 py-4 bg-white text-gray-900 font-semibold rounded-2xl border border-gray-200 hover:border-orange-300 hover:shadow-lg transform hover:scale-105 transition-all duration-200 group",children:[r.jsx("span",{className:"group-hover:scale-110 transition-transform",children:""}),"+33 1 23 45 67 89"]})]})})]})})]})})}function tb(){const{user:t}=ee(),[e,s]=w.useState([]),[n,i]=w.useState(!0),[a,l]=w.useState(null);w.useEffect(()=>{t&&o()},[t]);const o=async()=>{try{const{data:u,error:m}=await R.from("favorites").select(`
          id,
          created_at,
          designs!inner(id, title, image_url, price, views, favorites, tags)
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(m)throw m;s(u||[])}catch(u){console.error("Error fetching favorites:",u)}finally{i(!1)}},c=async u=>{l(u);try{const{error:m}=await R.from("favorites").delete().eq("id",u);if(m)throw m;setTimeout(()=>{s(e.filter(g=>g.id!==u)),l(null)},300)}catch(m){console.error("Error removing favorite:",m),l(null)}},d=async()=>{if(confirm("tes-vous sr de vouloir supprimer tous vos favoris ?"))try{const{error:u}=await R.from("favorites").delete().eq("user_id",t.id);if(u)throw u;s([])}catch(u){console.error("Error removing all favorites:",u)}};return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-pink-50/30 to-red-50/20 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ne,{size:"lg"}),r.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:"Chargement de vos favoris..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-pink-50/30 to-red-50/20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-pink-500 to-red-500 rounded-3xl shadow-2xl mb-8",children:r.jsx("span",{className:"text-4xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-4",children:"Mes Favoris"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Retrouvez tous vos designs coup de cur en un seul endroit"})]}),e.length>0&&r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8 mb-12",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent",children:e.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Designs favoris"})]}),r.jsx("div",{className:"h-12 w-px bg-gray-200"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.reduce((u,m)=>u+m.designs.favorites,0)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Favoris totaux"})]})]}),r.jsxs("div",{className:"mt-6 lg:mt-0 flex gap-4",children:[r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Explorer plus"]}),r.jsxs("button",{onClick:d,className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 font-semibold rounded-2xl border border-gray-200 hover:border-red-300 hover:bg-red-50 hover:text-red-700 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Tout supprimer"]})]})]})}),e.length===0?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl flex items-center justify-center mx-auto mb-6",children:r.jsx("span",{className:"text-5xl",children:""})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Aucun favori pour le moment"}),r.jsx("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:"Commencez  collectionner vos designs prfrs pour les retrouver facilement plus tard"}),r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-3",children:""}),"Dcouvrir le catalogue"]})]})}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:e.map(u=>r.jsxs("div",{className:`group bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg hover:shadow-2xl border border-white/60 overflow-hidden transition-all duration-500 transform hover:scale-105 hover:-translate-y-2 ${a===u.id?"opacity-0 scale-95":"opacity-100"}`,children:[r.jsxs(C,{to:`/designs/${u.designs.id}`,children:[r.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[r.jsx("img",{src:u.designs.image_url,alt:u.designs.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-white/90 backdrop-blur-sm text-pink-600 border border-white/60",children:[r.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-1"}),"Favori"]})}),r.jsx("div",{className:"absolute bottom-4 left-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsxs("div",{className:"flex items-center justify-between text-white text-sm",children:[r.jsxs("span",{className:"flex items-center gap-1 bg-black/40 backdrop-blur-sm px-3 py-1 rounded-full",children:[r.jsx("span",{children:""}),u.designs.views]}),r.jsxs("span",{className:"flex items-center gap-1 bg-black/40 backdrop-blur-sm px-3 py-1 rounded-full",children:[r.jsx("span",{children:""}),u.designs.favorites]})]})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-1 group-hover:text-primary-600 transition-colors duration-200 text-lg",children:u.designs.title}),u.designs.tags.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[u.designs.tags.slice(0,2).map((m,g)=>r.jsxs("span",{className:"text-xs bg-gradient-to-r from-pink-50 to-pink-100 text-pink-700 px-2 py-1 rounded-lg font-medium border border-pink-200",children:["#",m]},g)),u.designs.tags.length>2&&r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-lg",children:["+",u.designs.tags.length-2]})]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-lg bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:[u.designs.price.toFixed(2)," "]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Ajout le ",new Date(u.created_at).toLocaleDateString("fr-FR")]})]})})]})]}),r.jsx("button",{onClick:m=>{m.preventDefault(),c(u.id)},disabled:a===u.id,className:"absolute top-4 right-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg flex items-center justify-center hover:bg-red-50 hover:scale-110 transition-all duration-300 opacity-0 group-hover:opacity-100 group-focus-within:opacity-100",children:a===u.id?r.jsx("div",{className:"w-5 h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):r.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]},u.id))}),e.length>0&&r.jsx("div",{className:"mt-16 text-center",children:r.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-red-50 rounded-3xl p-8 border border-pink-200",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Continuez votre collection"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Dcouvrez de nouveaux designs et ajoutez-les  vos favoris pour crer votre collection personnalise"}),r.jsxs(C,{to:"/designs",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[r.jsx("span",{className:"mr-2",children:""}),"Explorer les nouveauts"]})]})})]})})}function rb(){const t=new Date().toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50/30 to-blue-50/20",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-3xl shadow-2xl mb-8",children:r.jsx("span",{className:"text-4xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-6",children:"Conditions Gnrales d'Utilisation"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Les rgles qui encadrent notre relation pour une exprience AlphaCadeau transparente et scurise"})]}),r.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-3xl shadow-lg p-6 mb-12 text-white text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-lg",children:"Dernire mise  jour"}),r.jsx("p",{className:"text-indigo-100",children:t})]})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center text-2xl text-blue-600",children:"1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Objet"]}),r.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Les prsentes Conditions Gnrales d'Utilisation (CGU) rgissent l'utilisation de la plateforme AlphaCadeau accessible  l'adresse alphacadeau.fr. L'utilisation de la plateforme implique l'acceptation pleine et entire des prsentes CGU."})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-green-100 to-green-200 rounded-2xl flex items-center justify-center text-2xl text-green-600",children:"2"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Inscription"]}),r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Pour utiliser les services de la plateforme, l'utilisateur doit crer un compte en fournissant des informations exactes et  jour."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{icon:"",title:"Confidentialit",description:"L'utilisateur est responsable de la confidentialit de ses identifiants"},{icon:"",title:"Responsabilit",description:"Toute utilisation du compte est prsume effectue par son titulaire"},{icon:"",title:"Scurit",description:"Notification immdiate requise en cas d'utilisation non autorise"},{icon:"",title:"Exactitude",description:"Informations personnelles exactes et rgulirement mises  jour"}].map((e,s)=>r.jsxs("div",{className:"bg-gray-50/80 rounded-2xl p-4 border border-gray-200 hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-lg shadow-sm",children:e.icon}),r.jsx("h3",{className:"font-semibold text-gray-900",children:e.title})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]},s))})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center text-2xl text-purple-600",children:"3"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Services proposs"]}),r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"AlphaCadeau met  disposition une plateforme complte permettant  chaque acteur de valoriser ses comptences :"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{role:"Client",icon:"",description:"Acheter des produits personnaliss  partir de designs crs par des artistes",color:"from-blue-500 to-blue-600"},{role:"Crateur",icon:"",description:"Proposer vos designs et percevoir des royalties sur les ventes",color:"from-purple-500 to-purple-600"},{role:"Prestataire",icon:"",description:"Produire localement les commandes assignes selon vos spcialits",color:"from-green-500 to-green-600"}].map((e,s)=>r.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-gray-50 to-gray-100/50 rounded-2xl border border-gray-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${e.color} rounded-2xl flex items-center justify-center text-2xl text-white shadow-lg mx-auto mb-4`,children:e.icon}),r.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:e.role}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.description})]},s))})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-orange-100 to-orange-200 rounded-2xl flex items-center justify-center text-2xl text-orange-600",children:"4"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Proprit intellectuelle"]}),r.jsx("div",{className:"bg-yellow-50/80 rounded-2xl p-6 border border-yellow-200 mb-6",children:r.jsxs("p",{className:"text-yellow-800 text-lg leading-relaxed",children:[r.jsx("strong",{children:" Attention :"})," Les designs proposs sur la plateforme sont la proprit exclusive de leurs crateurs. Toute reproduction, reprsentation ou utilisation non autorise est strictement interdite."]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-green-50/80 rounded-2xl p-6 border border-green-200",children:[r.jsxs("h4",{className:"font-semibold text-green-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Garanties des crateurs"]}),r.jsx("p",{className:"text-green-800 text-sm",children:"Les crateurs garantissent dtenir tous les droits ncessaires sur les designs qu'ils soumettent et qu'ils ne portent pas atteinte aux droits de tiers."})]}),r.jsxs("div",{className:"bg-red-50/80 rounded-2xl p-6 border border-red-200",children:[r.jsxs("h4",{className:"font-semibold text-red-900 mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Interdictions"]}),r.jsx("p",{className:"text-red-800 text-sm",children:"Reproduction, modification, distribution ou utilisation commerciale non autorise des designs sans l'accord explicite du crateur."})]})]})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-red-100 to-red-200 rounded-2xl flex items-center justify-center text-2xl text-red-600",children:"5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Commandes et paiement"]}),r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Les commandes passes sur la plateforme font l'objet d'un contrat de vente entre le client et AlphaCadeau."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{icon:"",title:"Paiement scuris",description:"Carte bancaire ou PayPal"},{icon:"",title:"Validation",description:"Commande confirme aprs paiement"},{icon:"",title:"Devise",description:"Prix en euros TTC"}].map((e,s)=>r.jsxs("div",{className:"text-center p-4 bg-gray-50/80 rounded-2xl border border-gray-200",children:[r.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-xl shadow-lg mx-auto mb-3",children:e.icon}),r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]},s))}),r.jsx("div",{className:"bg-blue-50/80 rounded-2xl p-6 border border-blue-200",children:r.jsxs("p",{className:"text-blue-800 text-sm leading-relaxed",children:[r.jsx("strong",{children:" Scurit :"})," Toutes les transactions sont chiffres et conformes aux normes PCI-DSS. Aucune donne bancaire n'est stocke sur nos serveurs."]})})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-indigo-100 to-indigo-200 rounded-2xl flex items-center justify-center text-2xl text-indigo-600",children:"7"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Droit de rtractation"]}),r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-100 rounded-2xl p-6 border border-green-200 mb-6",children:r.jsxs("p",{className:"text-green-800 text-lg leading-relaxed",children:[r.jsx("strong",{children:" Protection du consommateur :"})," Conformment au Code de la consommation, le client dispose d'un dlai de 14 jours pour exercer son droit de rtractation."]})}),r.jsx("div",{className:"bg-orange-50/80 rounded-2xl p-6 border border-orange-200",children:r.jsxs("p",{className:"text-orange-800 text-sm leading-relaxed",children:[r.jsx("strong",{children:" Exception :"})," Ce droit ne s'applique pas aux produits personnaliss conformment aux spcifications du client, conformment  l'article L221-28 du Code de la consommation."]})})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center text-2xl text-gray-600",children:"10"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Droit applicable"]}),r.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 rounded-2xl p-6 border border-gray-300",children:r.jsx("p",{className:"text-gray-800 text-lg text-center font-semibold",children:"Les prsentes CGU sont soumises au droit franais. Tout litige sera port devant les tribunaux comptents de Paris."})})]})]})}),r.jsxs("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Questions lgales"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 rounded-2xl p-6 border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Service juridique"]}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4",children:""}),"legal@alphacadeau.fr"]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4",children:""}),"123 Avenue des Champs-lyses"]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4",children:""}),"75008 Paris, France"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100/50 rounded-2xl p-6 border border-purple-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Dlais de traitement"]}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsx("p",{children:" Rponse sous 48h maximum"}),r.jsx("p",{children:" Traitement des litiges sous 30 jours"}),r.jsx("p",{children:" Service disponible en franais et anglais"})]})]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 rounded-3xl p-6 text-center",children:r.jsx("p",{className:"text-gray-700 font-medium",children:"Cette politique de conditions gnrales est soumise au droit franais. Toute modification sera publie sur cette page avec indication de la date de mise  jour."})})]})]})})}function sb(){const t=new Date().toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-blue-500 to-blue-600 rounded-3xl shadow-2xl mb-8",children:r.jsx("span",{className:"text-4xl text-white",children:""})}),r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-6",children:"Politique de Confidentialit"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Chez AlphaCadeau, la protection de vos donnes personnelles est notre priorit absolue"})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-3xl shadow-lg p-6 mb-12 text-white text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:r.jsx("span",{className:"text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-lg",children:"Dernire mise  jour"}),r.jsx("p",{className:"text-blue-100",children:t})]})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center text-2xl text-blue-600",children:"1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Introduction"]}),r.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"AlphaCadeau s'engage  protger la vie prive de ses utilisateurs. Cette politique de confidentialit dcrit comment nous collectons, utilisons et protgeons vos donnes personnelles conformment au Rglement Gnral sur la Protection des Donnes (RGPD) et  la lgislation franaise."})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-green-100 to-green-200 rounded-2xl flex items-center justify-center text-2xl text-green-600",children:"2"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Donnes collectes"]}),r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Nous collectons uniquement les donnes ncessaires au bon fonctionnement de nos services :"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{icon:"",title:"Donnes d'identification",items:["Nom, prnom","Adresse email","Numro de tlphone"]},{icon:"",title:"Donnes de connexion",items:["Adresse IP","Logs de connexion","Cookies essentiels"]},{icon:"",title:"Donnes de paiement",items:["Informations de facturation","Via prestataires scuriss"]},{icon:"",title:"Donnes de navigation",items:["Pages visites","Designs consults","Favoris"]},{icon:"",title:"Donnes de commande",items:["Historique d'achats","Adresses de livraison","Personnalisations"]},{icon:"",title:"Donnes de contenu",items:["Avis clients","Notes et commentaires","valuations"]}].map((e,s)=>r.jsxs("div",{className:"bg-gray-50/80 rounded-2xl p-6 border border-gray-200 hover:shadow-md transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-lg shadow-sm",children:e.icon}),r.jsx("h3",{className:"font-semibold text-gray-900",children:e.title})]}),r.jsx("ul",{className:"space-y-2",children:e.items.map((n,i)=>r.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),n]},i))})]},s))})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center text-2xl text-purple-600",children:"3"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Utilisation des donnes"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:"",title:"Gestion de compte",desc:"Cration et maintenance de votre espace personnel"},{icon:"",title:"Traitement des commandes",desc:"Gestion complte de vos achats et livraisons"},{icon:"",title:"Paiements scuriss",desc:"Traitement des transactions via partenaires certifis"},{icon:"",title:"Amlioration des services",desc:"Optimisation continue de votre exprience"},{icon:"",title:"Notifications",desc:"Informations relatives  vos commandes et comptes"},{icon:"",title:"Obligations lgales",desc:"Respect des rglementations en vigueur"}].map((e,s)=>r.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-gray-50 to-gray-100/50 rounded-2xl border border-gray-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-2xl shadow-lg mx-auto mb-4",children:e.icon}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.desc})]},s))})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-orange-100 to-orange-200 rounded-2xl flex items-center justify-center text-2xl text-orange-600",children:"4"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Partage des donnes"]}),r.jsx("div",{className:"bg-blue-50/80 rounded-2xl p-6 border border-blue-200 mb-6",children:r.jsx("p",{className:"text-lg text-blue-800 text-center font-semibold",children:"Nous ne vendons ni ne louons vos donnes personnelles  des tiers"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{icon:"",title:"Prestataires de production",desc:"Artisans locaux pour la ralisation de vos commandes",necessity:"Ncessaire au service"},{icon:"",title:"Prestataires de paiement",desc:"Stripe, PayPal pour le traitement scuris des transactions",necessity:"Ncessaire au paiement"},{icon:"",title:"Services de livraison",desc:"Transporteurs pour l'acheminement de vos commandes",necessity:"Ncessaire  la livraison"},{icon:"",title:"Autorits lgales",desc:"Sur rquisition judiciaire dans le cadre lgal",necessity:"Obligation lgale"}].map((e,s)=>r.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-lg transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-100 to-blue-200 rounded-xl flex items-center justify-center text-xl",children:e.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),r.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium mt-1",children:e.necessity})]})]}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:e.desc})]},s))})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-red-100 to-red-200 rounded-2xl flex items-center justify-center text-2xl text-red-600",children:"5"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Scurit des donnes"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[{icon:"",title:"Chiffrement SSL",desc:"Toutes les donnes transitent de manire scurise"},{icon:"",title:"Infrastructure certifie",desc:"Hbergement conforme aux normes de scurit"},{icon:"",title:"Audits rguliers",desc:"Contrles priodiques de notre systme"}].map((e,s)=>r.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-red-50 to-red-100/50 rounded-2xl border border-red-200",children:[r.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-xl shadow-lg mx-auto mb-3",children:e.icon}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600",children:e.desc})]},s))}),r.jsx("div",{className:"bg-green-50/80 rounded-2xl p-6 border border-green-200",children:r.jsxs("p",{className:"text-green-800 text-lg leading-relaxed",children:[r.jsx("strong",{children:" Protection des paiements :"})," Les donnes de paiement sont traites exclusivement par des prestataires certifis PCI-DSS et ne sont jamais stockes sur nos serveurs."]})})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-indigo-100 to-indigo-200 rounded-2xl flex items-center justify-center text-2xl text-indigo-600",children:"7"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Vos droits RGPD"]}),r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Conformment au Rglement Gnral sur la Protection des Donnes, vous disposez des droits suivants :"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{icon:"",title:"Droit d'accs",desc:"Obtenir une copie de vos donnes personnelles"},{icon:"",title:"Droit de rectification",desc:"Corriger des donnes inexactes ou incompltes"},{icon:"",title:"Droit  l'effacement",desc:"Demander la suppression de vos donnes"},{icon:"",title:"Droit  la limitation",desc:"Demander la limitation du traitement"},{icon:"",title:"Droit  la portabilit",desc:"Recevoir vos donnes dans un format structur"},{icon:"",title:"Droit d'opposition",desc:"Vous opposer au traitement de vos donnes"}].map((e,s)=>r.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50/80 rounded-2xl border border-gray-200 hover:shadow-md transition-all duration-300",children:[r.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-lg shadow-lg flex-shrink-0",children:e.icon}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.desc})]})]},s))}),r.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl text-white text-center",children:[r.jsx("p",{className:"text-lg font-semibold mb-2",children:"Pour exercer vos droits"}),r.jsx("p",{className:"text-blue-100",children:"Contactez notre Dlgu  la Protection des Donnes"}),r.jsx("p",{className:"text-xl font-bold mt-2",children:"privacy@alphacadeau.fr"})]})]})]})}),r.jsx("section",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center text-2xl text-gray-600",children:"10"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8",children:""}),"Contact"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 rounded-2xl p-6 border border-blue-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Dlgu  la Protection des Donnes"]}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4",children:""}),"privacy@alphacadeau.fr"]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4",children:""}),"123 Avenue des Champs-lyses"]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-4 h-4",children:""}),"75008 Paris, France"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100/50 rounded-2xl p-6 border border-green-200",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"w-5 h-5",children:""}),"Dlais de rponse"]}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsx("p",{children:" Rponse sous 48h maximum"}),r.jsx("p",{children:" Traitement des demandes sous 30 jours"}),r.jsx("p",{children:" Service disponible en franais et anglais"})]})]})]})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 rounded-3xl p-6 text-center",children:r.jsx("p",{className:"text-gray-700 font-medium",children:"Cette politique de confidentialit est soumise au droit franais. Toute modification sera publie sur cette page avec indication de la date de mise  jour."})})]})]})})}const nb=()=>r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"403"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Vous n'avez pas accs  cette page"}),r.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]})}),ib=()=>r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Page non trouve"}),r.jsx("a",{href:"/",className:"btn btn-primary",children:"Retour  l'accueil"})]})});function ab(){const{initialize:t,initialized:e}=ee();return w.useEffect(()=>{t()},[t]),e?r.jsx(up,{children:r.jsx(Mi,{children:r.jsxs(z,{element:r.jsx(Ey,{}),children:[r.jsx(z,{path:"/",element:r.jsx(Cy,{})}),r.jsx(z,{path:"/login",element:r.jsx(Py,{})}),r.jsx(z,{path:"/register",element:r.jsx(Ty,{})}),r.jsx(z,{path:"/designs",element:r.jsx(Ry,{})}),r.jsx(z,{path:"/designs/:id",element:r.jsx(Ay,{})}),r.jsx(z,{path:"/supports",element:r.jsx(eb,{})}),r.jsx(z,{path:"/faq",element:r.jsx(Qy,{})}),r.jsx(z,{path:"/about",element:r.jsx(Yy,{})}),r.jsx(z,{path:"/contact",element:r.jsx(Xy,{})}),r.jsx(z,{path:"/cart",element:r.jsx(Zy,{})}),r.jsx(z,{path:"/terms",element:r.jsx(rb,{})}),r.jsx(z,{path:"/privacy",element:r.jsx(sb,{})}),r.jsx(z,{path:"/unauthorized",element:r.jsx(nb,{})}),r.jsx(z,{path:"/profile",element:r.jsx(ct,{children:r.jsx(Hy,{})})}),r.jsx(z,{path:"/orders",element:r.jsx(ct,{children:r.jsx(Gy,{})})}),r.jsx(z,{path:"/orders/:id/track",element:r.jsx(ct,{children:r.jsx(Jy,{})})}),r.jsx(z,{path:"/order/customize",element:r.jsx(ct,{children:r.jsx(Ly,{})})}),r.jsx(z,{path:"/order/confirm",element:r.jsx(ct,{children:r.jsx(Iy,{})})}),r.jsx(z,{path:"/favorites",element:r.jsx(ct,{children:r.jsx(tb,{})})}),r.jsx(z,{path:"/creator/*",element:r.jsx(ct,{allowedRoles:["creator","admin"],children:r.jsx(zy,{})})}),r.jsx(z,{path:"/provider/*",element:r.jsx(ct,{allowedRoles:["provider","admin"],children:r.jsx(My,{})})}),r.jsx(z,{path:"/admin/*",element:r.jsx(ct,{allowedRoles:["admin"],children:r.jsx(Wy,{})})}),r.jsx(z,{path:"*",element:r.jsx(ib,{})})]})})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}Aa.createRoot(document.getElementById("root")).render(r.jsx(Vl.StrictMode,{children:r.jsx(ab,{})}));
